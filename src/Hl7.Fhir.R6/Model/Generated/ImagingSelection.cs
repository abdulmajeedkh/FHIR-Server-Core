// <auto-generated/>
// Contents of: hl7.fhir.r6.expansions@6.0.0-ballot3, hl7.fhir.r6.core@6.0.0-ballot3

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// A selection of DICOM SOP instances and/or frames
  /// </summary>
  /// <remarks>
  /// A selection of DICOM SOP instances and/or frames within a single Study and Series. This might include additional specifics such as an image region, an Observation UID or a Segmentation Number, allowing linkage to an Observation Resource or transferring this information along with the ImagingStudy Resource.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("ImagingSelection","http://hl7.org/fhir/StructureDefinition/ImagingSelection")]
  public partial class ImagingSelection : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "ImagingSelection";

    /// <summary>
    /// The status of the ImagingSelection.
    /// (url: http://hl7.org/fhir/ValueSet/imagingselection-status)
    /// (system: http://hl7.org/fhir/imagingselection-status)
    /// </summary>
    [FhirEnumeration("ImagingSelectionStatus", "http://hl7.org/fhir/ValueSet/imagingselection-status", "http://hl7.org/fhir/imagingselection-status")]
    public enum ImagingSelectionStatus
    {
      /// <summary>
      /// The selected resources are available..
      /// (system: http://hl7.org/fhir/imagingselection-status)
      /// </summary>
      [EnumLiteral("available"), Description("Available")]
      Available,
      /// <summary>
      /// The imaging selection has been withdrawn following a release.  This electronic record should never have existed, though it is possible that real-world decisions were based on it. (If real-world activity has occurred, the status should be \"inactive\" rather than \"entered-in-error\".).
      /// (system: http://hl7.org/fhir/imagingselection-status)
      /// </summary>
      [EnumLiteral("entered-in-error"), Description("Entered in Error")]
      EnteredInError,
      /// <summary>
      /// The imaging selection is no longer valid.
      /// (system: http://hl7.org/fhir/imagingselection-status)
      /// </summary>
      [EnumLiteral("inactive"), Description("Inactive")]
      Inactive,
      /// <summary>
      /// The system does not know which of the status values currently applies for this request. Note: This concept is not to be used for \"other\" - one of the listed statuses is presumed to apply, it's just not known which one.
      /// (system: http://hl7.org/fhir/imagingselection-status)
      /// </summary>
      [EnumLiteral("unknown"), Description("Unknown")]
      Unknown,
    }

    /// <summary>
    /// The type of 2D coordinates describing a 2D image region.
    /// (url: http://hl7.org/fhir/ValueSet/imagingselection-2dgraphictype)
    /// (system: http://hl7.org/fhir/imagingselection-2dgraphictype)
    /// </summary>
    [FhirEnumeration("ImagingSelection2DGraphicType", "http://hl7.org/fhir/ValueSet/imagingselection-2dgraphictype", "http://hl7.org/fhir/imagingselection-2dgraphictype")]
    public enum ImagingSelection2DGraphicType
    {
      /// <summary>
      /// A single location denoted by a single (x,y) pair.
      /// (system: http://hl7.org/fhir/imagingselection-2dgraphictype)
      /// </summary>
      [EnumLiteral("point"), Description("POINT")]
      Point,
      /// <summary>
      /// A series of connected line segments with ordered vertices denoted by (x,y) triplets; if the first and last vertices are the same it is a closed polygon.
      /// (system: http://hl7.org/fhir/imagingselection-2dgraphictype)
      /// </summary>
      [EnumLiteral("polyline"), Description("POLYLINE")]
      Polyline,
      /// <summary>
      /// Multiple pixels each denoted by a (x,y) pair.
      /// (system: http://hl7.org/fhir/imagingselection-2dgraphictype)
      /// </summary>
      [EnumLiteral("multipoint"), Description("MULTIPOINT")]
      Multipoint,
      /// <summary>
      /// Two points shall be present; the first point is to be interpreted as the center and the second point as a point on the circumference of a circle, some form of implementation dependent representation of which is to be drawn.
      /// (system: http://hl7.org/fhir/imagingselection-2dgraphictype)
      /// </summary>
      [EnumLiteral("circle"), Description("CIRCLE")]
      Circle,
      /// <summary>
      /// An ellipse defined by four (x,y) pairs, the first two pairs specifying the endpoints of the major axis and the second two pairs specifying the endpoints of the minor axis.
      /// (system: http://hl7.org/fhir/imagingselection-2dgraphictype)
      /// </summary>
      [EnumLiteral("ellipse"), Description("ELLIPSE")]
      Ellipse,
    }

    /// <summary>
    /// The type of coordinates describing a 3D image region.
    /// (url: http://hl7.org/fhir/ValueSet/imagingselection-3dgraphictype)
    /// (system: http://hl7.org/fhir/imagingselection-3dgraphictype)
    /// </summary>
    [FhirEnumeration("ImagingSelection3DGraphicType", "http://hl7.org/fhir/ValueSet/imagingselection-3dgraphictype", "http://hl7.org/fhir/imagingselection-3dgraphictype")]
    public enum ImagingSelection3DGraphicType
    {
      /// <summary>
      /// A single location denoted by a single (x,y,z) triplet.
      /// (system: http://hl7.org/fhir/imagingselection-3dgraphictype)
      /// </summary>
      [EnumLiteral("point"), Description("POINT")]
      Point,
      /// <summary>
      /// multiple locations each denoted by an (x,y,z) triplet; the points need not be coplanar.
      /// (system: http://hl7.org/fhir/imagingselection-3dgraphictype)
      /// </summary>
      [EnumLiteral("multipoint"), Description("MULTIPOINT")]
      Multipoint,
      /// <summary>
      /// a series of connected line segments with ordered vertices denoted by (x,y,z) triplets; the points need not be coplanar.
      /// (system: http://hl7.org/fhir/imagingselection-3dgraphictype)
      /// </summary>
      [EnumLiteral("polyline"), Description("POLYLINE")]
      Polyline,
      /// <summary>
      /// a series of connected line segments with ordered vertices denoted by (x,y,z) triplets, where the first and last vertices shall be the same forming a polygon; the points shall be coplanar.
      /// (system: http://hl7.org/fhir/imagingselection-3dgraphictype)
      /// </summary>
      [EnumLiteral("polygon"), Description("POLYGON")]
      Polygon,
      /// <summary>
      /// an ellipse defined by four (x,y,z) triplets, the first two triplets specifying the endpoints of the major axis and the second two triplets specifying the endpoints of the minor axis.
      /// (system: http://hl7.org/fhir/imagingselection-3dgraphictype)
      /// </summary>
      [EnumLiteral("ellipse"), Description("ELLIPSE")]
      Ellipse,
      /// <summary>
      /// a three-dimensional geometric surface whose plane sections are either ellipses or circles and contains three intersecting orthogonal axes, \"a\", \"b\", and \"c\"; the ellipsoid is defined by six (x,y,z) triplets, the first and second triplets specifying the endpoints of axis \"a\", the third and fourth triplets specifying the endpoints of axis \"b\", and the fifth and sixth triplets specifying the endpoints of axis \"c\".
      /// (system: http://hl7.org/fhir/imagingselection-3dgraphictype)
      /// </summary>
      [EnumLiteral("ellipsoid"), Description("ELLIPSOID")]
      Ellipsoid,
    }

    /// <summary>
    /// Selectors of the instances (human or machine)
    /// </summary>
    /// <remarks>
    /// Selectors of the instances â€“ human or machine.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ImagingSelection.performer", IsBackboneType=true)]
    public partial class PerformerComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ImagingSelection.performer";

      /// <summary>
      /// Type of performer.
      /// </summary>
      [FhirElement("function", InSummary=true, Order=40)]
      [Binding("EventPerformerFunction")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Function
      {
        get
        {
          if(_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["function"]);
          return _Function;
        }

        set
        {
          if (_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("function");
          _Function = value;
          OnPropertyChanged("Function");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Function;

      /// <summary>
      /// Author (human or machine).
      /// </summary>
      [FhirElement("actor", InSummary=true, Order=50)]
      [CLSCompliant(false)]
      [References("Practitioner","PractitionerRole","Device","Organization","CareTeam","Patient","RelatedPerson","HealthcareService")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Actor
      {
        get
        {
          if(_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["actor"]);
          return _Actor;
        }

        set
        {
          if (_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("actor");
          _Actor = value;
          OnPropertyChanged("Actor");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Actor;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PerformerComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Function is not null) dest.Function = (Hl7.Fhir.Model.CodeableConcept)_Function.DeepCopyInternal();
        if(_Actor is not null) dest.Actor = (Hl7.Fhir.Model.ResourceReference)_Actor.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PerformerComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PerformerComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Function, otherT._Function)) return false;
        if(!comparer.Equals(_Actor, otherT._Actor)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "function":
            if (_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["function"];
              return true;
            }
            value = _Function;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "actor":
            if (_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["actor"];
              return true;
            }
            value = _Actor;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "function":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Function = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["function"] = value;
            }
            else Function = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "actor":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Actor = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["actor"] = value;
            }
            else Actor = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Function is not null && !_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("function",_Function);
        if (_Actor is not null && !_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("actor",_Actor);
      }

    }

    /// <summary>
    /// The selected instances
    /// </summary>
    /// <remarks>
    /// Each imaging selection includes one or more selected DICOM SOP instances.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ImagingSelection.instance", IsBackboneType=true)]
    public partial class InstanceComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ImagingSelection.instance";

      /// <summary>
      /// DICOM SOP Instance UID.
      /// </summary>
      [FhirElement("uid", InSummary=true, Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Id? UidElement
      {
        get
        {
          if(_UidElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["uid"]);
          return _UidElement;
        }

        set
        {
          if (_UidElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("uid");
          _UidElement = value;
          OnPropertyChanged("UidElement");
        }

      }

      private Hl7.Fhir.Model.Id? _UidElement;

      /// <summary>
      /// DICOM SOP Instance UID
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Uid
      {
        get => UidElement?.Value;
        set
        {
          UidElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("Uid");
        }
      }

      /// <summary>
      /// DICOM Instance Number.
      /// </summary>
      [FhirElement("number", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.UnsignedInt? NumberElement
      {
        get
        {
          if(_NumberElement.InOverflow<Hl7.Fhir.Model.UnsignedInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.UnsignedInt), Overflow["number"]);
          return _NumberElement;
        }

        set
        {
          if (_NumberElement.InOverflow<Hl7.Fhir.Model.UnsignedInt>())
            Overflow.Remove("number");
          _NumberElement = value;
          OnPropertyChanged("NumberElement");
        }

      }

      private Hl7.Fhir.Model.UnsignedInt? _NumberElement;

      /// <summary>
      /// DICOM Instance Number
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Number
      {
        get => NumberElement?.Value;
        set
        {
          NumberElement = value is null ? null : new Hl7.Fhir.Model.UnsignedInt(value);
          OnPropertyChanged("Number");
        }
      }

      /// <summary>
      /// DICOM SOP Class UID.
      /// </summary>
      [FhirElement("sopClass", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Oid? SopClassElement
      {
        get
        {
          if(_SopClassElement.InOverflow<Hl7.Fhir.Model.Oid>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Oid), Overflow["sopClass"]);
          return _SopClassElement;
        }

        set
        {
          if (_SopClassElement.InOverflow<Hl7.Fhir.Model.Oid>())
            Overflow.Remove("sopClass");
          _SopClassElement = value;
          OnPropertyChanged("SopClassElement");
        }

      }

      private Hl7.Fhir.Model.Oid? _SopClassElement;

      /// <summary>
      /// DICOM SOP Class UID
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? SopClass
      {
        get => SopClassElement?.Value;
        set
        {
          SopClassElement = value is null ? null : new Hl7.Fhir.Model.Oid(value);
          OnPropertyChanged("SopClass");
        }
      }

      /// <summary>
      /// The selected subset of the SOP Instance.
      /// </summary>
      [FhirElement("subset", Order=70)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.FhirString> SubsetElement
      {
        get
        {
          if(_SubsetElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirString>), Overflow["subset"]);
          return _SubsetElement ??= [];
        }

        set
        {
          if (_SubsetElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            Overflow.Remove("subset");
          _SubsetElement = value;
          OnPropertyChanged("SubsetElement");
        }

      }

      private List<Hl7.Fhir.Model.FhirString>? _SubsetElement;

      /// <summary>
      /// The selected subset of the SOP Instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<string?> Subset
      {
        get => _SubsetElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            SubsetElement = null!;
          else
            SubsetElement = new List<Hl7.Fhir.Model.FhirString>(value.Select(elem=>new Hl7.Fhir.Model.FhirString(elem)));
          OnPropertyChanged("Subset");
        }
      }

      /// <summary>
      /// A specific 2D region in a DICOM image / frame.
      /// </summary>
      [FhirElement("imageRegion2D", Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent> ImageRegion2D
      {
        get
        {
          if(_ImageRegion2D.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent>), Overflow["imageRegion2D"]);
          return _ImageRegion2D ??= [];
        }

        set
        {
          if (_ImageRegion2D.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent>>())
            Overflow.Remove("imageRegion2D");
          _ImageRegion2D = value;
          OnPropertyChanged("ImageRegion2D");
        }

      }

      private List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent>? _ImageRegion2D;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not InstanceComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_UidElement is not null) dest.UidElement = (Hl7.Fhir.Model.Id)_UidElement.DeepCopyInternal();
        if(_NumberElement is not null) dest.NumberElement = (Hl7.Fhir.Model.UnsignedInt)_NumberElement.DeepCopyInternal();
        if(_SopClassElement is not null) dest.SopClassElement = (Hl7.Fhir.Model.Oid)_SopClassElement.DeepCopyInternal();
        if(_SubsetElement is not null) dest.SubsetElement = new List<Hl7.Fhir.Model.FhirString>(_SubsetElement.DeepCopyInternal());
        if(_ImageRegion2D is not null) dest.ImageRegion2D = new List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent>(_ImageRegion2D.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new InstanceComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not InstanceComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_UidElement, otherT._UidElement)) return false;
        if(!comparer.Equals(_NumberElement, otherT._NumberElement)) return false;
        if(!comparer.Equals(_SopClassElement, otherT._SopClassElement)) return false;
        if(!comparer.ListEquals(_SubsetElement, otherT._SubsetElement)) return false;
        if(!comparer.ListEquals(_ImageRegion2D, otherT._ImageRegion2D)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "uid":
            if (_UidElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["uid"];
              return true;
            }
            value = _UidElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          case "number":
            if (_NumberElement.InOverflow<Hl7.Fhir.Model.UnsignedInt>())
            {
              value = Overflow["number"];
              return true;
            }
            value = _NumberElement;
            return (value as Hl7.Fhir.Model.UnsignedInt) is not null;
          case "sopClass":
            if (_SopClassElement.InOverflow<Hl7.Fhir.Model.Oid>())
            {
              value = Overflow["sopClass"];
              return true;
            }
            value = _SopClassElement;
            return (value as Hl7.Fhir.Model.Oid) is not null;
          case "subset":
            if (_SubsetElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            {
              value = Overflow["subset"];
              return true;
            }
            value = _SubsetElement;
            return (value as List<Hl7.Fhir.Model.FhirString>)?.Any() is true;
          case "imageRegion2D":
            if (_ImageRegion2D.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent>>())
            {
              value = Overflow["imageRegion2D"];
              return true;
            }
            value = _ImageRegion2D;
            return (value as List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "uid":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              UidElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["uid"] = value;
            }
            else UidElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          case "number":
            if (value is not (Hl7.Fhir.Model.UnsignedInt or null))
            {
              NumberElement = OverflowNull<Hl7.Fhir.Model.UnsignedInt>.INSTANCE;
              Overflow["number"] = value;
            }
            else NumberElement = (Hl7.Fhir.Model.UnsignedInt?)value;
            return this;
          case "sopClass":
            if (value is not (Hl7.Fhir.Model.Oid or null))
            {
              SopClassElement = OverflowNull<Hl7.Fhir.Model.Oid>.INSTANCE;
              Overflow["sopClass"] = value;
            }
            else SopClassElement = (Hl7.Fhir.Model.Oid?)value;
            return this;
          case "subset":
            if (value is not (List<Hl7.Fhir.Model.FhirString> or null))
            {
              SubsetElement = OverflowNull<List<Hl7.Fhir.Model.FhirString>>.INSTANCE;
              Overflow["subset"] = value;
            }
            else SubsetElement = (List<Hl7.Fhir.Model.FhirString>?)value!;
            return this;
          case "imageRegion2D":
            if (value is not (List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent> or null))
            {
              ImageRegion2D = OverflowNull<List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent>>.INSTANCE;
              Overflow["imageRegion2D"] = value;
            }
            else ImageRegion2D = (List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_UidElement is not null && !_UidElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("uid",_UidElement);
        if (_NumberElement is not null && !_NumberElement.InOverflow<Hl7.Fhir.Model.UnsignedInt>()) yield return new KeyValuePair<string,object>("number",_NumberElement);
        if (_SopClassElement is not null && !_SopClassElement.InOverflow<Hl7.Fhir.Model.Oid>()) yield return new KeyValuePair<string,object>("sopClass",_SopClassElement);
        if (_SubsetElement?.Any() is true && !_SubsetElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>()) yield return new KeyValuePair<string,object>("subset",_SubsetElement);
        if (_ImageRegion2D?.Any() is true && !_ImageRegion2D.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.ImageRegion2DComponent>>()) yield return new KeyValuePair<string,object>("imageRegion2D",_ImageRegion2D);
      }

    }

    /// <summary>
    /// A specific 2D region in a DICOM image / frame
    /// </summary>
    /// <remarks>
    /// Each imaging selection instance or frame list might includes an image region, specified by a region type and a set of 2D coordinates.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ImagingSelection.instance.imageRegion2D", IsBackboneType=true)]
    public partial class ImageRegion2DComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ImagingSelection.instance.imageRegion2D";

      /// <summary>
      /// point | polyline | multipoint | circle | ellipse.
      /// </summary>
      [FhirElement("regionType", Order=40)]
      [Binding("ImagingSelection2DGraphicType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>? RegionTypeElement
      {
        get
        {
          if(_RegionTypeElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>), Overflow["regionType"]);
          return _RegionTypeElement;
        }

        set
        {
          if (_RegionTypeElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>>())
            Overflow.Remove("regionType");
          _RegionTypeElement = value;
          OnPropertyChanged("RegionTypeElement");
        }

      }

      private Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>? _RegionTypeElement;

      /// <summary>
      /// point | polyline | multipoint | circle | ellipse
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType? RegionType
      {
        get => RegionTypeElement?.Value;
        set
        {
          RegionTypeElement = value is null ? null : new Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>(value);
          OnPropertyChanged("RegionType");
        }
      }

      /// <summary>
      /// Specifies the coordinates that define the image region.
      /// </summary>
      [FhirElement("coordinate", Order=50)]
      [Cardinality(Min=1,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.FhirDecimal> CoordinateElement
      {
        get
        {
          if(_CoordinateElement.InOverflow<List<Hl7.Fhir.Model.FhirDecimal>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirDecimal>), Overflow["coordinate"]);
          return _CoordinateElement ??= [];
        }

        set
        {
          if (_CoordinateElement.InOverflow<List<Hl7.Fhir.Model.FhirDecimal>>())
            Overflow.Remove("coordinate");
          _CoordinateElement = value;
          OnPropertyChanged("CoordinateElement");
        }

      }

      private List<Hl7.Fhir.Model.FhirDecimal>? _CoordinateElement;

      /// <summary>
      /// Specifies the coordinates that define the image region
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<decimal?> Coordinate
      {
        get => _CoordinateElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            CoordinateElement = null!;
          else
            CoordinateElement = new List<Hl7.Fhir.Model.FhirDecimal>(value.Select(elem=>new Hl7.Fhir.Model.FhirDecimal(elem)));
          OnPropertyChanged("Coordinate");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ImageRegion2DComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_RegionTypeElement is not null) dest.RegionTypeElement = (Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>)_RegionTypeElement.DeepCopyInternal();
        if(_CoordinateElement is not null) dest.CoordinateElement = new List<Hl7.Fhir.Model.FhirDecimal>(_CoordinateElement.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ImageRegion2DComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ImageRegion2DComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_RegionTypeElement, otherT._RegionTypeElement)) return false;
        if(!comparer.ListEquals(_CoordinateElement, otherT._CoordinateElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "regionType":
            if (_RegionTypeElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>>())
            {
              value = Overflow["regionType"];
              return true;
            }
            value = _RegionTypeElement;
            return (value as Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>) is not null;
          case "coordinate":
            if (_CoordinateElement.InOverflow<List<Hl7.Fhir.Model.FhirDecimal>>())
            {
              value = Overflow["coordinate"];
              return true;
            }
            value = _CoordinateElement;
            return (value as List<Hl7.Fhir.Model.FhirDecimal>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "regionType":
            if (value is not (Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType> or null))
            {
              RegionTypeElement = OverflowNull<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>>.INSTANCE;
              Overflow["regionType"] = value;
            }
            else RegionTypeElement = (Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>?)value;
            return this;
          case "coordinate":
            if (value is not (List<Hl7.Fhir.Model.FhirDecimal> or null))
            {
              CoordinateElement = OverflowNull<List<Hl7.Fhir.Model.FhirDecimal>>.INSTANCE;
              Overflow["coordinate"] = value;
            }
            else CoordinateElement = (List<Hl7.Fhir.Model.FhirDecimal>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_RegionTypeElement is not null && !_RegionTypeElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection2DGraphicType>>()) yield return new KeyValuePair<string,object>("regionType",_RegionTypeElement);
        if (_CoordinateElement?.Any() is true && !_CoordinateElement.InOverflow<List<Hl7.Fhir.Model.FhirDecimal>>()) yield return new KeyValuePair<string,object>("coordinate",_CoordinateElement);
      }

    }

    /// <summary>
    /// A specific 3D region in a DICOM frame of reference
    /// </summary>
    /// <remarks>
    /// Each imaging selection might includes a 3D image region, specified by a region type and a set of 3D coordinates.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ImagingSelection.imageRegion3D", IsBackboneType=true)]
    public partial class ImageRegion3DComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ImagingSelection.imageRegion3D";

      /// <summary>
      /// point | multipoint | polyline | polygon | ellipse | ellipsoid.
      /// </summary>
      [FhirElement("regionType", Order=40)]
      [Binding("ImagingSelection3DGraphicType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>? RegionTypeElement
      {
        get
        {
          if(_RegionTypeElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>), Overflow["regionType"]);
          return _RegionTypeElement;
        }

        set
        {
          if (_RegionTypeElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>>())
            Overflow.Remove("regionType");
          _RegionTypeElement = value;
          OnPropertyChanged("RegionTypeElement");
        }

      }

      private Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>? _RegionTypeElement;

      /// <summary>
      /// point | multipoint | polyline | polygon | ellipse | ellipsoid
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType? RegionType
      {
        get => RegionTypeElement?.Value;
        set
        {
          RegionTypeElement = value is null ? null : new Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>(value);
          OnPropertyChanged("RegionType");
        }
      }

      /// <summary>
      /// Specifies the coordinates that define the image region.
      /// </summary>
      [FhirElement("coordinate", Order=50)]
      [Cardinality(Min=1,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.FhirDecimal> CoordinateElement
      {
        get
        {
          if(_CoordinateElement.InOverflow<List<Hl7.Fhir.Model.FhirDecimal>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirDecimal>), Overflow["coordinate"]);
          return _CoordinateElement ??= [];
        }

        set
        {
          if (_CoordinateElement.InOverflow<List<Hl7.Fhir.Model.FhirDecimal>>())
            Overflow.Remove("coordinate");
          _CoordinateElement = value;
          OnPropertyChanged("CoordinateElement");
        }

      }

      private List<Hl7.Fhir.Model.FhirDecimal>? _CoordinateElement;

      /// <summary>
      /// Specifies the coordinates that define the image region
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<decimal?> Coordinate
      {
        get => _CoordinateElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            CoordinateElement = null!;
          else
            CoordinateElement = new List<Hl7.Fhir.Model.FhirDecimal>(value.Select(elem=>new Hl7.Fhir.Model.FhirDecimal(elem)));
          OnPropertyChanged("Coordinate");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ImageRegion3DComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_RegionTypeElement is not null) dest.RegionTypeElement = (Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>)_RegionTypeElement.DeepCopyInternal();
        if(_CoordinateElement is not null) dest.CoordinateElement = new List<Hl7.Fhir.Model.FhirDecimal>(_CoordinateElement.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ImageRegion3DComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ImageRegion3DComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_RegionTypeElement, otherT._RegionTypeElement)) return false;
        if(!comparer.ListEquals(_CoordinateElement, otherT._CoordinateElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "regionType":
            if (_RegionTypeElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>>())
            {
              value = Overflow["regionType"];
              return true;
            }
            value = _RegionTypeElement;
            return (value as Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>) is not null;
          case "coordinate":
            if (_CoordinateElement.InOverflow<List<Hl7.Fhir.Model.FhirDecimal>>())
            {
              value = Overflow["coordinate"];
              return true;
            }
            value = _CoordinateElement;
            return (value as List<Hl7.Fhir.Model.FhirDecimal>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "regionType":
            if (value is not (Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType> or null))
            {
              RegionTypeElement = OverflowNull<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>>.INSTANCE;
              Overflow["regionType"] = value;
            }
            else RegionTypeElement = (Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>?)value;
            return this;
          case "coordinate":
            if (value is not (List<Hl7.Fhir.Model.FhirDecimal> or null))
            {
              CoordinateElement = OverflowNull<List<Hl7.Fhir.Model.FhirDecimal>>.INSTANCE;
              Overflow["coordinate"] = value;
            }
            else CoordinateElement = (List<Hl7.Fhir.Model.FhirDecimal>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_RegionTypeElement is not null && !_RegionTypeElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelection3DGraphicType>>()) yield return new KeyValuePair<string,object>("regionType",_RegionTypeElement);
        if (_CoordinateElement?.Any() is true && !_CoordinateElement.InOverflow<List<Hl7.Fhir.Model.FhirDecimal>>()) yield return new KeyValuePair<string,object>("coordinate",_CoordinateElement);
      }

    }

    /// <summary>
    /// Business Identifiers for Imaging Selection.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=90, FiveWs="FiveWs.identifier")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// available | entered-in-error | inactive | unknown.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=100, FiveWs="FiveWs.status")]
    [Binding("ImagingSelectionStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>? StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>), Overflow["status"]);
        return _StatusElement;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>? _StatusElement;

    /// <summary>
    /// available | entered-in-error | inactive | unknown
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null : new Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// Classifies the imaging selection.
    /// </summary>
    [FhirElement("category", InSummary=true, Order=110, FiveWs="FiveWs.class")]
    [Binding("ImagingSelectionCode")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Category
    {
      get
      {
        if(_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["category"]);
        return _Category ??= [];
      }

      set
      {
        if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("category");
        _Category = value;
        OnPropertyChanged("Category");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Category;

    /// <summary>
    /// Imaging Selection purpose text or code.
    /// </summary>
    [FhirElement("code", InSummary=true, Order=120, FiveWs="FiveWs.what[x]")]
    [Binding("ImagingSelectionCode")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Code
    {
      get
      {
        if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
        return _Code;
      }

      set
      {
        if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("code");
        _Code = value;
        OnPropertyChanged("Code");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Code;

    /// <summary>
    /// Subject of the selected instances.
    /// </summary>
    [FhirElement("subject", InSummary=true, Order=130, FiveWs="FiveWs.subject")]
    [CLSCompliant(false)]
    [References("Patient","Group","Device","Procedure","Practitioner","Medication","Substance","Specimen")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Subject
    {
      get
      {
        if(_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["subject"]);
        return _Subject;
      }

      set
      {
        if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("subject");
        _Subject = value;
        OnPropertyChanged("Subject");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Subject;

    /// <summary>
    /// Date / Time when this imaging selection was created.
    /// </summary>
    [FhirElement("issued", InSummary=true, Order=140, FiveWs="FiveWs.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.Instant? IssuedElement
    {
      get
      {
        if(_IssuedElement.InOverflow<Hl7.Fhir.Model.Instant>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Instant), Overflow["issued"]);
        return _IssuedElement;
      }

      set
      {
        if (_IssuedElement.InOverflow<Hl7.Fhir.Model.Instant>())
          Overflow.Remove("issued");
        _IssuedElement = value;
        OnPropertyChanged("IssuedElement");
      }

    }

    private Hl7.Fhir.Model.Instant? _IssuedElement;

    /// <summary>
    /// Date / Time when this imaging selection was created
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public DateTimeOffset? Issued
    {
      get => IssuedElement?.Value;
      set
      {
        IssuedElement = value is null ? null : new Hl7.Fhir.Model.Instant(value);
        OnPropertyChanged("Issued");
      }
    }

    /// <summary>
    /// Selectors of the instances (human or machine).
    /// </summary>
    [FhirElement("performer", InSummary=true, Order=150, FiveWs="FiveWs.actor")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent> Performer
    {
      get
      {
        if(_Performer.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent>), Overflow["performer"]);
        return _Performer ??= [];
      }

      set
      {
        if (_Performer.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent>>())
          Overflow.Remove("performer");
        _Performer = value;
        OnPropertyChanged("Performer");
      }

    }

    private List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent>? _Performer;

    /// <summary>
    /// Associated requests.
    /// </summary>
    [FhirElement("basedOn", InSummary=true, Order=160, FiveWs="FiveWs.cause")]
    [CLSCompliant(false)]
    [References("CarePlan","ServiceRequest","Appointment","Task")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> BasedOn
    {
      get
      {
        if(_BasedOn.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["basedOn"]);
        return _BasedOn ??= [];
      }

      set
      {
        if (_BasedOn.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("basedOn");
        _BasedOn = value;
        OnPropertyChanged("BasedOn");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _BasedOn;

    /// <summary>
    /// The imaging study from which the imaging selection is derived.
    /// </summary>
    [FhirElement("derivedFrom", InSummary=true, Order=170)]
    [CLSCompliant(false)]
    [References("ImagingStudy","DocumentReference")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? DerivedFrom
    {
      get
      {
        if(_DerivedFrom.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["derivedFrom"]);
        return _DerivedFrom;
      }

      set
      {
        if (_DerivedFrom.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("derivedFrom");
        _DerivedFrom = value;
        OnPropertyChanged("DerivedFrom");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _DerivedFrom;

    /// <summary>
    /// DICOM Study Instance UID.
    /// </summary>
    [FhirElement("studyUid", InSummary=true, Order=180)]
    [DataMember]
    public Hl7.Fhir.Model.Id? StudyUidElement
    {
      get
      {
        if(_StudyUidElement.InOverflow<Hl7.Fhir.Model.Id>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["studyUid"]);
        return _StudyUidElement;
      }

      set
      {
        if (_StudyUidElement.InOverflow<Hl7.Fhir.Model.Id>())
          Overflow.Remove("studyUid");
        _StudyUidElement = value;
        OnPropertyChanged("StudyUidElement");
      }

    }

    private Hl7.Fhir.Model.Id? _StudyUidElement;

    /// <summary>
    /// DICOM Study Instance UID
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? StudyUid
    {
      get => StudyUidElement?.Value;
      set
      {
        StudyUidElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
        OnPropertyChanged("StudyUid");
      }
    }

    /// <summary>
    /// DICOM Series Instance UID.
    /// </summary>
    [FhirElement("seriesUid", InSummary=true, Order=190)]
    [DataMember]
    public Hl7.Fhir.Model.Id? SeriesUidElement
    {
      get
      {
        if(_SeriesUidElement.InOverflow<Hl7.Fhir.Model.Id>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["seriesUid"]);
        return _SeriesUidElement;
      }

      set
      {
        if (_SeriesUidElement.InOverflow<Hl7.Fhir.Model.Id>())
          Overflow.Remove("seriesUid");
        _SeriesUidElement = value;
        OnPropertyChanged("SeriesUidElement");
      }

    }

    private Hl7.Fhir.Model.Id? _SeriesUidElement;

    /// <summary>
    /// DICOM Series Instance UID
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? SeriesUid
    {
      get => SeriesUidElement?.Value;
      set
      {
        SeriesUidElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
        OnPropertyChanged("SeriesUid");
      }
    }

    /// <summary>
    /// DICOM Series Number.
    /// </summary>
    [FhirElement("seriesNumber", InSummary=true, Order=200)]
    [DataMember]
    public Hl7.Fhir.Model.UnsignedInt? SeriesNumberElement
    {
      get
      {
        if(_SeriesNumberElement.InOverflow<Hl7.Fhir.Model.UnsignedInt>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.UnsignedInt), Overflow["seriesNumber"]);
        return _SeriesNumberElement;
      }

      set
      {
        if (_SeriesNumberElement.InOverflow<Hl7.Fhir.Model.UnsignedInt>())
          Overflow.Remove("seriesNumber");
        _SeriesNumberElement = value;
        OnPropertyChanged("SeriesNumberElement");
      }

    }

    private Hl7.Fhir.Model.UnsignedInt? _SeriesNumberElement;

    /// <summary>
    /// DICOM Series Number
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public int? SeriesNumber
    {
      get => SeriesNumberElement?.Value;
      set
      {
        SeriesNumberElement = value is null ? null : new Hl7.Fhir.Model.UnsignedInt(value);
        OnPropertyChanged("SeriesNumber");
      }
    }

    /// <summary>
    /// The Frame of Reference UID for the selected images.
    /// </summary>
    [FhirElement("frameOfReferenceUid", InSummary=true, Order=210)]
    [DataMember]
    public Hl7.Fhir.Model.Id? FrameOfReferenceUidElement
    {
      get
      {
        if(_FrameOfReferenceUidElement.InOverflow<Hl7.Fhir.Model.Id>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["frameOfReferenceUid"]);
        return _FrameOfReferenceUidElement;
      }

      set
      {
        if (_FrameOfReferenceUidElement.InOverflow<Hl7.Fhir.Model.Id>())
          Overflow.Remove("frameOfReferenceUid");
        _FrameOfReferenceUidElement = value;
        OnPropertyChanged("FrameOfReferenceUidElement");
      }

    }

    private Hl7.Fhir.Model.Id? _FrameOfReferenceUidElement;

    /// <summary>
    /// The Frame of Reference UID for the selected images
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? FrameOfReferenceUid
    {
      get => FrameOfReferenceUidElement?.Value;
      set
      {
        FrameOfReferenceUidElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
        OnPropertyChanged("FrameOfReferenceUid");
      }
    }

    /// <summary>
    /// Body part examined.
    /// </summary>
    [FhirElement("bodySite", InSummary=true, Order=220)]
    [Binding("BodySite")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableReference> BodySite
    {
      get
      {
        if(_BodySite.InOverflow<List<Hl7.Fhir.Model.CodeableReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableReference>), Overflow["bodySite"]);
        return _BodySite ??= [];
      }

      set
      {
        if (_BodySite.InOverflow<List<Hl7.Fhir.Model.CodeableReference>>())
          Overflow.Remove("bodySite");
        _BodySite = value;
        OnPropertyChanged("BodySite");
      }

    }

    private List<Hl7.Fhir.Model.CodeableReference>? _BodySite;

    /// <summary>
    /// Related resources that are the focus for the imaging selection.
    /// </summary>
    [FhirElement("focus", InSummary=true, Order=230)]
    [CLSCompliant(false)]
    [References("ImagingSelection")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Focus
    {
      get
      {
        if(_Focus.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["focus"]);
        return _Focus ??= [];
      }

      set
      {
        if (_Focus.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("focus");
        _Focus = value;
        OnPropertyChanged("Focus");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Focus;

    /// <summary>
    /// The network services providing retrieval for the images referenced in the imaging selection.
    /// </summary>
    [FhirElement("endpoint", InSummary=true, Order=240)]
    [CLSCompliant(false)]
    [References("Endpoint")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Endpoint
    {
      get
      {
        if(_Endpoint.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["endpoint"]);
        return _Endpoint ??= [];
      }

      set
      {
        if (_Endpoint.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("endpoint");
        _Endpoint = value;
        OnPropertyChanged("Endpoint");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Endpoint;

    /// <summary>
    /// The selected instances.
    /// </summary>
    [FhirElement("instance", InSummary=true, Order=250)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent> Instance
    {
      get
      {
        if(_Instance.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent>), Overflow["instance"]);
        return _Instance ??= [];
      }

      set
      {
        if (_Instance.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent>>())
          Overflow.Remove("instance");
        _Instance = value;
        OnPropertyChanged("Instance");
      }

    }

    private List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent>? _Instance;

    /// <summary>
    /// A specific 3D region in a DICOM frame of reference.
    /// </summary>
    [FhirElement("imageRegion3D", Order=260)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent> ImageRegion3D
    {
      get
      {
        if(_ImageRegion3D.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent>), Overflow["imageRegion3D"]);
        return _ImageRegion3D ??= [];
      }

      set
      {
        if (_ImageRegion3D.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent>>())
          Overflow.Remove("imageRegion3D");
        _ImageRegion3D = value;
        OnPropertyChanged("ImageRegion3D");
      }

    }

    private List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent>? _ImageRegion3D;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not ImagingSelection dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>)_StatusElement.DeepCopyInternal();
      if(_Category is not null) dest.Category = new List<Hl7.Fhir.Model.CodeableConcept>(_Category.DeepCopyInternal());
      if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
      if(_Subject is not null) dest.Subject = (Hl7.Fhir.Model.ResourceReference)_Subject.DeepCopyInternal();
      if(_IssuedElement is not null) dest.IssuedElement = (Hl7.Fhir.Model.Instant)_IssuedElement.DeepCopyInternal();
      if(_Performer is not null) dest.Performer = new List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent>(_Performer.DeepCopyInternal());
      if(_BasedOn is not null) dest.BasedOn = new List<Hl7.Fhir.Model.ResourceReference>(_BasedOn.DeepCopyInternal());
      if(_DerivedFrom is not null) dest.DerivedFrom = (Hl7.Fhir.Model.ResourceReference)_DerivedFrom.DeepCopyInternal();
      if(_StudyUidElement is not null) dest.StudyUidElement = (Hl7.Fhir.Model.Id)_StudyUidElement.DeepCopyInternal();
      if(_SeriesUidElement is not null) dest.SeriesUidElement = (Hl7.Fhir.Model.Id)_SeriesUidElement.DeepCopyInternal();
      if(_SeriesNumberElement is not null) dest.SeriesNumberElement = (Hl7.Fhir.Model.UnsignedInt)_SeriesNumberElement.DeepCopyInternal();
      if(_FrameOfReferenceUidElement is not null) dest.FrameOfReferenceUidElement = (Hl7.Fhir.Model.Id)_FrameOfReferenceUidElement.DeepCopyInternal();
      if(_BodySite is not null) dest.BodySite = new List<Hl7.Fhir.Model.CodeableReference>(_BodySite.DeepCopyInternal());
      if(_Focus is not null) dest.Focus = new List<Hl7.Fhir.Model.ResourceReference>(_Focus.DeepCopyInternal());
      if(_Endpoint is not null) dest.Endpoint = new List<Hl7.Fhir.Model.ResourceReference>(_Endpoint.DeepCopyInternal());
      if(_Instance is not null) dest.Instance = new List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent>(_Instance.DeepCopyInternal());
      if(_ImageRegion3D is not null) dest.ImageRegion3D = new List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent>(_ImageRegion3D.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new ImagingSelection();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not ImagingSelection otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.ListEquals(_Category, otherT._Category)) return false;
      if(!comparer.Equals(_Code, otherT._Code)) return false;
      if(!comparer.Equals(_Subject, otherT._Subject)) return false;
      if(!comparer.Equals(_IssuedElement, otherT._IssuedElement)) return false;
      if(!comparer.ListEquals(_Performer, otherT._Performer)) return false;
      if(!comparer.ListEquals(_BasedOn, otherT._BasedOn)) return false;
      if(!comparer.Equals(_DerivedFrom, otherT._DerivedFrom)) return false;
      if(!comparer.Equals(_StudyUidElement, otherT._StudyUidElement)) return false;
      if(!comparer.Equals(_SeriesUidElement, otherT._SeriesUidElement)) return false;
      if(!comparer.Equals(_SeriesNumberElement, otherT._SeriesNumberElement)) return false;
      if(!comparer.Equals(_FrameOfReferenceUidElement, otherT._FrameOfReferenceUidElement)) return false;
      if(!comparer.ListEquals(_BodySite, otherT._BodySite)) return false;
      if(!comparer.ListEquals(_Focus, otherT._Focus)) return false;
      if(!comparer.ListEquals(_Endpoint, otherT._Endpoint)) return false;
      if(!comparer.ListEquals(_Instance, otherT._Instance)) return false;
      if(!comparer.ListEquals(_ImageRegion3D, otherT._ImageRegion3D)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>) is not null;
        case "category":
          if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["category"];
            return true;
          }
          value = _Category;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "code":
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["code"];
            return true;
          }
          value = _Code;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "subject":
          if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["subject"];
            return true;
          }
          value = _Subject;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "issued":
          if (_IssuedElement.InOverflow<Hl7.Fhir.Model.Instant>())
          {
            value = Overflow["issued"];
            return true;
          }
          value = _IssuedElement;
          return (value as Hl7.Fhir.Model.Instant) is not null;
        case "performer":
          if (_Performer.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent>>())
          {
            value = Overflow["performer"];
            return true;
          }
          value = _Performer;
          return (value as List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent>)?.Any() is true;
        case "basedOn":
          if (_BasedOn.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["basedOn"];
            return true;
          }
          value = _BasedOn;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "derivedFrom":
          if (_DerivedFrom.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["derivedFrom"];
            return true;
          }
          value = _DerivedFrom;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "studyUid":
          if (_StudyUidElement.InOverflow<Hl7.Fhir.Model.Id>())
          {
            value = Overflow["studyUid"];
            return true;
          }
          value = _StudyUidElement;
          return (value as Hl7.Fhir.Model.Id) is not null;
        case "seriesUid":
          if (_SeriesUidElement.InOverflow<Hl7.Fhir.Model.Id>())
          {
            value = Overflow["seriesUid"];
            return true;
          }
          value = _SeriesUidElement;
          return (value as Hl7.Fhir.Model.Id) is not null;
        case "seriesNumber":
          if (_SeriesNumberElement.InOverflow<Hl7.Fhir.Model.UnsignedInt>())
          {
            value = Overflow["seriesNumber"];
            return true;
          }
          value = _SeriesNumberElement;
          return (value as Hl7.Fhir.Model.UnsignedInt) is not null;
        case "frameOfReferenceUid":
          if (_FrameOfReferenceUidElement.InOverflow<Hl7.Fhir.Model.Id>())
          {
            value = Overflow["frameOfReferenceUid"];
            return true;
          }
          value = _FrameOfReferenceUidElement;
          return (value as Hl7.Fhir.Model.Id) is not null;
        case "bodySite":
          if (_BodySite.InOverflow<List<Hl7.Fhir.Model.CodeableReference>>())
          {
            value = Overflow["bodySite"];
            return true;
          }
          value = _BodySite;
          return (value as List<Hl7.Fhir.Model.CodeableReference>)?.Any() is true;
        case "focus":
          if (_Focus.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["focus"];
            return true;
          }
          value = _Focus;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "endpoint":
          if (_Endpoint.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["endpoint"];
            return true;
          }
          value = _Endpoint;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "instance":
          if (_Instance.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent>>())
          {
            value = Overflow["instance"];
            return true;
          }
          value = _Instance;
          return (value as List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent>)?.Any() is true;
        case "imageRegion3D":
          if (_ImageRegion3D.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent>>())
          {
            value = Overflow["imageRegion3D"];
            return true;
          }
          value = _ImageRegion3D;
          return (value as List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>?)value;
          return this;
        case "category":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Category = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["category"] = value;
          }
          else Category = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "code":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["code"] = value;
          }
          else Code = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "subject":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Subject = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["subject"] = value;
          }
          else Subject = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "issued":
          if (value is not (Hl7.Fhir.Model.Instant or null))
          {
            IssuedElement = OverflowNull<Hl7.Fhir.Model.Instant>.INSTANCE;
            Overflow["issued"] = value;
          }
          else IssuedElement = (Hl7.Fhir.Model.Instant?)value;
          return this;
        case "performer":
          if (value is not (List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent> or null))
          {
            Performer = OverflowNull<List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent>>.INSTANCE;
            Overflow["performer"] = value;
          }
          else Performer = (List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent>?)value!;
          return this;
        case "basedOn":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            BasedOn = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["basedOn"] = value;
          }
          else BasedOn = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "derivedFrom":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            DerivedFrom = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["derivedFrom"] = value;
          }
          else DerivedFrom = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "studyUid":
          if (value is not (Hl7.Fhir.Model.Id or null))
          {
            StudyUidElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
            Overflow["studyUid"] = value;
          }
          else StudyUidElement = (Hl7.Fhir.Model.Id?)value;
          return this;
        case "seriesUid":
          if (value is not (Hl7.Fhir.Model.Id or null))
          {
            SeriesUidElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
            Overflow["seriesUid"] = value;
          }
          else SeriesUidElement = (Hl7.Fhir.Model.Id?)value;
          return this;
        case "seriesNumber":
          if (value is not (Hl7.Fhir.Model.UnsignedInt or null))
          {
            SeriesNumberElement = OverflowNull<Hl7.Fhir.Model.UnsignedInt>.INSTANCE;
            Overflow["seriesNumber"] = value;
          }
          else SeriesNumberElement = (Hl7.Fhir.Model.UnsignedInt?)value;
          return this;
        case "frameOfReferenceUid":
          if (value is not (Hl7.Fhir.Model.Id or null))
          {
            FrameOfReferenceUidElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
            Overflow["frameOfReferenceUid"] = value;
          }
          else FrameOfReferenceUidElement = (Hl7.Fhir.Model.Id?)value;
          return this;
        case "bodySite":
          if (value is not (List<Hl7.Fhir.Model.CodeableReference> or null))
          {
            BodySite = OverflowNull<List<Hl7.Fhir.Model.CodeableReference>>.INSTANCE;
            Overflow["bodySite"] = value;
          }
          else BodySite = (List<Hl7.Fhir.Model.CodeableReference>?)value!;
          return this;
        case "focus":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Focus = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["focus"] = value;
          }
          else Focus = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "endpoint":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Endpoint = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["endpoint"] = value;
          }
          else Endpoint = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "instance":
          if (value is not (List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent> or null))
          {
            Instance = OverflowNull<List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent>>.INSTANCE;
            Overflow["instance"] = value;
          }
          else Instance = (List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent>?)value!;
          return this;
        case "imageRegion3D":
          if (value is not (List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent> or null))
          {
            ImageRegion3D = OverflowNull<List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent>>.INSTANCE;
            Overflow["imageRegion3D"] = value;
          }
          else ImageRegion3D = (List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ImagingSelection.ImagingSelectionStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_Category?.Any() is true && !_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("category",_Category);
      if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
      if (_Subject is not null && !_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("subject",_Subject);
      if (_IssuedElement is not null && !_IssuedElement.InOverflow<Hl7.Fhir.Model.Instant>()) yield return new KeyValuePair<string,object>("issued",_IssuedElement);
      if (_Performer?.Any() is true && !_Performer.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.PerformerComponent>>()) yield return new KeyValuePair<string,object>("performer",_Performer);
      if (_BasedOn?.Any() is true && !_BasedOn.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("basedOn",_BasedOn);
      if (_DerivedFrom is not null && !_DerivedFrom.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("derivedFrom",_DerivedFrom);
      if (_StudyUidElement is not null && !_StudyUidElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("studyUid",_StudyUidElement);
      if (_SeriesUidElement is not null && !_SeriesUidElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("seriesUid",_SeriesUidElement);
      if (_SeriesNumberElement is not null && !_SeriesNumberElement.InOverflow<Hl7.Fhir.Model.UnsignedInt>()) yield return new KeyValuePair<string,object>("seriesNumber",_SeriesNumberElement);
      if (_FrameOfReferenceUidElement is not null && !_FrameOfReferenceUidElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("frameOfReferenceUid",_FrameOfReferenceUidElement);
      if (_BodySite?.Any() is true && !_BodySite.InOverflow<List<Hl7.Fhir.Model.CodeableReference>>()) yield return new KeyValuePair<string,object>("bodySite",_BodySite);
      if (_Focus?.Any() is true && !_Focus.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("focus",_Focus);
      if (_Endpoint?.Any() is true && !_Endpoint.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("endpoint",_Endpoint);
      if (_Instance?.Any() is true && !_Instance.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.InstanceComponent>>()) yield return new KeyValuePair<string,object>("instance",_Instance);
      if (_ImageRegion3D?.Any() is true && !_ImageRegion3D.InOverflow<List<Hl7.Fhir.Model.ImagingSelection.ImageRegion3DComponent>>()) yield return new KeyValuePair<string,object>("imageRegion3D",_ImageRegion3D);
    }

  }

}

// end of file
