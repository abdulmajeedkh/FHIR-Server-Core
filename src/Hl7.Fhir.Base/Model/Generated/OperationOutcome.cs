// <auto-generated/>
// Contents of: hl7.fhir.r5.expansions@5.0.0, hl7.fhir.r5.core@5.0.0

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// Information about the success/failure of an action
  /// </summary>
  /// <remarks>
  /// A collection of error, warning, or information messages that result from a system action.
  /// Can result from the failure of a REST call or be part of the response message returned from a request message.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("OperationOutcome","http://hl7.org/fhir/StructureDefinition/OperationOutcome")]
  public partial class OperationOutcome : Hl7.Fhir.Model.DomainResource
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "OperationOutcome";

    /// <summary>
    /// How the issue affects the success of the action.
    /// (url: http://hl7.org/fhir/ValueSet/issue-severity)
    /// (system: http://hl7.org/fhir/issue-severity)
    /// </summary>
    [FhirEnumeration("IssueSeverity", "http://hl7.org/fhir/ValueSet/issue-severity", "http://hl7.org/fhir/issue-severity")]
    public enum IssueSeverity
    {
      /// <summary>
      /// The issue caused the action to fail and no further checking could be performed.
      /// (system: http://hl7.org/fhir/issue-severity)
      /// </summary>
      [EnumLiteral("fatal"), Description("Fatal")]
      Fatal,
      /// <summary>
      /// The issue is sufficiently important to cause the action to fail.
      /// (system: http://hl7.org/fhir/issue-severity)
      /// </summary>
      [EnumLiteral("error"), Description("Error")]
      Error,
      /// <summary>
      /// The issue is not important enough to cause the action to fail but may cause it to be performed suboptimally or in a way that is not as desired.
      /// (system: http://hl7.org/fhir/issue-severity)
      /// </summary>
      [EnumLiteral("warning"), Description("Warning")]
      Warning,
      /// <summary>
      /// The issue has no relation to the degree of success of the action.
      /// (system: http://hl7.org/fhir/issue-severity)
      /// </summary>
      [EnumLiteral("information"), Description("Information")]
      Information,
      /// <summary>
      /// The operation completed successfully.
      /// (system: http://hl7.org/fhir/issue-severity)
      /// </summary>
      [EnumLiteral("success"), Description("Operation Successful")]
      Success,
    }

    /// <summary>
    /// A code that describes the type of issue.
    /// (url: http://hl7.org/fhir/ValueSet/issue-type)
    /// (system: http://hl7.org/fhir/issue-type)
    /// </summary>
    [FhirEnumeration("IssueType", "http://hl7.org/fhir/ValueSet/issue-type", "http://hl7.org/fhir/issue-type")]
    public enum IssueType
    {
      /// <summary>
      /// Content invalid against the specification or a profile.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("invalid"), Description("Invalid Content")]
      Invalid,
      /// <summary>
      /// A structural issue in the content such as wrong namespace, unable to parse the content completely, invalid syntax, etc.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("structure"), Description("Structural Issue")]
      Structure,
      /// <summary>
      /// A required element is missing.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("required"), Description("Required element missing")]
      Required,
      /// <summary>
      /// An element or header value is invalid.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("value"), Description("Element value invalid")]
      Value,
      /// <summary>
      /// A content validation rule failed - e.g. a schematron rule.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("invariant"), Description("Validation rule failed")]
      Invariant,
      /// <summary>
      /// An authentication/authorization/permissions issue of some kind.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("security"), Description("Security Problem")]
      Security,
      /// <summary>
      /// The client needs to initiate an authentication process.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("login"), Description("Login Required")]
      Login,
      /// <summary>
      /// The user or system was not able to be authenticated (either there is no process, or the proferred token is unacceptable).
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("unknown"), Description("Unknown User")]
      Unknown,
      /// <summary>
      /// User session expired; a login may be required.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("expired"), Description("Session Expired")]
      Expired,
      /// <summary>
      /// The user does not have the rights to perform this action.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("forbidden"), Description("Forbidden")]
      Forbidden,
      /// <summary>
      /// Some information was not or might not have been returned due to business rules, consent or privacy rules, or access permission constraints.  This information may be accessible through alternate processes.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("suppressed"), Description("Information  Suppressed")]
      Suppressed,
      /// <summary>
      /// Processing issues. These are expected to be final e.g. there is no point resubmitting the same content unchanged.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("processing"), Description("Processing Failure")]
      Processing,
      /// <summary>
      /// The interaction, operation, resource or profile is not supported.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("not-supported"), Description("Content not supported")]
      NotSupported,
      /// <summary>
      /// An attempt was made to create a duplicate record.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("duplicate"), Description("Duplicate")]
      Duplicate,
      /// <summary>
      /// Multiple matching records were found when the operation required only one match.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("multiple-matches"), Description("Multiple Matches")]
      MultipleMatches,
      /// <summary>
      /// The reference provided was not found. In a pure RESTful environment, this would be an HTTP 404 error, but this code may be used where the content is not found further into the application architecture.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("not-found"), Description("Not Found")]
      NotFound,
      /// <summary>
      /// The reference pointed to content (usually a resource) that has been deleted.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("deleted"), Description("Deleted")]
      Deleted,
      /// <summary>
      /// Provided content is too long (typically, this is a denial of service protection type of error).
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("too-long"), Description("Content Too Long")]
      TooLong,
      /// <summary>
      /// The code or system could not be understood, or it was not valid in the context of a particular ValueSet.code.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("code-invalid"), Description("Invalid Code")]
      CodeInvalid,
      /// <summary>
      /// An extension was found that was not acceptable, could not be resolved, or a modifierExtension was not recognized.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("extension"), Description("Unacceptable Extension")]
      Extension,
      /// <summary>
      /// The operation was stopped to protect server resources; e.g. a request for a value set expansion on all of SNOMED CT.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("too-costly"), Description("Operation Too Costly")]
      TooCostly,
      /// <summary>
      /// The content/operation failed to pass some business rule and so could not proceed.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("business-rule"), Description("Business Rule Violation")]
      BusinessRule,
      /// <summary>
      /// Content could not be accepted because of an edit conflict (i.e. version aware updates). (In a pure RESTful environment, this would be an HTTP 409 error, but this code may be used where the conflict is discovered further into the application architecture.).
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("conflict"), Description("Edit Version Conflict")]
      Conflict,
      /// <summary>
      /// Some search filters might not have applied on all results.  Data may have been included that does not meet all of the filters listed in the `self` `Bundle.link`.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("limited-filter"), Description("Limited Filter Application")]
      LimitedFilter,
      /// <summary>
      /// Transient processing issues. The system receiving the message may be able to resubmit the same content once an underlying issue is resolved.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("transient"), Description("Transient Issue")]
      Transient,
      /// <summary>
      /// A resource/record locking failure (usually in an underlying database).
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("lock-error"), Description("Lock Error")]
      LockError,
      /// <summary>
      /// The persistent store is unavailable; e.g. the database is down for maintenance or similar action, and the interaction or operation cannot be processed.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("no-store"), Description("No Store Available")]
      NoStore,
      /// <summary>
      /// An unexpected internal error has occurred.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("exception"), Description("Exception")]
      Exception,
      /// <summary>
      /// An internal timeout has occurred.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("timeout"), Description("Timeout")]
      Timeout,
      /// <summary>
      /// Not all data sources typically accessed could be reached or responded in time, so the returned information might not be complete (applies to search interactions and some operations).
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("incomplete"), Description("Incomplete Results")]
      Incomplete,
      /// <summary>
      /// The system is not prepared to handle this request due to load management.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("throttled"), Description("Throttled")]
      Throttled,
      /// <summary>
      /// A message unrelated to the processing success of the completed operation (examples of the latter include things like reminders of password expiry, system maintenance times, etc.).
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("informational"), Description("Informational Note")]
      Informational,
      /// <summary>
      /// The operation completed successfully.
      /// (system: http://hl7.org/fhir/issue-type)
      /// </summary>
      [EnumLiteral("success"), Description("Operation Successful")]
      Success,
    }

    /// <summary>
    /// A single issue associated with the action
    /// </summary>
    /// <remarks>
    /// An error, warning, or information message that results from a system action.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("OperationOutcome.issue", IsBackboneType=true)]
    public partial class IssueComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "OperationOutcome.issue";

      /// <summary>
      /// fatal | error | warning | information | success.
      /// </summary>
      [FhirElement("severity", InSummary=true, IsModifier=true, Order=40)]
      [FhirElement("severity", InSummary=true, Order=40, Since=FhirRelease.R4)]
      [Binding("IssueSeverity")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity> SeverityElement
      {
        get
        {
          if(_SeverityElement.InOverflow<Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>), Overflow["severity"]);
          return _SeverityElement!;
        }

        set
        {
          if (_SeverityElement.InOverflow<Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>>())
            Overflow.Remove("severity");
          _SeverityElement = value;
          OnPropertyChanged("SeverityElement");
        }

      }

      private Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>? _SeverityElement;

      /// <summary>
      /// fatal | error | warning | information | success
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.OperationOutcome.IssueSeverity? Severity
      {
        get => SeverityElement?.Value;
        set
        {
          SeverityElement = value is null ? null! : new Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>(value);
          OnPropertyChanged("Severity");
        }
      }

      /// <summary>
      /// Error or warning code.
      /// </summary>
      [FhirElement("code", InSummary=true, Order=50)]
      [Binding("IssueType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.OperationOutcome.IssueType> CodeElement
      {
        get
        {
          if(_CodeElement.InOverflow<Code<Hl7.Fhir.Model.OperationOutcome.IssueType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.OperationOutcome.IssueType>), Overflow["code"]);
          return _CodeElement!;
        }

        set
        {
          if (_CodeElement.InOverflow<Code<Hl7.Fhir.Model.OperationOutcome.IssueType>>())
            Overflow.Remove("code");
          _CodeElement = value;
          OnPropertyChanged("CodeElement");
        }

      }

      private Code<Hl7.Fhir.Model.OperationOutcome.IssueType>? _CodeElement;

      /// <summary>
      /// Error or warning code
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.OperationOutcome.IssueType? Code
      {
        get => CodeElement?.Value;
        set
        {
          CodeElement = value is null ? null! : new Code<Hl7.Fhir.Model.OperationOutcome.IssueType>(value);
          OnPropertyChanged("Code");
        }
      }

      /// <summary>
      /// Additional details about the error.
      /// </summary>
      [FhirElement("details", InSummary=true, Order=60)]
      [Binding("IssueDetails")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Details
      {
        get
        {
          if(_Details.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["details"]);
          return _Details;
        }

        set
        {
          if (_Details.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("details");
          _Details = value;
          OnPropertyChanged("Details");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Details;

      /// <summary>
      /// Additional diagnostic information about the issue.
      /// </summary>
      [FhirElement("diagnostics", InSummary=true, Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DiagnosticsElement
      {
        get
        {
          if(_DiagnosticsElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["diagnostics"]);
          return _DiagnosticsElement;
        }

        set
        {
          if (_DiagnosticsElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("diagnostics");
          _DiagnosticsElement = value;
          OnPropertyChanged("DiagnosticsElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DiagnosticsElement;

      /// <summary>
      /// Additional diagnostic information about the issue
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Diagnostics
      {
        get => DiagnosticsElement?.Value;
        set
        {
          DiagnosticsElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Diagnostics");
        }
      }

      /// <summary>
      /// Deprecated: Path of element(s) related to issue.
      /// </summary>
      [FhirElement("location", InSummary=true, Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.FhirString> LocationElement
      {
        get
        {
          if(_LocationElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirString>), Overflow["location"]);
          return _LocationElement ??= [];
        }

        set
        {
          if (_LocationElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            Overflow.Remove("location");
          _LocationElement = value;
          OnPropertyChanged("LocationElement");
        }

      }

      private List<Hl7.Fhir.Model.FhirString>? _LocationElement;

      /// <summary>
      /// Deprecated: Path of element(s) related to issue
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<string?> Location
      {
        get => _LocationElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            LocationElement = null!;
          else
            LocationElement = new List<Hl7.Fhir.Model.FhirString>(value.Select(elem=>new Hl7.Fhir.Model.FhirString(elem)));
          OnPropertyChanged("Location");
        }
      }

      /// <summary>
      /// FHIRPath of element(s) related to issue.
      /// </summary>
      [FhirElement("expression", InSummary=true, Order=90)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.FhirString> ExpressionElement
      {
        get
        {
          if(_ExpressionElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirString>), Overflow["expression"]);
          return _ExpressionElement ??= [];
        }

        set
        {
          if (_ExpressionElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            Overflow.Remove("expression");
          _ExpressionElement = value;
          OnPropertyChanged("ExpressionElement");
        }

      }

      private List<Hl7.Fhir.Model.FhirString>? _ExpressionElement;

      /// <summary>
      /// FHIRPath of element(s) related to issue
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<string?> Expression
      {
        get => _ExpressionElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            ExpressionElement = null!;
          else
            ExpressionElement = new List<Hl7.Fhir.Model.FhirString>(value.Select(elem=>new Hl7.Fhir.Model.FhirString(elem)));
          OnPropertyChanged("Expression");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not IssueComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SeverityElement is not null) dest.SeverityElement = (Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>)_SeverityElement.DeepCopyInternal();
        if(_CodeElement is not null) dest.CodeElement = (Code<Hl7.Fhir.Model.OperationOutcome.IssueType>)_CodeElement.DeepCopyInternal();
        if(_Details is not null) dest.Details = (Hl7.Fhir.Model.CodeableConcept)_Details.DeepCopyInternal();
        if(_DiagnosticsElement is not null) dest.DiagnosticsElement = (Hl7.Fhir.Model.FhirString)_DiagnosticsElement.DeepCopyInternal();
        if(_LocationElement is not null) dest.LocationElement = new List<Hl7.Fhir.Model.FhirString>(_LocationElement.DeepCopyInternal());
        if(_ExpressionElement is not null) dest.ExpressionElement = new List<Hl7.Fhir.Model.FhirString>(_ExpressionElement.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new IssueComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not IssueComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SeverityElement, otherT._SeverityElement)) return false;
        if(!comparer.Equals(_CodeElement, otherT._CodeElement)) return false;
        if(!comparer.Equals(_Details, otherT._Details)) return false;
        if(!comparer.Equals(_DiagnosticsElement, otherT._DiagnosticsElement)) return false;
        if(!comparer.ListEquals(_LocationElement, otherT._LocationElement)) return false;
        if(!comparer.ListEquals(_ExpressionElement, otherT._ExpressionElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "severity":
            if (_SeverityElement.InOverflow<Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>>())
            {
              value = Overflow["severity"];
              return true;
            }
            value = _SeverityElement;
            return (value as Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>) is not null;
          case "code":
            if (_CodeElement.InOverflow<Code<Hl7.Fhir.Model.OperationOutcome.IssueType>>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _CodeElement;
            return (value as Code<Hl7.Fhir.Model.OperationOutcome.IssueType>) is not null;
          case "details":
            if (_Details.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["details"];
              return true;
            }
            value = _Details;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "diagnostics":
            if (_DiagnosticsElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["diagnostics"];
              return true;
            }
            value = _DiagnosticsElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "location":
            if (_LocationElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            {
              value = Overflow["location"];
              return true;
            }
            value = _LocationElement;
            return (value as List<Hl7.Fhir.Model.FhirString>)?.Any() is true;
          case "expression":
            if (_ExpressionElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            {
              value = Overflow["expression"];
              return true;
            }
            value = _ExpressionElement;
            return (value as List<Hl7.Fhir.Model.FhirString>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "severity":
            if (value is not (Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity> or null))
            {
              SeverityElement = OverflowNull<Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>>.INSTANCE;
              Overflow["severity"] = value;
            }
            else SeverityElement = (Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>?)value!;
            return this;
          case "code":
            if (value is not (Code<Hl7.Fhir.Model.OperationOutcome.IssueType> or null))
            {
              CodeElement = OverflowNull<Code<Hl7.Fhir.Model.OperationOutcome.IssueType>>.INSTANCE;
              Overflow["code"] = value;
            }
            else CodeElement = (Code<Hl7.Fhir.Model.OperationOutcome.IssueType>?)value!;
            return this;
          case "details":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Details = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["details"] = value;
            }
            else Details = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "diagnostics":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DiagnosticsElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["diagnostics"] = value;
            }
            else DiagnosticsElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "location":
            if (value is not (List<Hl7.Fhir.Model.FhirString> or null))
            {
              LocationElement = OverflowNull<List<Hl7.Fhir.Model.FhirString>>.INSTANCE;
              Overflow["location"] = value;
            }
            else LocationElement = (List<Hl7.Fhir.Model.FhirString>?)value!;
            return this;
          case "expression":
            if (value is not (List<Hl7.Fhir.Model.FhirString> or null))
            {
              ExpressionElement = OverflowNull<List<Hl7.Fhir.Model.FhirString>>.INSTANCE;
              Overflow["expression"] = value;
            }
            else ExpressionElement = (List<Hl7.Fhir.Model.FhirString>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SeverityElement is not null && !_SeverityElement.InOverflow<Code<Hl7.Fhir.Model.OperationOutcome.IssueSeverity>>()) yield return new KeyValuePair<string,object>("severity",_SeverityElement);
        if (_CodeElement is not null && !_CodeElement.InOverflow<Code<Hl7.Fhir.Model.OperationOutcome.IssueType>>()) yield return new KeyValuePair<string,object>("code",_CodeElement);
        if (_Details is not null && !_Details.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("details",_Details);
        if (_DiagnosticsElement is not null && !_DiagnosticsElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("diagnostics",_DiagnosticsElement);
        if (_LocationElement?.Any() is true && !_LocationElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>()) yield return new KeyValuePair<string,object>("location",_LocationElement);
        if (_ExpressionElement?.Any() is true && !_ExpressionElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>()) yield return new KeyValuePair<string,object>("expression",_ExpressionElement);
      }

    }

    /// <summary>
    /// A single issue associated with the action.
    /// </summary>
    [FhirElement("issue", InSummary=true, Order=90)]
    [Cardinality(Min=1,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.OperationOutcome.IssueComponent> Issue
    {
      get
      {
        if(_Issue.InOverflow<List<Hl7.Fhir.Model.OperationOutcome.IssueComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.OperationOutcome.IssueComponent>), Overflow["issue"]);
        return _Issue ??= [];
      }

      set
      {
        if (_Issue.InOverflow<List<Hl7.Fhir.Model.OperationOutcome.IssueComponent>>())
          Overflow.Remove("issue");
        _Issue = value;
        OnPropertyChanged("Issue");
      }

    }

    private List<Hl7.Fhir.Model.OperationOutcome.IssueComponent>? _Issue;

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not OperationOutcome dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Issue is not null) dest.Issue = new List<Hl7.Fhir.Model.OperationOutcome.IssueComponent>(_Issue.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new OperationOutcome();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not OperationOutcome otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Issue, otherT._Issue)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "issue":
          if (_Issue.InOverflow<List<Hl7.Fhir.Model.OperationOutcome.IssueComponent>>())
          {
            value = Overflow["issue"];
            return true;
          }
          value = _Issue;
          return (value as List<Hl7.Fhir.Model.OperationOutcome.IssueComponent>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "issue":
          if (value is not (List<Hl7.Fhir.Model.OperationOutcome.IssueComponent> or null))
          {
            Issue = OverflowNull<List<Hl7.Fhir.Model.OperationOutcome.IssueComponent>>.INSTANCE;
            Overflow["issue"] = value;
          }
          else Issue = (List<Hl7.Fhir.Model.OperationOutcome.IssueComponent>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Issue?.Any() is true && !_Issue.InOverflow<List<Hl7.Fhir.Model.OperationOutcome.IssueComponent>>()) yield return new KeyValuePair<string,object>("issue",_Issue);
    }

  }

}

// end of file
