// <auto-generated/>
// Contents of: hl7.fhir.r5.expansions@5.0.0, hl7.fhir.r5.core@5.0.0

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// Describes the results of a TestScript execution
  /// </summary>
  /// <remarks>
  /// A summary of information based on the results of executing a TestScript.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("TestReport","http://hl7.org/fhir/StructureDefinition/TestReport")]
  public partial class TestReport : Hl7.Fhir.Model.DomainResource, IIdentifiable<Identifier?>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "TestReport";

    /// <summary>
    /// The current status of the test report.
    /// (url: http://hl7.org/fhir/ValueSet/report-status-codes)
    /// (system: http://hl7.org/fhir/report-status-codes)
    /// </summary>
    [FhirEnumeration("TestReportStatus", "http://hl7.org/fhir/ValueSet/report-status-codes", "http://hl7.org/fhir/report-status-codes")]
    public enum TestReportStatus
    {
      /// <summary>
      /// All test operations have completed.
      /// (system: http://hl7.org/fhir/report-status-codes)
      /// </summary>
      [EnumLiteral("completed"), Description("Completed")]
      Completed,
      /// <summary>
      /// A test operations is currently executing.
      /// (system: http://hl7.org/fhir/report-status-codes)
      /// </summary>
      [EnumLiteral("in-progress"), Description("In Progress")]
      InProgress,
      /// <summary>
      /// A test operation is waiting for an external client request.
      /// (system: http://hl7.org/fhir/report-status-codes)
      /// </summary>
      [EnumLiteral("waiting"), Description("Waiting")]
      Waiting,
      /// <summary>
      /// The test script execution was manually stopped.
      /// (system: http://hl7.org/fhir/report-status-codes)
      /// </summary>
      [EnumLiteral("stopped"), Description("Stopped")]
      Stopped,
      /// <summary>
      /// This test report was entered or created in error.
      /// (system: http://hl7.org/fhir/report-status-codes)
      /// </summary>
      [EnumLiteral("entered-in-error"), Description("Entered In Error")]
      EnteredInError,
    }

    /// <summary>
    /// The reported execution result.
    /// (url: http://hl7.org/fhir/ValueSet/report-result-codes)
    /// (system: http://hl7.org/fhir/report-result-codes)
    /// </summary>
    [FhirEnumeration("TestReportResult", "http://hl7.org/fhir/ValueSet/report-result-codes", "http://hl7.org/fhir/report-result-codes")]
    public enum TestReportResult
    {
      /// <summary>
      /// All test operations successfully passed all asserts.
      /// (system: http://hl7.org/fhir/report-result-codes)
      /// </summary>
      [EnumLiteral("pass"), Description("Pass")]
      Pass,
      /// <summary>
      /// One or more test operations failed one or more asserts.
      /// (system: http://hl7.org/fhir/report-result-codes)
      /// </summary>
      [EnumLiteral("fail"), Description("Fail")]
      Fail,
      /// <summary>
      /// One or more test operations is pending execution completion.
      /// (system: http://hl7.org/fhir/report-result-codes)
      /// </summary>
      [EnumLiteral("pending"), Description("Pending")]
      Pending,
    }

    /// <summary>
    /// The type of participant.
    /// (url: http://hl7.org/fhir/ValueSet/report-participant-type)
    /// (system: http://hl7.org/fhir/report-participant-type)
    /// </summary>
    [FhirEnumeration("TestReportParticipantType", "http://hl7.org/fhir/ValueSet/report-participant-type", "http://hl7.org/fhir/report-participant-type")]
    public enum TestReportParticipantType
    {
      /// <summary>
      /// The test execution engine.
      /// (system: http://hl7.org/fhir/report-participant-type)
      /// </summary>
      [EnumLiteral("test-engine"), Description("Test Engine")]
      TestEngine,
      /// <summary>
      /// A FHIR Client.
      /// (system: http://hl7.org/fhir/report-participant-type)
      /// </summary>
      [EnumLiteral("client"), Description("Client")]
      Client,
      /// <summary>
      /// A FHIR Server.
      /// (system: http://hl7.org/fhir/report-participant-type)
      /// </summary>
      [EnumLiteral("server"), Description("Server")]
      Server,
    }

    /// <summary>
    /// The results of executing an action.
    /// (url: http://hl7.org/fhir/ValueSet/report-action-result-codes)
    /// (system: http://hl7.org/fhir/report-action-result-codes)
    /// </summary>
    [FhirEnumeration("TestReportActionResult", "http://hl7.org/fhir/ValueSet/report-action-result-codes", "http://hl7.org/fhir/report-action-result-codes")]
    public enum TestReportActionResult
    {
      /// <summary>
      /// The action was successful.
      /// (system: http://hl7.org/fhir/report-action-result-codes)
      /// </summary>
      [EnumLiteral("pass"), Description("Pass")]
      Pass,
      /// <summary>
      /// The action was skipped.
      /// (system: http://hl7.org/fhir/report-action-result-codes)
      /// </summary>
      [EnumLiteral("skip"), Description("Skip")]
      Skip,
      /// <summary>
      /// The action failed.
      /// (system: http://hl7.org/fhir/report-action-result-codes)
      /// </summary>
      [EnumLiteral("fail"), Description("Fail")]
      Fail,
      /// <summary>
      /// The action passed but with warnings.
      /// (system: http://hl7.org/fhir/report-action-result-codes)
      /// </summary>
      [EnumLiteral("warning"), Description("Warning")]
      Warning,
      /// <summary>
      /// The action encountered a fatal error and the engine was unable to process.
      /// (system: http://hl7.org/fhir/report-action-result-codes)
      /// </summary>
      [EnumLiteral("error"), Description("Error")]
      Error,
    }

    /// <summary>
    /// A participant in the test execution, either the execution engine, a client, or a server
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("TestReport.participant", IsBackboneType=true)]
    public partial class ParticipantComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestReport.participant";

      /// <summary>
      /// test-engine | client | server.
      /// </summary>
      [FhirElement("type", Order=40)]
      [Binding("TestReportParticipantType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType> TypeElement
      {
        get
        {
          if(_TypeElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>), Overflow["type"]);
          return _TypeElement!;
        }

        set
        {
          if (_TypeElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>>())
            Overflow.Remove("type");
          _TypeElement = value;
          OnPropertyChanged("TypeElement");
        }

      }

      private Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>? _TypeElement;

      /// <summary>
      /// test-engine | client | server
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.TestReport.TestReportParticipantType? Type
      {
        get => TypeElement?.Value;
        set
        {
          TypeElement = value is null ? null! : new Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>(value);
          OnPropertyChanged("Type");
        }
      }

      /// <summary>
      /// The uri of the participant. An absolute URL is preferred.
      /// </summary>
      [FhirElement("uri", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirUri UriElement
      {
        get
        {
          if(_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["uri"]);
          return _UriElement!;
        }

        set
        {
          if (_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            Overflow.Remove("uri");
          _UriElement = value;
          OnPropertyChanged("UriElement");
        }

      }

      private Hl7.Fhir.Model.FhirUri? _UriElement;

      /// <summary>
      /// The uri of the participant. An absolute URL is preferred
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Uri
      {
        get => UriElement?.Value;
        set
        {
          UriElement = value is null ? null! : new Hl7.Fhir.Model.FhirUri(value);
          OnPropertyChanged("Uri");
        }
      }

      /// <summary>
      /// The display name of the participant.
      /// </summary>
      [FhirElement("display", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DisplayElement
      {
        get
        {
          if(_DisplayElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["display"]);
          return _DisplayElement;
        }

        set
        {
          if (_DisplayElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("display");
          _DisplayElement = value;
          OnPropertyChanged("DisplayElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DisplayElement;

      /// <summary>
      /// The display name of the participant
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Display
      {
        get => DisplayElement?.Value;
        set
        {
          DisplayElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Display");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ParticipantComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_TypeElement is not null) dest.TypeElement = (Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>)_TypeElement.DeepCopyInternal();
        if(_UriElement is not null) dest.UriElement = (Hl7.Fhir.Model.FhirUri)_UriElement.DeepCopyInternal();
        if(_DisplayElement is not null) dest.DisplayElement = (Hl7.Fhir.Model.FhirString)_DisplayElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ParticipantComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ParticipantComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_TypeElement, otherT._TypeElement)) return false;
        if(!comparer.Equals(_UriElement, otherT._UriElement)) return false;
        if(!comparer.Equals(_DisplayElement, otherT._DisplayElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_TypeElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _TypeElement;
            return (value as Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>) is not null;
          case "uri":
            if (_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            {
              value = Overflow["uri"];
              return true;
            }
            value = _UriElement;
            return (value as Hl7.Fhir.Model.FhirUri) is not null;
          case "display":
            if (_DisplayElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["display"];
              return true;
            }
            value = _DisplayElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType> or null))
            {
              TypeElement = OverflowNull<Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>>.INSTANCE;
              Overflow["type"] = value;
            }
            else TypeElement = (Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>?)value!;
            return this;
          case "uri":
            if (value is not (Hl7.Fhir.Model.FhirUri or null))
            {
              UriElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
              Overflow["uri"] = value;
            }
            else UriElement = (Hl7.Fhir.Model.FhirUri?)value!;
            return this;
          case "display":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DisplayElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["display"] = value;
            }
            else DisplayElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_TypeElement is not null && !_TypeElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportParticipantType>>()) yield return new KeyValuePair<string,object>("type",_TypeElement);
        if (_UriElement is not null && !_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("uri",_UriElement);
        if (_DisplayElement is not null && !_DisplayElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("display",_DisplayElement);
      }

    }

    /// <summary>
    /// The results of the series of required setup operations before the tests were executed
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("TestReport.setup", IsBackboneType=true)]
    public partial class SetupComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestReport.setup";

      /// <summary>
      /// A setup operation or assert that was executed.
      /// </summary>
      [FhirElement("action", Order=40)]
      [Cardinality(Min=1,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestReport.SetupActionComponent> Action
      {
        get
        {
          if(_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.SetupActionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestReport.SetupActionComponent>), Overflow["action"]);
          return _Action ??= [];
        }

        set
        {
          if (_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.SetupActionComponent>>())
            Overflow.Remove("action");
          _Action = value;
          OnPropertyChanged("Action");
        }

      }

      private List<Hl7.Fhir.Model.TestReport.SetupActionComponent>? _Action;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SetupComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Action is not null) dest.Action = new List<Hl7.Fhir.Model.TestReport.SetupActionComponent>(_Action.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SetupComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SetupComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.ListEquals(_Action, otherT._Action)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "action":
            if (_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.SetupActionComponent>>())
            {
              value = Overflow["action"];
              return true;
            }
            value = _Action;
            return (value as List<Hl7.Fhir.Model.TestReport.SetupActionComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "action":
            if (value is not (List<Hl7.Fhir.Model.TestReport.SetupActionComponent> or null))
            {
              Action = OverflowNull<List<Hl7.Fhir.Model.TestReport.SetupActionComponent>>.INSTANCE;
              Overflow["action"] = value;
            }
            else Action = (List<Hl7.Fhir.Model.TestReport.SetupActionComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Action?.Any() is true && !_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.SetupActionComponent>>()) yield return new KeyValuePair<string,object>("action",_Action);
      }

    }

    /// <summary>
    /// A setup operation or assert that was executed
    /// </summary>
    /// <remarks>
    /// Action would contain either an operation or an assertion.
    /// An action should contain either an operation or an assertion but not both.  It can contain any number of variables.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestReport.setup.action", IsBackboneType=true)]
    public partial class SetupActionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestReport.setup.action";

      /// <summary>
      /// The operation to perform.
      /// </summary>
      [FhirElement("operation", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.TestReport.OperationComponent? Operation
      {
        get
        {
          if(_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestReport.OperationComponent), Overflow["operation"]);
          return _Operation;
        }

        set
        {
          if (_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>())
            Overflow.Remove("operation");
          _Operation = value;
          OnPropertyChanged("Operation");
        }

      }

      private Hl7.Fhir.Model.TestReport.OperationComponent? _Operation;

      /// <summary>
      /// The assertion to perform.
      /// </summary>
      [FhirElement("assert", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.TestReport.AssertComponent? Assert
      {
        get
        {
          if(_Assert.InOverflow<Hl7.Fhir.Model.TestReport.AssertComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestReport.AssertComponent), Overflow["assert"]);
          return _Assert;
        }

        set
        {
          if (_Assert.InOverflow<Hl7.Fhir.Model.TestReport.AssertComponent>())
            Overflow.Remove("assert");
          _Assert = value;
          OnPropertyChanged("Assert");
        }

      }

      private Hl7.Fhir.Model.TestReport.AssertComponent? _Assert;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SetupActionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Operation is not null) dest.Operation = (Hl7.Fhir.Model.TestReport.OperationComponent)_Operation.DeepCopyInternal();
        if(_Assert is not null) dest.Assert = (Hl7.Fhir.Model.TestReport.AssertComponent)_Assert.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SetupActionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SetupActionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Operation, otherT._Operation)) return false;
        if(!comparer.Equals(_Assert, otherT._Assert)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "operation":
            if (_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>())
            {
              value = Overflow["operation"];
              return true;
            }
            value = _Operation;
            return (value as Hl7.Fhir.Model.TestReport.OperationComponent) is not null;
          case "assert":
            if (_Assert.InOverflow<Hl7.Fhir.Model.TestReport.AssertComponent>())
            {
              value = Overflow["assert"];
              return true;
            }
            value = _Assert;
            return (value as Hl7.Fhir.Model.TestReport.AssertComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "operation":
            if (value is not (Hl7.Fhir.Model.TestReport.OperationComponent or null))
            {
              Operation = OverflowNull<Hl7.Fhir.Model.TestReport.OperationComponent>.INSTANCE;
              Overflow["operation"] = value;
            }
            else Operation = (Hl7.Fhir.Model.TestReport.OperationComponent?)value;
            return this;
          case "assert":
            if (value is not (Hl7.Fhir.Model.TestReport.AssertComponent or null))
            {
              Assert = OverflowNull<Hl7.Fhir.Model.TestReport.AssertComponent>.INSTANCE;
              Overflow["assert"] = value;
            }
            else Assert = (Hl7.Fhir.Model.TestReport.AssertComponent?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Operation is not null && !_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>()) yield return new KeyValuePair<string,object>("operation",_Operation);
        if (_Assert is not null && !_Assert.InOverflow<Hl7.Fhir.Model.TestReport.AssertComponent>()) yield return new KeyValuePair<string,object>("assert",_Assert);
      }

    }

    /// <summary>
    /// The operation to perform
    /// </summary>
    /// <remarks>
    /// The operation performed.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestReport.setup.action.operation", IsBackboneType=true)]
    public partial class OperationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestReport.setup.action.operation";

      /// <summary>
      /// pass | skip | fail | warning | error.
      /// </summary>
      [FhirElement("result", Order=40)]
      [Binding("TestReportActionResult")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.TestReport.TestReportActionResult> ResultElement
      {
        get
        {
          if(_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>), Overflow["result"]);
          return _ResultElement!;
        }

        set
        {
          if (_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>>())
            Overflow.Remove("result");
          _ResultElement = value;
          OnPropertyChanged("ResultElement");
        }

      }

      private Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>? _ResultElement;

      /// <summary>
      /// pass | skip | fail | warning | error
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.TestReport.TestReportActionResult? Result
      {
        get => ResultElement?.Value;
        set
        {
          ResultElement = value is null ? null! : new Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>(value);
          OnPropertyChanged("Result");
        }
      }

      /// <summary>
      /// A message associated with the result.
      /// </summary>
      [FhirElement("message", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? MessageElement
      {
        get
        {
          if(_MessageElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["message"]);
          return _MessageElement;
        }

        set
        {
          if (_MessageElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("message");
          _MessageElement = value;
          OnPropertyChanged("MessageElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _MessageElement;

      /// <summary>
      /// A message associated with the result
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Message
      {
        get => MessageElement?.Value;
        set
        {
          MessageElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Message");
        }
      }

      /// <summary>
      /// A link to further details on the result.
      /// </summary>
      [FhirElement("detail", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirUri? DetailElement
      {
        get
        {
          if(_DetailElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["detail"]);
          return _DetailElement;
        }

        set
        {
          if (_DetailElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            Overflow.Remove("detail");
          _DetailElement = value;
          OnPropertyChanged("DetailElement");
        }

      }

      private Hl7.Fhir.Model.FhirUri? _DetailElement;

      /// <summary>
      /// A link to further details on the result
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Detail
      {
        get => DetailElement?.Value;
        set
        {
          DetailElement = value is null ? null! : new Hl7.Fhir.Model.FhirUri(value);
          OnPropertyChanged("Detail");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not OperationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_ResultElement is not null) dest.ResultElement = (Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>)_ResultElement.DeepCopyInternal();
        if(_MessageElement is not null) dest.MessageElement = (Hl7.Fhir.Model.Markdown)_MessageElement.DeepCopyInternal();
        if(_DetailElement is not null) dest.DetailElement = (Hl7.Fhir.Model.FhirUri)_DetailElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new OperationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not OperationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_ResultElement, otherT._ResultElement)) return false;
        if(!comparer.Equals(_MessageElement, otherT._MessageElement)) return false;
        if(!comparer.Equals(_DetailElement, otherT._DetailElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "result":
            if (_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>>())
            {
              value = Overflow["result"];
              return true;
            }
            value = _ResultElement;
            return (value as Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>) is not null;
          case "message":
            if (_MessageElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["message"];
              return true;
            }
            value = _MessageElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "detail":
            if (_DetailElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            {
              value = Overflow["detail"];
              return true;
            }
            value = _DetailElement;
            return (value as Hl7.Fhir.Model.FhirUri) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "result":
            if (value is not (Code<Hl7.Fhir.Model.TestReport.TestReportActionResult> or null))
            {
              ResultElement = OverflowNull<Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>>.INSTANCE;
              Overflow["result"] = value;
            }
            else ResultElement = (Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>?)value!;
            return this;
          case "message":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              MessageElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["message"] = value;
            }
            else MessageElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "detail":
            if (value is not (Hl7.Fhir.Model.FhirUri or null))
            {
              DetailElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
              Overflow["detail"] = value;
            }
            else DetailElement = (Hl7.Fhir.Model.FhirUri?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_ResultElement is not null && !_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>>()) yield return new KeyValuePair<string,object>("result",_ResultElement);
        if (_MessageElement is not null && !_MessageElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("message",_MessageElement);
        if (_DetailElement is not null && !_DetailElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("detail",_DetailElement);
      }

    }

    /// <summary>
    /// The assertion to perform
    /// </summary>
    /// <remarks>
    /// The results of the assertion performed on the previous operations.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestReport.setup.action.assert", IsBackboneType=true)]
    public partial class AssertComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestReport.setup.action.assert";

      /// <summary>
      /// pass | skip | fail | warning | error.
      /// </summary>
      [FhirElement("result", Order=40)]
      [Binding("TestReportActionResult")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.TestReport.TestReportActionResult> ResultElement
      {
        get
        {
          if(_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>), Overflow["result"]);
          return _ResultElement!;
        }

        set
        {
          if (_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>>())
            Overflow.Remove("result");
          _ResultElement = value;
          OnPropertyChanged("ResultElement");
        }

      }

      private Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>? _ResultElement;

      /// <summary>
      /// pass | skip | fail | warning | error
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.TestReport.TestReportActionResult? Result
      {
        get => ResultElement?.Value;
        set
        {
          ResultElement = value is null ? null! : new Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>(value);
          OnPropertyChanged("Result");
        }
      }

      /// <summary>
      /// A message associated with the result.
      /// </summary>
      [FhirElement("message", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? MessageElement
      {
        get
        {
          if(_MessageElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["message"]);
          return _MessageElement;
        }

        set
        {
          if (_MessageElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("message");
          _MessageElement = value;
          OnPropertyChanged("MessageElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _MessageElement;

      /// <summary>
      /// A message associated with the result
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Message
      {
        get => MessageElement?.Value;
        set
        {
          MessageElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Message");
        }
      }

      /// <summary>
      /// A link to further details on the result.
      /// </summary>
      [FhirElement("detail", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DetailElement
      {
        get
        {
          if(_DetailElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["detail"]);
          return _DetailElement;
        }

        set
        {
          if (_DetailElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("detail");
          _DetailElement = value;
          OnPropertyChanged("DetailElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DetailElement;

      /// <summary>
      /// A link to further details on the result
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Detail
      {
        get => DetailElement?.Value;
        set
        {
          DetailElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Detail");
        }
      }

      /// <summary>
      /// Links or references to the testing requirements.
      /// </summary>
      [FhirElement("requirement", Order=70)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestReport.RequirementComponent> Requirement
      {
        get
        {
          if(_Requirement.InOverflow<List<Hl7.Fhir.Model.TestReport.RequirementComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestReport.RequirementComponent>), Overflow["requirement"]);
          return _Requirement ??= [];
        }

        set
        {
          if (_Requirement.InOverflow<List<Hl7.Fhir.Model.TestReport.RequirementComponent>>())
            Overflow.Remove("requirement");
          _Requirement = value;
          OnPropertyChanged("Requirement");
        }

      }

      private List<Hl7.Fhir.Model.TestReport.RequirementComponent>? _Requirement;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AssertComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_ResultElement is not null) dest.ResultElement = (Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>)_ResultElement.DeepCopyInternal();
        if(_MessageElement is not null) dest.MessageElement = (Hl7.Fhir.Model.Markdown)_MessageElement.DeepCopyInternal();
        if(_DetailElement is not null) dest.DetailElement = (Hl7.Fhir.Model.FhirString)_DetailElement.DeepCopyInternal();
        if(_Requirement is not null) dest.Requirement = new List<Hl7.Fhir.Model.TestReport.RequirementComponent>(_Requirement.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AssertComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AssertComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_ResultElement, otherT._ResultElement)) return false;
        if(!comparer.Equals(_MessageElement, otherT._MessageElement)) return false;
        if(!comparer.Equals(_DetailElement, otherT._DetailElement)) return false;
        if(!comparer.ListEquals(_Requirement, otherT._Requirement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "result":
            if (_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>>())
            {
              value = Overflow["result"];
              return true;
            }
            value = _ResultElement;
            return (value as Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>) is not null;
          case "message":
            if (_MessageElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["message"];
              return true;
            }
            value = _MessageElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "detail":
            if (_DetailElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["detail"];
              return true;
            }
            value = _DetailElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "requirement":
            if (_Requirement.InOverflow<List<Hl7.Fhir.Model.TestReport.RequirementComponent>>())
            {
              value = Overflow["requirement"];
              return true;
            }
            value = _Requirement;
            return (value as List<Hl7.Fhir.Model.TestReport.RequirementComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "result":
            if (value is not (Code<Hl7.Fhir.Model.TestReport.TestReportActionResult> or null))
            {
              ResultElement = OverflowNull<Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>>.INSTANCE;
              Overflow["result"] = value;
            }
            else ResultElement = (Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>?)value!;
            return this;
          case "message":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              MessageElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["message"] = value;
            }
            else MessageElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "detail":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DetailElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["detail"] = value;
            }
            else DetailElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "requirement":
            if (value is not (List<Hl7.Fhir.Model.TestReport.RequirementComponent> or null))
            {
              Requirement = OverflowNull<List<Hl7.Fhir.Model.TestReport.RequirementComponent>>.INSTANCE;
              Overflow["requirement"] = value;
            }
            else Requirement = (List<Hl7.Fhir.Model.TestReport.RequirementComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_ResultElement is not null && !_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportActionResult>>()) yield return new KeyValuePair<string,object>("result",_ResultElement);
        if (_MessageElement is not null && !_MessageElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("message",_MessageElement);
        if (_DetailElement is not null && !_DetailElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("detail",_DetailElement);
        if (_Requirement?.Any() is true && !_Requirement.InOverflow<List<Hl7.Fhir.Model.TestReport.RequirementComponent>>()) yield return new KeyValuePair<string,object>("requirement",_Requirement);
      }

    }

    /// <summary>
    /// Links or references to the testing requirements
    /// </summary>
    /// <remarks>
    /// Links or references providing traceability to the testing requirements for this assert.
    /// TestScript and TestReport instances are typically (and expected to be) based on known, defined test requirements and documentation. These links provide traceability from the executable/executed TestScript and TestReport tests to these requirements.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestReport.setup.action.assert.requirement", IsBackboneType=true)]
    public partial class RequirementComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestReport.setup.action.assert.requirement";

      /// <summary>
      /// Link or reference to the testing requirement.
      /// </summary>
      [FhirElement("link", Order=40, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.FhirUri),typeof(Hl7.Fhir.Model.Canonical))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Link
      {
        get
        {
          if(_Link.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["link"]);
          return _Link;
        }

        set
        {
          if (_Link.InOverflow<DynamicDataType>())
            Overflow.Remove("link");
          _Link = value;
          OnPropertyChanged("Link");
        }

      }

      private Hl7.Fhir.Model.DataType? _Link;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not RequirementComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Link is not null) dest.Link = (Hl7.Fhir.Model.DataType)_Link.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new RequirementComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not RequirementComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Link, otherT._Link)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "link":
            if (_Link.InOverflow<DynamicDataType>())
            {
              value = Overflow["link"];
              return true;
            }
            value = _Link;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "link":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Link = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["link"] = value;
            }
            else Link = (Hl7.Fhir.Model.DataType?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Link is not null && !_Link.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("link",_Link);
      }

    }

    /// <summary>
    /// A test executed from the test script
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("TestReport.test", IsBackboneType=true)]
    public partial class TestComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestReport.test";

      /// <summary>
      /// Tracking/logging name of this test.
      /// </summary>
      [FhirElement("name", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// Tracking/logging name of this test
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Tracking/reporting short description of the test.
      /// </summary>
      [FhirElement("description", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// Tracking/reporting short description of the test
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// A test operation or assert that was performed.
      /// </summary>
      [FhirElement("action", Order=60)]
      [Cardinality(Min=1,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestReport.TestActionComponent> Action
      {
        get
        {
          if(_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.TestActionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestReport.TestActionComponent>), Overflow["action"]);
          return _Action ??= [];
        }

        set
        {
          if (_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.TestActionComponent>>())
            Overflow.Remove("action");
          _Action = value;
          OnPropertyChanged("Action");
        }

      }

      private List<Hl7.Fhir.Model.TestReport.TestActionComponent>? _Action;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not TestComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
        if(_Action is not null) dest.Action = new List<Hl7.Fhir.Model.TestReport.TestActionComponent>(_Action.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new TestComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not TestComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.ListEquals(_Action, otherT._Action)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "action":
            if (_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.TestActionComponent>>())
            {
              value = Overflow["action"];
              return true;
            }
            value = _Action;
            return (value as List<Hl7.Fhir.Model.TestReport.TestActionComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "action":
            if (value is not (List<Hl7.Fhir.Model.TestReport.TestActionComponent> or null))
            {
              Action = OverflowNull<List<Hl7.Fhir.Model.TestReport.TestActionComponent>>.INSTANCE;
              Overflow["action"] = value;
            }
            else Action = (List<Hl7.Fhir.Model.TestReport.TestActionComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_Action?.Any() is true && !_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.TestActionComponent>>()) yield return new KeyValuePair<string,object>("action",_Action);
      }

    }

    /// <summary>
    /// A test operation or assert that was performed
    /// </summary>
    /// <remarks>
    /// Action would contain either an operation or an assertion.
    /// An action should contain either an operation or an assertion but not both.  It can contain any number of variables.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestReport.test.action", IsBackboneType=true)]
    public partial class TestActionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestReport.test.action";

      /// <summary>
      /// The operation performed.
      /// </summary>
      [FhirElement("operation", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.TestReport.OperationComponent? Operation
      {
        get
        {
          if(_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestReport.OperationComponent), Overflow["operation"]);
          return _Operation;
        }

        set
        {
          if (_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>())
            Overflow.Remove("operation");
          _Operation = value;
          OnPropertyChanged("Operation");
        }

      }

      private Hl7.Fhir.Model.TestReport.OperationComponent? _Operation;

      /// <summary>
      /// The assertion performed.
      /// </summary>
      [FhirElement("assert", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.TestReport.AssertComponent? Assert
      {
        get
        {
          if(_Assert.InOverflow<Hl7.Fhir.Model.TestReport.AssertComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestReport.AssertComponent), Overflow["assert"]);
          return _Assert;
        }

        set
        {
          if (_Assert.InOverflow<Hl7.Fhir.Model.TestReport.AssertComponent>())
            Overflow.Remove("assert");
          _Assert = value;
          OnPropertyChanged("Assert");
        }

      }

      private Hl7.Fhir.Model.TestReport.AssertComponent? _Assert;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not TestActionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Operation is not null) dest.Operation = (Hl7.Fhir.Model.TestReport.OperationComponent)_Operation.DeepCopyInternal();
        if(_Assert is not null) dest.Assert = (Hl7.Fhir.Model.TestReport.AssertComponent)_Assert.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new TestActionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not TestActionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Operation, otherT._Operation)) return false;
        if(!comparer.Equals(_Assert, otherT._Assert)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "operation":
            if (_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>())
            {
              value = Overflow["operation"];
              return true;
            }
            value = _Operation;
            return (value as Hl7.Fhir.Model.TestReport.OperationComponent) is not null;
          case "assert":
            if (_Assert.InOverflow<Hl7.Fhir.Model.TestReport.AssertComponent>())
            {
              value = Overflow["assert"];
              return true;
            }
            value = _Assert;
            return (value as Hl7.Fhir.Model.TestReport.AssertComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "operation":
            if (value is not (Hl7.Fhir.Model.TestReport.OperationComponent or null))
            {
              Operation = OverflowNull<Hl7.Fhir.Model.TestReport.OperationComponent>.INSTANCE;
              Overflow["operation"] = value;
            }
            else Operation = (Hl7.Fhir.Model.TestReport.OperationComponent?)value;
            return this;
          case "assert":
            if (value is not (Hl7.Fhir.Model.TestReport.AssertComponent or null))
            {
              Assert = OverflowNull<Hl7.Fhir.Model.TestReport.AssertComponent>.INSTANCE;
              Overflow["assert"] = value;
            }
            else Assert = (Hl7.Fhir.Model.TestReport.AssertComponent?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Operation is not null && !_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>()) yield return new KeyValuePair<string,object>("operation",_Operation);
        if (_Assert is not null && !_Assert.InOverflow<Hl7.Fhir.Model.TestReport.AssertComponent>()) yield return new KeyValuePair<string,object>("assert",_Assert);
      }

    }

    /// <summary>
    /// The results of running the series of required clean up steps
    /// </summary>
    /// <remarks>
    /// The results of the series of operations required to clean up after all the tests were executed (successfully or otherwise).
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestReport.teardown", IsBackboneType=true)]
    public partial class TeardownComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestReport.teardown";

      /// <summary>
      /// One or more teardown operations performed.
      /// </summary>
      [FhirElement("action", Order=40)]
      [Cardinality(Min=1,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestReport.TeardownActionComponent> Action
      {
        get
        {
          if(_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.TeardownActionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestReport.TeardownActionComponent>), Overflow["action"]);
          return _Action ??= [];
        }

        set
        {
          if (_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.TeardownActionComponent>>())
            Overflow.Remove("action");
          _Action = value;
          OnPropertyChanged("Action");
        }

      }

      private List<Hl7.Fhir.Model.TestReport.TeardownActionComponent>? _Action;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not TeardownComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Action is not null) dest.Action = new List<Hl7.Fhir.Model.TestReport.TeardownActionComponent>(_Action.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new TeardownComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not TeardownComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.ListEquals(_Action, otherT._Action)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "action":
            if (_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.TeardownActionComponent>>())
            {
              value = Overflow["action"];
              return true;
            }
            value = _Action;
            return (value as List<Hl7.Fhir.Model.TestReport.TeardownActionComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "action":
            if (value is not (List<Hl7.Fhir.Model.TestReport.TeardownActionComponent> or null))
            {
              Action = OverflowNull<List<Hl7.Fhir.Model.TestReport.TeardownActionComponent>>.INSTANCE;
              Overflow["action"] = value;
            }
            else Action = (List<Hl7.Fhir.Model.TestReport.TeardownActionComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Action?.Any() is true && !_Action.InOverflow<List<Hl7.Fhir.Model.TestReport.TeardownActionComponent>>()) yield return new KeyValuePair<string,object>("action",_Action);
      }

    }

    /// <summary>
    /// One or more teardown operations performed
    /// </summary>
    /// <remarks>
    /// The teardown action will only contain an operation.
    /// An action should contain either an operation or an assertion but not both.  It can contain any number of variables.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestReport.teardown.action", IsBackboneType=true)]
    public partial class TeardownActionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestReport.teardown.action";

      /// <summary>
      /// The teardown operation performed.
      /// </summary>
      [FhirElement("operation", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.TestReport.OperationComponent Operation
      {
        get
        {
          if(_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestReport.OperationComponent), Overflow["operation"]);
          return _Operation!;
        }

        set
        {
          if (_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>())
            Overflow.Remove("operation");
          _Operation = value;
          OnPropertyChanged("Operation");
        }

      }

      private Hl7.Fhir.Model.TestReport.OperationComponent? _Operation;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not TeardownActionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Operation is not null) dest.Operation = (Hl7.Fhir.Model.TestReport.OperationComponent)_Operation.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new TeardownActionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not TeardownActionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Operation, otherT._Operation)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "operation":
            if (_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>())
            {
              value = Overflow["operation"];
              return true;
            }
            value = _Operation;
            return (value as Hl7.Fhir.Model.TestReport.OperationComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "operation":
            if (value is not (Hl7.Fhir.Model.TestReport.OperationComponent or null))
            {
              Operation = OverflowNull<Hl7.Fhir.Model.TestReport.OperationComponent>.INSTANCE;
              Overflow["operation"] = value;
            }
            else Operation = (Hl7.Fhir.Model.TestReport.OperationComponent?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Operation is not null && !_Operation.InOverflow<Hl7.Fhir.Model.TestReport.OperationComponent>()) yield return new KeyValuePair<string,object>("operation",_Operation);
      }

    }

    /// <summary>
    /// External identifier.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=90, FiveWs="FiveWs.identifier")]
    [DataMember]
    public Hl7.Fhir.Model.Identifier? Identifier
    {
      get
      {
        if(_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["identifier"]);
        return _Identifier;
      }

      set
      {
        if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private Hl7.Fhir.Model.Identifier? _Identifier;

    /// <summary>
    /// Informal name of the executed TestReport.
    /// </summary>
    [FhirElement("name", InSummary=true, Order=100)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? NameElement
    {
      get
      {
        if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
        return _NameElement;
      }

      set
      {
        if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("name");
        _NameElement = value;
        OnPropertyChanged("NameElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _NameElement;

    /// <summary>
    /// Informal name of the executed TestReport
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Name
    {
      get => NameElement?.Value;
      set
      {
        NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Name");
      }
    }

    /// <summary>
    /// completed | in-progress | waiting | stopped | entered-in-error.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=110, FiveWs="FiveWs.status")]
    [Binding("TestReportStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.TestReport.TestReportStatus> StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestReport.TestReportStatus>), Overflow["status"]);
        return _StatusElement!;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.TestReport.TestReportStatus>? _StatusElement;

    /// <summary>
    /// completed | in-progress | waiting | stopped | entered-in-error
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.TestReport.TestReportStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.TestReport.TestReportStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// Canonical URL to the  version-specific TestScript that was executed to produce this TestReport.
    /// </summary>
    [FhirElement("testScript", InSummary=true, Order=120)]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.Canonical TestScriptElement
    {
      get
      {
        if(_TestScriptElement.InOverflow<Hl7.Fhir.Model.Canonical>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Canonical), Overflow["testScript"]);
        return _TestScriptElement!;
      }

      set
      {
        if (_TestScriptElement.InOverflow<Hl7.Fhir.Model.Canonical>())
          Overflow.Remove("testScript");
        _TestScriptElement = value;
        OnPropertyChanged("TestScriptElement");
      }

    }

    private Hl7.Fhir.Model.Canonical? _TestScriptElement;

    /// <summary>
    /// Canonical URL to the  version-specific TestScript that was executed to produce this TestReport
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? TestScript
    {
      get => TestScriptElement?.Value;
      set
      {
        TestScriptElement = value is null ? null! : new Hl7.Fhir.Model.Canonical(value);
        OnPropertyChanged("TestScript");
      }
    }

    /// <summary>
    /// pass | fail | pending.
    /// </summary>
    [FhirElement("result", InSummary=true, Order=130)]
    [Binding("TestReportResult")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.TestReport.TestReportResult> ResultElement
    {
      get
      {
        if(_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportResult>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestReport.TestReportResult>), Overflow["result"]);
        return _ResultElement!;
      }

      set
      {
        if (_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportResult>>())
          Overflow.Remove("result");
        _ResultElement = value;
        OnPropertyChanged("ResultElement");
      }

    }

    private Code<Hl7.Fhir.Model.TestReport.TestReportResult>? _ResultElement;

    /// <summary>
    /// pass | fail | pending
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.TestReport.TestReportResult? Result
    {
      get => ResultElement?.Value;
      set
      {
        ResultElement = value is null ? null! : new Code<Hl7.Fhir.Model.TestReport.TestReportResult>(value);
        OnPropertyChanged("Result");
      }
    }

    /// <summary>
    /// The final score (percentage of tests passed) resulting from the execution of the TestScript.
    /// </summary>
    [FhirElement("score", InSummary=true, Order=140)]
    [DataMember]
    public Hl7.Fhir.Model.FhirDecimal? ScoreElement
    {
      get
      {
        if(_ScoreElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["score"]);
        return _ScoreElement;
      }

      set
      {
        if (_ScoreElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
          Overflow.Remove("score");
        _ScoreElement = value;
        OnPropertyChanged("ScoreElement");
      }

    }

    private Hl7.Fhir.Model.FhirDecimal? _ScoreElement;

    /// <summary>
    /// The final score (percentage of tests passed) resulting from the execution of the TestScript
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public decimal? Score
    {
      get => ScoreElement?.Value;
      set
      {
        ScoreElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
        OnPropertyChanged("Score");
      }
    }

    /// <summary>
    /// Name of the tester producing this report (Organization or individual).
    /// </summary>
    [FhirElement("tester", InSummary=true, Order=150)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? TesterElement
    {
      get
      {
        if(_TesterElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["tester"]);
        return _TesterElement;
      }

      set
      {
        if (_TesterElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("tester");
        _TesterElement = value;
        OnPropertyChanged("TesterElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _TesterElement;

    /// <summary>
    /// Name of the tester producing this report (Organization or individual)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Tester
    {
      get => TesterElement?.Value;
      set
      {
        TesterElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Tester");
      }
    }

    /// <summary>
    /// When the TestScript was executed and this TestReport was generated.
    /// </summary>
    [FhirElement("issued", InSummary=true, Order=160, FiveWs="FiveWs.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? IssuedElement
    {
      get
      {
        if(_IssuedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["issued"]);
        return _IssuedElement;
      }

      set
      {
        if (_IssuedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("issued");
        _IssuedElement = value;
        OnPropertyChanged("IssuedElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _IssuedElement;

    /// <summary>
    /// When the TestScript was executed and this TestReport was generated
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Issued
    {
      get => IssuedElement?.Value;
      set
      {
        IssuedElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("Issued");
      }
    }

    /// <summary>
    /// A participant in the test execution, either the execution engine, a client, or a server.
    /// </summary>
    [FhirElement("participant", Order=170)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.TestReport.ParticipantComponent> Participant
    {
      get
      {
        if(_Participant.InOverflow<List<Hl7.Fhir.Model.TestReport.ParticipantComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestReport.ParticipantComponent>), Overflow["participant"]);
        return _Participant ??= [];
      }

      set
      {
        if (_Participant.InOverflow<List<Hl7.Fhir.Model.TestReport.ParticipantComponent>>())
          Overflow.Remove("participant");
        _Participant = value;
        OnPropertyChanged("Participant");
      }

    }

    private List<Hl7.Fhir.Model.TestReport.ParticipantComponent>? _Participant;

    /// <summary>
    /// The results of the series of required setup operations before the tests were executed.
    /// </summary>
    [FhirElement("setup", Order=180)]
    [DataMember]
    public Hl7.Fhir.Model.TestReport.SetupComponent? Setup
    {
      get
      {
        if(_Setup.InOverflow<Hl7.Fhir.Model.TestReport.SetupComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestReport.SetupComponent), Overflow["setup"]);
        return _Setup;
      }

      set
      {
        if (_Setup.InOverflow<Hl7.Fhir.Model.TestReport.SetupComponent>())
          Overflow.Remove("setup");
        _Setup = value;
        OnPropertyChanged("Setup");
      }

    }

    private Hl7.Fhir.Model.TestReport.SetupComponent? _Setup;

    /// <summary>
    /// A test executed from the test script.
    /// </summary>
    [FhirElement("test", Order=190)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.TestReport.TestComponent> Test
    {
      get
      {
        if(_Test.InOverflow<List<Hl7.Fhir.Model.TestReport.TestComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestReport.TestComponent>), Overflow["test"]);
        return _Test ??= [];
      }

      set
      {
        if (_Test.InOverflow<List<Hl7.Fhir.Model.TestReport.TestComponent>>())
          Overflow.Remove("test");
        _Test = value;
        OnPropertyChanged("Test");
      }

    }

    private List<Hl7.Fhir.Model.TestReport.TestComponent>? _Test;

    /// <summary>
    /// The results of running the series of required clean up steps.
    /// </summary>
    [FhirElement("teardown", Order=200)]
    [DataMember]
    public Hl7.Fhir.Model.TestReport.TeardownComponent? Teardown
    {
      get
      {
        if(_Teardown.InOverflow<Hl7.Fhir.Model.TestReport.TeardownComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestReport.TeardownComponent), Overflow["teardown"]);
        return _Teardown;
      }

      set
      {
        if (_Teardown.InOverflow<Hl7.Fhir.Model.TestReport.TeardownComponent>())
          Overflow.Remove("teardown");
        _Teardown = value;
        OnPropertyChanged("Teardown");
      }

    }

    private Hl7.Fhir.Model.TestReport.TeardownComponent? _Teardown;

    Identifier? IIdentifiable<Identifier?>.Identifier { get => Identifier; set => Identifier = value!; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not TestReport dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = (Hl7.Fhir.Model.Identifier)_Identifier.DeepCopyInternal();
      if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.TestReport.TestReportStatus>)_StatusElement.DeepCopyInternal();
      if(_TestScriptElement is not null) dest.TestScriptElement = (Hl7.Fhir.Model.Canonical)_TestScriptElement.DeepCopyInternal();
      if(_ResultElement is not null) dest.ResultElement = (Code<Hl7.Fhir.Model.TestReport.TestReportResult>)_ResultElement.DeepCopyInternal();
      if(_ScoreElement is not null) dest.ScoreElement = (Hl7.Fhir.Model.FhirDecimal)_ScoreElement.DeepCopyInternal();
      if(_TesterElement is not null) dest.TesterElement = (Hl7.Fhir.Model.FhirString)_TesterElement.DeepCopyInternal();
      if(_IssuedElement is not null) dest.IssuedElement = (Hl7.Fhir.Model.FhirDateTime)_IssuedElement.DeepCopyInternal();
      if(_Participant is not null) dest.Participant = new List<Hl7.Fhir.Model.TestReport.ParticipantComponent>(_Participant.DeepCopyInternal());
      if(_Setup is not null) dest.Setup = (Hl7.Fhir.Model.TestReport.SetupComponent)_Setup.DeepCopyInternal();
      if(_Test is not null) dest.Test = new List<Hl7.Fhir.Model.TestReport.TestComponent>(_Test.DeepCopyInternal());
      if(_Teardown is not null) dest.Teardown = (Hl7.Fhir.Model.TestReport.TeardownComponent)_Teardown.DeepCopyInternal();
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new TestReport();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not TestReport otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.Equals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_TestScriptElement, otherT._TestScriptElement)) return false;
      if(!comparer.Equals(_ResultElement, otherT._ResultElement)) return false;
      if(!comparer.Equals(_ScoreElement, otherT._ScoreElement)) return false;
      if(!comparer.Equals(_TesterElement, otherT._TesterElement)) return false;
      if(!comparer.Equals(_IssuedElement, otherT._IssuedElement)) return false;
      if(!comparer.ListEquals(_Participant, otherT._Participant)) return false;
      if(!comparer.Equals(_Setup, otherT._Setup)) return false;
      if(!comparer.ListEquals(_Test, otherT._Test)) return false;
      if(!comparer.Equals(_Teardown, otherT._Teardown)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as Hl7.Fhir.Model.Identifier) is not null;
        case "name":
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["name"];
            return true;
          }
          value = _NameElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.TestReport.TestReportStatus>) is not null;
        case "testScript":
          if (_TestScriptElement.InOverflow<Hl7.Fhir.Model.Canonical>())
          {
            value = Overflow["testScript"];
            return true;
          }
          value = _TestScriptElement;
          return (value as Hl7.Fhir.Model.Canonical) is not null;
        case "result":
          if (_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportResult>>())
          {
            value = Overflow["result"];
            return true;
          }
          value = _ResultElement;
          return (value as Code<Hl7.Fhir.Model.TestReport.TestReportResult>) is not null;
        case "score":
          if (_ScoreElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
          {
            value = Overflow["score"];
            return true;
          }
          value = _ScoreElement;
          return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
        case "tester":
          if (_TesterElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["tester"];
            return true;
          }
          value = _TesterElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "issued":
          if (_IssuedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["issued"];
            return true;
          }
          value = _IssuedElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "participant":
          if (_Participant.InOverflow<List<Hl7.Fhir.Model.TestReport.ParticipantComponent>>())
          {
            value = Overflow["participant"];
            return true;
          }
          value = _Participant;
          return (value as List<Hl7.Fhir.Model.TestReport.ParticipantComponent>)?.Any() is true;
        case "setup":
          if (_Setup.InOverflow<Hl7.Fhir.Model.TestReport.SetupComponent>())
          {
            value = Overflow["setup"];
            return true;
          }
          value = _Setup;
          return (value as Hl7.Fhir.Model.TestReport.SetupComponent) is not null;
        case "test":
          if (_Test.InOverflow<List<Hl7.Fhir.Model.TestReport.TestComponent>>())
          {
            value = Overflow["test"];
            return true;
          }
          value = _Test;
          return (value as List<Hl7.Fhir.Model.TestReport.TestComponent>)?.Any() is true;
        case "teardown":
          if (_Teardown.InOverflow<Hl7.Fhir.Model.TestReport.TeardownComponent>())
          {
            value = Overflow["teardown"];
            return true;
          }
          value = _Teardown;
          return (value as Hl7.Fhir.Model.TestReport.TeardownComponent) is not null;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (Hl7.Fhir.Model.Identifier or null))
          {
            Identifier = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (Hl7.Fhir.Model.Identifier?)value;
          return this;
        case "name":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["name"] = value;
          }
          else NameElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.TestReport.TestReportStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.TestReport.TestReportStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.TestReport.TestReportStatus>?)value!;
          return this;
        case "testScript":
          if (value is not (Hl7.Fhir.Model.Canonical or null))
          {
            TestScriptElement = OverflowNull<Hl7.Fhir.Model.Canonical>.INSTANCE;
            Overflow["testScript"] = value;
          }
          else TestScriptElement = (Hl7.Fhir.Model.Canonical?)value!;
          return this;
        case "result":
          if (value is not (Code<Hl7.Fhir.Model.TestReport.TestReportResult> or null))
          {
            ResultElement = OverflowNull<Code<Hl7.Fhir.Model.TestReport.TestReportResult>>.INSTANCE;
            Overflow["result"] = value;
          }
          else ResultElement = (Code<Hl7.Fhir.Model.TestReport.TestReportResult>?)value!;
          return this;
        case "score":
          if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
          {
            ScoreElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
            Overflow["score"] = value;
          }
          else ScoreElement = (Hl7.Fhir.Model.FhirDecimal?)value;
          return this;
        case "tester":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            TesterElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["tester"] = value;
          }
          else TesterElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "issued":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            IssuedElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["issued"] = value;
          }
          else IssuedElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "participant":
          if (value is not (List<Hl7.Fhir.Model.TestReport.ParticipantComponent> or null))
          {
            Participant = OverflowNull<List<Hl7.Fhir.Model.TestReport.ParticipantComponent>>.INSTANCE;
            Overflow["participant"] = value;
          }
          else Participant = (List<Hl7.Fhir.Model.TestReport.ParticipantComponent>?)value!;
          return this;
        case "setup":
          if (value is not (Hl7.Fhir.Model.TestReport.SetupComponent or null))
          {
            Setup = OverflowNull<Hl7.Fhir.Model.TestReport.SetupComponent>.INSTANCE;
            Overflow["setup"] = value;
          }
          else Setup = (Hl7.Fhir.Model.TestReport.SetupComponent?)value;
          return this;
        case "test":
          if (value is not (List<Hl7.Fhir.Model.TestReport.TestComponent> or null))
          {
            Test = OverflowNull<List<Hl7.Fhir.Model.TestReport.TestComponent>>.INSTANCE;
            Overflow["test"] = value;
          }
          else Test = (List<Hl7.Fhir.Model.TestReport.TestComponent>?)value!;
          return this;
        case "teardown":
          if (value is not (Hl7.Fhir.Model.TestReport.TeardownComponent or null))
          {
            Teardown = OverflowNull<Hl7.Fhir.Model.TestReport.TeardownComponent>.INSTANCE;
            Overflow["teardown"] = value;
          }
          else Teardown = (Hl7.Fhir.Model.TestReport.TeardownComponent?)value;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier is not null && !_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_TestScriptElement is not null && !_TestScriptElement.InOverflow<Hl7.Fhir.Model.Canonical>()) yield return new KeyValuePair<string,object>("testScript",_TestScriptElement);
      if (_ResultElement is not null && !_ResultElement.InOverflow<Code<Hl7.Fhir.Model.TestReport.TestReportResult>>()) yield return new KeyValuePair<string,object>("result",_ResultElement);
      if (_ScoreElement is not null && !_ScoreElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("score",_ScoreElement);
      if (_TesterElement is not null && !_TesterElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("tester",_TesterElement);
      if (_IssuedElement is not null && !_IssuedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("issued",_IssuedElement);
      if (_Participant?.Any() is true && !_Participant.InOverflow<List<Hl7.Fhir.Model.TestReport.ParticipantComponent>>()) yield return new KeyValuePair<string,object>("participant",_Participant);
      if (_Setup is not null && !_Setup.InOverflow<Hl7.Fhir.Model.TestReport.SetupComponent>()) yield return new KeyValuePair<string,object>("setup",_Setup);
      if (_Test?.Any() is true && !_Test.InOverflow<List<Hl7.Fhir.Model.TestReport.TestComponent>>()) yield return new KeyValuePair<string,object>("test",_Test);
      if (_Teardown is not null && !_Teardown.InOverflow<Hl7.Fhir.Model.TestReport.TeardownComponent>()) yield return new KeyValuePair<string,object>("teardown",_Teardown);
    }

  }

}

// end of file
