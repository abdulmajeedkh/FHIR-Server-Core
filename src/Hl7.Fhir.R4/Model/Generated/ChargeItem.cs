// <auto-generated/>
// Contents of: hl7.fhir.r4.expansions@4.0.1, hl7.fhir.r4.core@4.0.1

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// Item containing charge code(s) associated with the provision of healthcare provider products
  /// </summary>
  /// <remarks>
  /// The resource ChargeItem describes the provision of healthcare provider products for a certain patient, therefore referring not only to the product, but containing in addition details of the provision, like date, time, amounts and participating organizations and persons. Main Usage of the ChargeItem is to enable the billing process and internal cost allocation.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("ChargeItem","http://hl7.org/fhir/StructureDefinition/ChargeItem")]
  public partial class ChargeItem : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>, ICoded<Hl7.Fhir.Model.CodeableConcept?>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "ChargeItem";

    /// <summary>
    /// Codes identifying the lifecycle stage of a ChargeItem.
    /// (url: http://hl7.org/fhir/ValueSet/chargeitem-status)
    /// (system: http://hl7.org/fhir/chargeitem-status)
    /// </summary>
    [FhirEnumeration("ChargeItemStatus", "http://hl7.org/fhir/ValueSet/chargeitem-status", "http://hl7.org/fhir/chargeitem-status")]
    public enum ChargeItemStatus
    {
      /// <summary>
      /// The charge item has been entered, but the charged service is not  yet complete, so it shall not be billed yet but might be used in the context of pre-authorization.
      /// (system: http://hl7.org/fhir/chargeitem-status)
      /// </summary>
      [EnumLiteral("planned"), Description("Planned")]
      Planned,
      /// <summary>
      /// The charge item is ready for billing.
      /// (system: http://hl7.org/fhir/chargeitem-status)
      /// </summary>
      [EnumLiteral("billable"), Description("Billable")]
      Billable,
      /// <summary>
      /// The charge item has been determined to be not billable (e.g. due to rules associated with the billing code).
      /// (system: http://hl7.org/fhir/chargeitem-status)
      /// </summary>
      [EnumLiteral("not-billable"), Description("Not billable")]
      NotBillable,
      /// <summary>
      /// The processing of the charge was aborted.
      /// (system: http://hl7.org/fhir/chargeitem-status)
      /// </summary>
      [EnumLiteral("aborted"), Description("Aborted")]
      Aborted,
      /// <summary>
      /// The charge item has been billed (e.g. a billing engine has generated financial transactions by applying the associated ruled for the charge item to the context of the Encounter, and placed them into Claims/Invoices.
      /// (system: http://hl7.org/fhir/chargeitem-status)
      /// </summary>
      [EnumLiteral("billed"), Description("Billed")]
      Billed,
      /// <summary>
      /// The charge item has been entered in error and should not be processed for billing.
      /// (system: http://hl7.org/fhir/chargeitem-status)
      /// </summary>
      [EnumLiteral("entered-in-error"), Description("Entered in Error")]
      EnteredInError,
      /// <summary>
      /// The authoring system does not know which of the status values currently applies for this charge item  Note: This concept is not to be used for \"other\" - one of the listed statuses is presumed to apply, it's just not known which one.
      /// (system: http://hl7.org/fhir/chargeitem-status)
      /// </summary>
      [EnumLiteral("unknown"), Description("Unknown")]
      Unknown,
    }

    /// <summary>
    /// Who performed charged service
    /// </summary>
    /// <remarks>
    /// Indicates who or what performed or participated in the charged service.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ChargeItem.performer", IsBackboneType=true)]
    public partial class PerformerComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ChargeItem.performer";

      /// <summary>
      /// What type of performance was done.
      /// </summary>
      [FhirElement("function", Order=40)]
      [Binding("ChargeItemPerformerFunction")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Function
      {
        get
        {
          if(_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["function"]);
          return _Function;
        }

        set
        {
          if (_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("function");
          _Function = value;
          OnPropertyChanged("Function");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Function;

      /// <summary>
      /// Individual who was performing.
      /// </summary>
      [FhirElement("actor", Order=50, FiveWs="FiveWs.actor")]
      [CLSCompliant(false)]
      [References("Practitioner","PractitionerRole","Organization","CareTeam","Patient","Device","RelatedPerson")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference Actor
      {
        get
        {
          if(_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["actor"]);
          return _Actor!;
        }

        set
        {
          if (_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("actor");
          _Actor = value;
          OnPropertyChanged("Actor");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Actor;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PerformerComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Function is not null) dest.Function = (Hl7.Fhir.Model.CodeableConcept)_Function.DeepCopyInternal();
        if(_Actor is not null) dest.Actor = (Hl7.Fhir.Model.ResourceReference)_Actor.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PerformerComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PerformerComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Function, otherT._Function)) return false;
        if(!comparer.Equals(_Actor, otherT._Actor)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "function":
            if (_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["function"];
              return true;
            }
            value = _Function;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "actor":
            if (_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["actor"];
              return true;
            }
            value = _Actor;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "function":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Function = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["function"] = value;
            }
            else Function = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "actor":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Actor = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["actor"] = value;
            }
            else Actor = (Hl7.Fhir.Model.ResourceReference?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Function is not null && !_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("function",_Function);
        if (_Actor is not null && !_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("actor",_Actor);
      }

    }

    /// <summary>
    /// Business Identifier for item.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=90, FiveWs="FiveWs.identifier")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// Defining information about the code of this charge item.
    /// </summary>
    [FhirElement("definitionUri", Order=100)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.FhirUri> DefinitionUriElement
    {
      get
      {
        if(_DefinitionUriElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirUri>), Overflow["definitionUri"]);
        return _DefinitionUriElement ??= [];
      }

      set
      {
        if (_DefinitionUriElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>())
          Overflow.Remove("definitionUri");
        _DefinitionUriElement = value;
        OnPropertyChanged("DefinitionUriElement");
      }

    }

    private List<Hl7.Fhir.Model.FhirUri>? _DefinitionUriElement;

    /// <summary>
    /// Defining information about the code of this charge item
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public IEnumerable<string?> DefinitionUri
    {
      get => _DefinitionUriElement?.Select(elem => elem.Value) ?? [];
      set
      {
        if (value == null)
          DefinitionUriElement = null!;
        else
          DefinitionUriElement = new List<Hl7.Fhir.Model.FhirUri>(value.Select(elem=>new Hl7.Fhir.Model.FhirUri(elem)));
        OnPropertyChanged("DefinitionUri");
      }
    }

    /// <summary>
    /// Resource defining the code of this ChargeItem.
    /// </summary>
    [FhirElement("definitionCanonical", Order=110)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Canonical> DefinitionCanonicalElement
    {
      get
      {
        if(_DefinitionCanonicalElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Canonical>), Overflow["definitionCanonical"]);
        return _DefinitionCanonicalElement ??= [];
      }

      set
      {
        if (_DefinitionCanonicalElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
          Overflow.Remove("definitionCanonical");
        _DefinitionCanonicalElement = value;
        OnPropertyChanged("DefinitionCanonicalElement");
      }

    }

    private List<Hl7.Fhir.Model.Canonical>? _DefinitionCanonicalElement;

    /// <summary>
    /// Resource defining the code of this ChargeItem
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public IEnumerable<string?> DefinitionCanonical
    {
      get => _DefinitionCanonicalElement?.Select(elem => elem.Value) ?? [];
      set
      {
        if (value == null)
          DefinitionCanonicalElement = null!;
        else
          DefinitionCanonicalElement = new List<Hl7.Fhir.Model.Canonical>(value.Select(elem=>new Hl7.Fhir.Model.Canonical(elem)));
        OnPropertyChanged("DefinitionCanonical");
      }
    }

    /// <summary>
    /// planned | billable | not-billable | aborted | billed | entered-in-error | unknown.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=120, FiveWs="FiveWs.status")]
    [Binding("ChargeItemStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus> StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>), Overflow["status"]);
        return _StatusElement!;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>? _StatusElement;

    /// <summary>
    /// planned | billable | not-billable | aborted | billed | entered-in-error | unknown
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.ChargeItem.ChargeItemStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// Part of referenced ChargeItem.
    /// </summary>
    [FhirElement("partOf", Order=130)]
    [CLSCompliant(false)]
    [References("ChargeItem")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> PartOf
    {
      get
      {
        if(_PartOf.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["partOf"]);
        return _PartOf ??= [];
      }

      set
      {
        if (_PartOf.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("partOf");
        _PartOf = value;
        OnPropertyChanged("PartOf");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _PartOf;

    /// <summary>
    /// A code that identifies the charge, like a billing code.
    /// </summary>
    [FhirElement("code", InSummary=true, Order=140, FiveWs="FiveWs.what[x]")]
    [Binding("ChargeItemCode")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept Code
    {
      get
      {
        if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
        return _Code!;
      }

      set
      {
        if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("code");
        _Code = value;
        OnPropertyChanged("Code");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Code;

    /// <summary>
    /// Individual service was done for/to.
    /// </summary>
    [FhirElement("subject", InSummary=true, Order=150, FiveWs="FiveWs.subject")]
    [CLSCompliant(false)]
    [References("Patient","Group")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference Subject
    {
      get
      {
        if(_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["subject"]);
        return _Subject!;
      }

      set
      {
        if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("subject");
        _Subject = value;
        OnPropertyChanged("Subject");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Subject;

    /// <summary>
    /// Encounter / Episode associated with event.
    /// </summary>
    [FhirElement("context", InSummary=true, Order=160, FiveWs="FiveWs.context")]
    [CLSCompliant(false)]
    [References("Encounter","EpisodeOfCare")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Context
    {
      get
      {
        if(_Context.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["context"]);
        return _Context;
      }

      set
      {
        if (_Context.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("context");
        _Context = value;
        OnPropertyChanged("Context");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Context;

    /// <summary>
    /// When the charged service was applied.
    /// </summary>
    [FhirElement("occurrence", InSummary=true, Order=170, Choice=ChoiceType.DatatypeChoice, FiveWs="FiveWs.done[x]")]
    [CLSCompliant(false)]
    [AllowedTypes(typeof(Hl7.Fhir.Model.FhirDateTime),typeof(Hl7.Fhir.Model.Period),typeof(Hl7.Fhir.Model.Timing))]
    [DataMember]
    public Hl7.Fhir.Model.DataType? Occurrence
    {
      get
      {
        if(_Occurrence.InOverflow<DynamicDataType>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["occurrence"]);
        return _Occurrence;
      }

      set
      {
        if (_Occurrence.InOverflow<DynamicDataType>())
          Overflow.Remove("occurrence");
        _Occurrence = value;
        OnPropertyChanged("Occurrence");
      }

    }

    private Hl7.Fhir.Model.DataType? _Occurrence;

    /// <summary>
    /// Who performed charged service.
    /// </summary>
    [FhirElement("performer", Order=180)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ChargeItem.PerformerComponent> Performer
    {
      get
      {
        if(_Performer.InOverflow<List<Hl7.Fhir.Model.ChargeItem.PerformerComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ChargeItem.PerformerComponent>), Overflow["performer"]);
        return _Performer ??= [];
      }

      set
      {
        if (_Performer.InOverflow<List<Hl7.Fhir.Model.ChargeItem.PerformerComponent>>())
          Overflow.Remove("performer");
        _Performer = value;
        OnPropertyChanged("Performer");
      }

    }

    private List<Hl7.Fhir.Model.ChargeItem.PerformerComponent>? _Performer;

    /// <summary>
    /// Organization providing the charged service.
    /// </summary>
    [FhirElement("performingOrganization", Order=190)]
    [CLSCompliant(false)]
    [References("Organization")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? PerformingOrganization
    {
      get
      {
        if(_PerformingOrganization.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["performingOrganization"]);
        return _PerformingOrganization;
      }

      set
      {
        if (_PerformingOrganization.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("performingOrganization");
        _PerformingOrganization = value;
        OnPropertyChanged("PerformingOrganization");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _PerformingOrganization;

    /// <summary>
    /// Organization requesting the charged service.
    /// </summary>
    [FhirElement("requestingOrganization", Order=200)]
    [CLSCompliant(false)]
    [References("Organization")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? RequestingOrganization
    {
      get
      {
        if(_RequestingOrganization.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["requestingOrganization"]);
        return _RequestingOrganization;
      }

      set
      {
        if (_RequestingOrganization.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("requestingOrganization");
        _RequestingOrganization = value;
        OnPropertyChanged("RequestingOrganization");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _RequestingOrganization;

    /// <summary>
    /// Organization that has ownership of the (potential, future) revenue.
    /// </summary>
    [FhirElement("costCenter", Order=210)]
    [CLSCompliant(false)]
    [References("Organization")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? CostCenter
    {
      get
      {
        if(_CostCenter.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["costCenter"]);
        return _CostCenter;
      }

      set
      {
        if (_CostCenter.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("costCenter");
        _CostCenter = value;
        OnPropertyChanged("CostCenter");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _CostCenter;

    /// <summary>
    /// Quantity of which the charge item has been serviced.
    /// </summary>
    [FhirElement("quantity", InSummary=true, Order=220)]
    [DataMember]
    public Hl7.Fhir.Model.Quantity? Quantity
    {
      get
      {
        if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
        return _Quantity;
      }

      set
      {
        if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
          Overflow.Remove("quantity");
        _Quantity = value;
        OnPropertyChanged("Quantity");
      }

    }

    private Hl7.Fhir.Model.Quantity? _Quantity;

    /// <summary>
    /// Anatomical location, if relevant.
    /// </summary>
    [FhirElement("bodysite", InSummary=true, Order=230)]
    [Binding("BodySite")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Bodysite
    {
      get
      {
        if(_Bodysite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["bodysite"]);
        return _Bodysite ??= [];
      }

      set
      {
        if (_Bodysite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("bodysite");
        _Bodysite = value;
        OnPropertyChanged("Bodysite");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Bodysite;

    /// <summary>
    /// Factor overriding the associated rules.
    /// </summary>
    [FhirElement("factorOverride", Order=240)]
    [DataMember]
    public Hl7.Fhir.Model.FhirDecimal? FactorOverrideElement
    {
      get
      {
        if(_FactorOverrideElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factorOverride"]);
        return _FactorOverrideElement;
      }

      set
      {
        if (_FactorOverrideElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
          Overflow.Remove("factorOverride");
        _FactorOverrideElement = value;
        OnPropertyChanged("FactorOverrideElement");
      }

    }

    private Hl7.Fhir.Model.FhirDecimal? _FactorOverrideElement;

    /// <summary>
    /// Factor overriding the associated rules
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public decimal? FactorOverride
    {
      get => FactorOverrideElement?.Value;
      set
      {
        FactorOverrideElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
        OnPropertyChanged("FactorOverride");
      }
    }

    /// <summary>
    /// Price overriding the associated rules.
    /// </summary>
    [FhirElement("priceOverride", Order=250)]
    [DataMember]
    public Hl7.Fhir.Model.Money? PriceOverride
    {
      get
      {
        if(_PriceOverride.InOverflow<Hl7.Fhir.Model.Money>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["priceOverride"]);
        return _PriceOverride;
      }

      set
      {
        if (_PriceOverride.InOverflow<Hl7.Fhir.Model.Money>())
          Overflow.Remove("priceOverride");
        _PriceOverride = value;
        OnPropertyChanged("PriceOverride");
      }

    }

    private Hl7.Fhir.Model.Money? _PriceOverride;

    /// <summary>
    /// Reason for overriding the list price/factor.
    /// </summary>
    [FhirElement("overrideReason", Order=260)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? OverrideReasonElement
    {
      get
      {
        if(_OverrideReasonElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["overrideReason"]);
        return _OverrideReasonElement;
      }

      set
      {
        if (_OverrideReasonElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("overrideReason");
        _OverrideReasonElement = value;
        OnPropertyChanged("OverrideReasonElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _OverrideReasonElement;

    /// <summary>
    /// Reason for overriding the list price/factor
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? OverrideReason
    {
      get => OverrideReasonElement?.Value;
      set
      {
        OverrideReasonElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("OverrideReason");
      }
    }

    /// <summary>
    /// Individual who was entering.
    /// </summary>
    [FhirElement("enterer", InSummary=true, Order=270, FiveWs="FiveWs.actor")]
    [CLSCompliant(false)]
    [References("Practitioner","PractitionerRole","Organization","Patient","Device","RelatedPerson")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Enterer
    {
      get
      {
        if(_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["enterer"]);
        return _Enterer;
      }

      set
      {
        if (_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("enterer");
        _Enterer = value;
        OnPropertyChanged("Enterer");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Enterer;

    /// <summary>
    /// Date the charge item was entered.
    /// </summary>
    [FhirElement("enteredDate", InSummary=true, Order=280)]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? EnteredDateElement
    {
      get
      {
        if(_EnteredDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["enteredDate"]);
        return _EnteredDateElement;
      }

      set
      {
        if (_EnteredDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("enteredDate");
        _EnteredDateElement = value;
        OnPropertyChanged("EnteredDateElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _EnteredDateElement;

    /// <summary>
    /// Date the charge item was entered
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? EnteredDate
    {
      get => EnteredDateElement?.Value;
      set
      {
        EnteredDateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("EnteredDate");
      }
    }

    /// <summary>
    /// Why was the charged  service rendered?.
    /// </summary>
    [FhirElement("reason", Order=290, FiveWs="FiveWs.why[x]")]
    [Binding("ChargeItemReason")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Reason
    {
      get
      {
        if(_Reason.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["reason"]);
        return _Reason ??= [];
      }

      set
      {
        if (_Reason.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("reason");
        _Reason = value;
        OnPropertyChanged("Reason");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Reason;

    /// <summary>
    /// Which rendered service is being charged?.
    /// </summary>
    [FhirElement("service", Order=300, FiveWs="FiveWs.why[x]")]
    [CLSCompliant(false)]
    [References("DiagnosticReport","ImagingStudy","Immunization","MedicationAdministration","MedicationDispense","Observation","Procedure","SupplyDelivery")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Service
    {
      get
      {
        if(_Service.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["service"]);
        return _Service ??= [];
      }

      set
      {
        if (_Service.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("service");
        _Service = value;
        OnPropertyChanged("Service");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Service;

    /// <summary>
    /// Product charged.
    /// </summary>
    [FhirElement("product", Order=310, Choice=ChoiceType.DatatypeChoice)]
    [Binding("ChargeItemProduct")]
    [CLSCompliant(false)]
    [References("Device","Medication","Substance")]
    [AllowedTypes(typeof(Hl7.Fhir.Model.ResourceReference),typeof(Hl7.Fhir.Model.CodeableConcept))]
    [DataMember]
    public Hl7.Fhir.Model.DataType? Product
    {
      get
      {
        if(_Product.InOverflow<DynamicDataType>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["product"]);
        return _Product;
      }

      set
      {
        if (_Product.InOverflow<DynamicDataType>())
          Overflow.Remove("product");
        _Product = value;
        OnPropertyChanged("Product");
      }

    }

    private Hl7.Fhir.Model.DataType? _Product;

    /// <summary>
    /// Account to place this charge.
    /// </summary>
    [FhirElement("account", InSummary=true, Order=320)]
    [CLSCompliant(false)]
    [References("Account")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Account
    {
      get
      {
        if(_Account.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["account"]);
        return _Account ??= [];
      }

      set
      {
        if (_Account.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("account");
        _Account = value;
        OnPropertyChanged("Account");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Account;

    /// <summary>
    /// Comments made about the ChargeItem.
    /// </summary>
    [FhirElement("note", Order=330)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Annotation> Note
    {
      get
      {
        if(_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Annotation>), Overflow["note"]);
        return _Note ??= [];
      }

      set
      {
        if (_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>())
          Overflow.Remove("note");
        _Note = value;
        OnPropertyChanged("Note");
      }

    }

    private List<Hl7.Fhir.Model.Annotation>? _Note;

    /// <summary>
    /// Further information supporting this charge.
    /// </summary>
    [FhirElement("supportingInformation", Order=340)]
    [CLSCompliant(false)]
    [References("Resource")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> SupportingInformation
    {
      get
      {
        if(_SupportingInformation.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["supportingInformation"]);
        return _SupportingInformation ??= [];
      }

      set
      {
        if (_SupportingInformation.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("supportingInformation");
        _SupportingInformation = value;
        OnPropertyChanged("SupportingInformation");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _SupportingInformation;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    Hl7.Fhir.Model.CodeableConcept? ICoded<Hl7.Fhir.Model.CodeableConcept?>.Code { get => Code; set => Code = value!; }
    IReadOnlyCollection<Coding> ICoded.ToCodings() => Code?.ToCodings() ?? [];

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not ChargeItem dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_DefinitionUriElement is not null) dest.DefinitionUriElement = new List<Hl7.Fhir.Model.FhirUri>(_DefinitionUriElement.DeepCopyInternal());
      if(_DefinitionCanonicalElement is not null) dest.DefinitionCanonicalElement = new List<Hl7.Fhir.Model.Canonical>(_DefinitionCanonicalElement.DeepCopyInternal());
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>)_StatusElement.DeepCopyInternal();
      if(_PartOf is not null) dest.PartOf = new List<Hl7.Fhir.Model.ResourceReference>(_PartOf.DeepCopyInternal());
      if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
      if(_Subject is not null) dest.Subject = (Hl7.Fhir.Model.ResourceReference)_Subject.DeepCopyInternal();
      if(_Context is not null) dest.Context = (Hl7.Fhir.Model.ResourceReference)_Context.DeepCopyInternal();
      if(_Occurrence is not null) dest.Occurrence = (Hl7.Fhir.Model.DataType)_Occurrence.DeepCopyInternal();
      if(_Performer is not null) dest.Performer = new List<Hl7.Fhir.Model.ChargeItem.PerformerComponent>(_Performer.DeepCopyInternal());
      if(_PerformingOrganization is not null) dest.PerformingOrganization = (Hl7.Fhir.Model.ResourceReference)_PerformingOrganization.DeepCopyInternal();
      if(_RequestingOrganization is not null) dest.RequestingOrganization = (Hl7.Fhir.Model.ResourceReference)_RequestingOrganization.DeepCopyInternal();
      if(_CostCenter is not null) dest.CostCenter = (Hl7.Fhir.Model.ResourceReference)_CostCenter.DeepCopyInternal();
      if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
      if(_Bodysite is not null) dest.Bodysite = new List<Hl7.Fhir.Model.CodeableConcept>(_Bodysite.DeepCopyInternal());
      if(_FactorOverrideElement is not null) dest.FactorOverrideElement = (Hl7.Fhir.Model.FhirDecimal)_FactorOverrideElement.DeepCopyInternal();
      if(_PriceOverride is not null) dest.PriceOverride = (Hl7.Fhir.Model.Money)_PriceOverride.DeepCopyInternal();
      if(_OverrideReasonElement is not null) dest.OverrideReasonElement = (Hl7.Fhir.Model.FhirString)_OverrideReasonElement.DeepCopyInternal();
      if(_Enterer is not null) dest.Enterer = (Hl7.Fhir.Model.ResourceReference)_Enterer.DeepCopyInternal();
      if(_EnteredDateElement is not null) dest.EnteredDateElement = (Hl7.Fhir.Model.FhirDateTime)_EnteredDateElement.DeepCopyInternal();
      if(_Reason is not null) dest.Reason = new List<Hl7.Fhir.Model.CodeableConcept>(_Reason.DeepCopyInternal());
      if(_Service is not null) dest.Service = new List<Hl7.Fhir.Model.ResourceReference>(_Service.DeepCopyInternal());
      if(_Product is not null) dest.Product = (Hl7.Fhir.Model.DataType)_Product.DeepCopyInternal();
      if(_Account is not null) dest.Account = new List<Hl7.Fhir.Model.ResourceReference>(_Account.DeepCopyInternal());
      if(_Note is not null) dest.Note = new List<Hl7.Fhir.Model.Annotation>(_Note.DeepCopyInternal());
      if(_SupportingInformation is not null) dest.SupportingInformation = new List<Hl7.Fhir.Model.ResourceReference>(_SupportingInformation.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new ChargeItem();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not ChargeItem otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.ListEquals(_DefinitionUriElement, otherT._DefinitionUriElement)) return false;
      if(!comparer.ListEquals(_DefinitionCanonicalElement, otherT._DefinitionCanonicalElement)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.ListEquals(_PartOf, otherT._PartOf)) return false;
      if(!comparer.Equals(_Code, otherT._Code)) return false;
      if(!comparer.Equals(_Subject, otherT._Subject)) return false;
      if(!comparer.Equals(_Context, otherT._Context)) return false;
      if(!comparer.Equals(_Occurrence, otherT._Occurrence)) return false;
      if(!comparer.ListEquals(_Performer, otherT._Performer)) return false;
      if(!comparer.Equals(_PerformingOrganization, otherT._PerformingOrganization)) return false;
      if(!comparer.Equals(_RequestingOrganization, otherT._RequestingOrganization)) return false;
      if(!comparer.Equals(_CostCenter, otherT._CostCenter)) return false;
      if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
      if(!comparer.ListEquals(_Bodysite, otherT._Bodysite)) return false;
      if(!comparer.Equals(_FactorOverrideElement, otherT._FactorOverrideElement)) return false;
      if(!comparer.Equals(_PriceOverride, otherT._PriceOverride)) return false;
      if(!comparer.Equals(_OverrideReasonElement, otherT._OverrideReasonElement)) return false;
      if(!comparer.Equals(_Enterer, otherT._Enterer)) return false;
      if(!comparer.Equals(_EnteredDateElement, otherT._EnteredDateElement)) return false;
      if(!comparer.ListEquals(_Reason, otherT._Reason)) return false;
      if(!comparer.ListEquals(_Service, otherT._Service)) return false;
      if(!comparer.Equals(_Product, otherT._Product)) return false;
      if(!comparer.ListEquals(_Account, otherT._Account)) return false;
      if(!comparer.ListEquals(_Note, otherT._Note)) return false;
      if(!comparer.ListEquals(_SupportingInformation, otherT._SupportingInformation)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "definitionUri":
          if (_DefinitionUriElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>())
          {
            value = Overflow["definitionUri"];
            return true;
          }
          value = _DefinitionUriElement;
          return (value as List<Hl7.Fhir.Model.FhirUri>)?.Any() is true;
        case "definitionCanonical":
          if (_DefinitionCanonicalElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
          {
            value = Overflow["definitionCanonical"];
            return true;
          }
          value = _DefinitionCanonicalElement;
          return (value as List<Hl7.Fhir.Model.Canonical>)?.Any() is true;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>) is not null;
        case "partOf":
          if (_PartOf.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["partOf"];
            return true;
          }
          value = _PartOf;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "code":
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["code"];
            return true;
          }
          value = _Code;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "subject":
          if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["subject"];
            return true;
          }
          value = _Subject;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "context":
          if (_Context.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["context"];
            return true;
          }
          value = _Context;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "occurrence":
          if (_Occurrence.InOverflow<DynamicDataType>())
          {
            value = Overflow["occurrence"];
            return true;
          }
          value = _Occurrence;
          return (value as Hl7.Fhir.Model.DataType) is not null;
        case "performer":
          if (_Performer.InOverflow<List<Hl7.Fhir.Model.ChargeItem.PerformerComponent>>())
          {
            value = Overflow["performer"];
            return true;
          }
          value = _Performer;
          return (value as List<Hl7.Fhir.Model.ChargeItem.PerformerComponent>)?.Any() is true;
        case "performingOrganization":
          if (_PerformingOrganization.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["performingOrganization"];
            return true;
          }
          value = _PerformingOrganization;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "requestingOrganization":
          if (_RequestingOrganization.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["requestingOrganization"];
            return true;
          }
          value = _RequestingOrganization;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "costCenter":
          if (_CostCenter.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["costCenter"];
            return true;
          }
          value = _CostCenter;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "quantity":
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
          {
            value = Overflow["quantity"];
            return true;
          }
          value = _Quantity;
          return (value as Hl7.Fhir.Model.Quantity) is not null;
        case "bodysite":
          if (_Bodysite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["bodysite"];
            return true;
          }
          value = _Bodysite;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "factorOverride":
          if (_FactorOverrideElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
          {
            value = Overflow["factorOverride"];
            return true;
          }
          value = _FactorOverrideElement;
          return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
        case "priceOverride":
          if (_PriceOverride.InOverflow<Hl7.Fhir.Model.Money>())
          {
            value = Overflow["priceOverride"];
            return true;
          }
          value = _PriceOverride;
          return (value as Hl7.Fhir.Model.Money) is not null;
        case "overrideReason":
          if (_OverrideReasonElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["overrideReason"];
            return true;
          }
          value = _OverrideReasonElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "enterer":
          if (_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["enterer"];
            return true;
          }
          value = _Enterer;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "enteredDate":
          if (_EnteredDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["enteredDate"];
            return true;
          }
          value = _EnteredDateElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "reason":
          if (_Reason.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["reason"];
            return true;
          }
          value = _Reason;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "service":
          if (_Service.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["service"];
            return true;
          }
          value = _Service;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "product":
          if (_Product.InOverflow<DynamicDataType>())
          {
            value = Overflow["product"];
            return true;
          }
          value = _Product;
          return (value as Hl7.Fhir.Model.DataType) is not null;
        case "account":
          if (_Account.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["account"];
            return true;
          }
          value = _Account;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "note":
          if (_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>())
          {
            value = Overflow["note"];
            return true;
          }
          value = _Note;
          return (value as List<Hl7.Fhir.Model.Annotation>)?.Any() is true;
        case "supportingInformation":
          if (_SupportingInformation.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["supportingInformation"];
            return true;
          }
          value = _SupportingInformation;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "definitionUri":
          if (value is not (List<Hl7.Fhir.Model.FhirUri> or null))
          {
            DefinitionUriElement = OverflowNull<List<Hl7.Fhir.Model.FhirUri>>.INSTANCE;
            Overflow["definitionUri"] = value;
          }
          else DefinitionUriElement = (List<Hl7.Fhir.Model.FhirUri>?)value!;
          return this;
        case "definitionCanonical":
          if (value is not (List<Hl7.Fhir.Model.Canonical> or null))
          {
            DefinitionCanonicalElement = OverflowNull<List<Hl7.Fhir.Model.Canonical>>.INSTANCE;
            Overflow["definitionCanonical"] = value;
          }
          else DefinitionCanonicalElement = (List<Hl7.Fhir.Model.Canonical>?)value!;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>?)value!;
          return this;
        case "partOf":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            PartOf = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["partOf"] = value;
          }
          else PartOf = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "code":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["code"] = value;
          }
          else Code = (Hl7.Fhir.Model.CodeableConcept?)value!;
          return this;
        case "subject":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Subject = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["subject"] = value;
          }
          else Subject = (Hl7.Fhir.Model.ResourceReference?)value!;
          return this;
        case "context":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Context = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["context"] = value;
          }
          else Context = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "occurrence":
          if (value is not (Hl7.Fhir.Model.DataType or null))
          {
            Occurrence = OverflowNull<DynamicDataType>.INSTANCE;
            Overflow["occurrence"] = value;
          }
          else Occurrence = (Hl7.Fhir.Model.DataType?)value;
          return this;
        case "performer":
          if (value is not (List<Hl7.Fhir.Model.ChargeItem.PerformerComponent> or null))
          {
            Performer = OverflowNull<List<Hl7.Fhir.Model.ChargeItem.PerformerComponent>>.INSTANCE;
            Overflow["performer"] = value;
          }
          else Performer = (List<Hl7.Fhir.Model.ChargeItem.PerformerComponent>?)value!;
          return this;
        case "performingOrganization":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            PerformingOrganization = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["performingOrganization"] = value;
          }
          else PerformingOrganization = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "requestingOrganization":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            RequestingOrganization = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["requestingOrganization"] = value;
          }
          else RequestingOrganization = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "costCenter":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            CostCenter = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["costCenter"] = value;
          }
          else CostCenter = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "quantity":
          if (value is not (Hl7.Fhir.Model.Quantity or null))
          {
            Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
            Overflow["quantity"] = value;
          }
          else Quantity = (Hl7.Fhir.Model.Quantity?)value;
          return this;
        case "bodysite":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Bodysite = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["bodysite"] = value;
          }
          else Bodysite = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "factorOverride":
          if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
          {
            FactorOverrideElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
            Overflow["factorOverride"] = value;
          }
          else FactorOverrideElement = (Hl7.Fhir.Model.FhirDecimal?)value;
          return this;
        case "priceOverride":
          if (value is not (Hl7.Fhir.Model.Money or null))
          {
            PriceOverride = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
            Overflow["priceOverride"] = value;
          }
          else PriceOverride = (Hl7.Fhir.Model.Money?)value;
          return this;
        case "overrideReason":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            OverrideReasonElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["overrideReason"] = value;
          }
          else OverrideReasonElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "enterer":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Enterer = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["enterer"] = value;
          }
          else Enterer = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "enteredDate":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            EnteredDateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["enteredDate"] = value;
          }
          else EnteredDateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "reason":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Reason = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["reason"] = value;
          }
          else Reason = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "service":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Service = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["service"] = value;
          }
          else Service = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "product":
          if (value is not (Hl7.Fhir.Model.DataType or null))
          {
            Product = OverflowNull<DynamicDataType>.INSTANCE;
            Overflow["product"] = value;
          }
          else Product = (Hl7.Fhir.Model.DataType?)value;
          return this;
        case "account":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Account = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["account"] = value;
          }
          else Account = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "note":
          if (value is not (List<Hl7.Fhir.Model.Annotation> or null))
          {
            Note = OverflowNull<List<Hl7.Fhir.Model.Annotation>>.INSTANCE;
            Overflow["note"] = value;
          }
          else Note = (List<Hl7.Fhir.Model.Annotation>?)value!;
          return this;
        case "supportingInformation":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            SupportingInformation = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["supportingInformation"] = value;
          }
          else SupportingInformation = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_DefinitionUriElement?.Any() is true && !_DefinitionUriElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>()) yield return new KeyValuePair<string,object>("definitionUri",_DefinitionUriElement);
      if (_DefinitionCanonicalElement?.Any() is true && !_DefinitionCanonicalElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>()) yield return new KeyValuePair<string,object>("definitionCanonical",_DefinitionCanonicalElement);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ChargeItem.ChargeItemStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_PartOf?.Any() is true && !_PartOf.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("partOf",_PartOf);
      if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
      if (_Subject is not null && !_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("subject",_Subject);
      if (_Context is not null && !_Context.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("context",_Context);
      if (_Occurrence is not null && !_Occurrence.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("occurrence",_Occurrence);
      if (_Performer?.Any() is true && !_Performer.InOverflow<List<Hl7.Fhir.Model.ChargeItem.PerformerComponent>>()) yield return new KeyValuePair<string,object>("performer",_Performer);
      if (_PerformingOrganization is not null && !_PerformingOrganization.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("performingOrganization",_PerformingOrganization);
      if (_RequestingOrganization is not null && !_RequestingOrganization.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("requestingOrganization",_RequestingOrganization);
      if (_CostCenter is not null && !_CostCenter.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("costCenter",_CostCenter);
      if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
      if (_Bodysite?.Any() is true && !_Bodysite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("bodysite",_Bodysite);
      if (_FactorOverrideElement is not null && !_FactorOverrideElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factorOverride",_FactorOverrideElement);
      if (_PriceOverride is not null && !_PriceOverride.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("priceOverride",_PriceOverride);
      if (_OverrideReasonElement is not null && !_OverrideReasonElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("overrideReason",_OverrideReasonElement);
      if (_Enterer is not null && !_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("enterer",_Enterer);
      if (_EnteredDateElement is not null && !_EnteredDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("enteredDate",_EnteredDateElement);
      if (_Reason?.Any() is true && !_Reason.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("reason",_Reason);
      if (_Service?.Any() is true && !_Service.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("service",_Service);
      if (_Product is not null && !_Product.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("product",_Product);
      if (_Account?.Any() is true && !_Account.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("account",_Account);
      if (_Note?.Any() is true && !_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>()) yield return new KeyValuePair<string,object>("note",_Note);
      if (_SupportingInformation?.Any() is true && !_SupportingInformation.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("supportingInformation",_SupportingInformation);
    }

  }

}

// end of file
