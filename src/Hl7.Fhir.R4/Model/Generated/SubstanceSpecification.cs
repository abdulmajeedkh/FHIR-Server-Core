// <auto-generated/>
// Contents of: hl7.fhir.r4.expansions@4.0.1, hl7.fhir.r4.core@4.0.1

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// The detailed description of a substance, typically at a level beyond what is used for prescribing
  /// </summary>
  [Serializable]
  [DataContract]
  [FhirType("SubstanceSpecification","http://hl7.org/fhir/StructureDefinition/SubstanceSpecification")]
  public partial class SubstanceSpecification : Hl7.Fhir.Model.DomainResource, IIdentifiable<Identifier?>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "SubstanceSpecification";

    /// <summary>
    /// Moiety, for structural modifications
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("SubstanceSpecification.moiety", IsBackboneType=true)]
    public partial class MoietyComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "SubstanceSpecification.moiety";

      /// <summary>
      /// Role that the moiety is playing.
      /// </summary>
      [FhirElement("role", InSummary=true, Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Role
      {
        get
        {
          if(_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["role"]);
          return _Role;
        }

        set
        {
          if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("role");
          _Role = value;
          OnPropertyChanged("Role");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Role;

      /// <summary>
      /// Identifier by which this moiety substance is known.
      /// </summary>
      [FhirElement("identifier", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Identifier? Identifier
      {
        get
        {
          if(_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["identifier"]);
          return _Identifier;
        }

        set
        {
          if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            Overflow.Remove("identifier");
          _Identifier = value;
          OnPropertyChanged("Identifier");
        }

      }

      private Hl7.Fhir.Model.Identifier? _Identifier;

      /// <summary>
      /// Textual name for this moiety substance.
      /// </summary>
      [FhirElement("name", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// Textual name for this moiety substance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Stereochemistry type.
      /// </summary>
      [FhirElement("stereochemistry", InSummary=true, Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Stereochemistry
      {
        get
        {
          if(_Stereochemistry.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["stereochemistry"]);
          return _Stereochemistry;
        }

        set
        {
          if (_Stereochemistry.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("stereochemistry");
          _Stereochemistry = value;
          OnPropertyChanged("Stereochemistry");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Stereochemistry;

      /// <summary>
      /// Optical activity type.
      /// </summary>
      [FhirElement("opticalActivity", InSummary=true, Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? OpticalActivity
      {
        get
        {
          if(_OpticalActivity.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["opticalActivity"]);
          return _OpticalActivity;
        }

        set
        {
          if (_OpticalActivity.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("opticalActivity");
          _OpticalActivity = value;
          OnPropertyChanged("OpticalActivity");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _OpticalActivity;

      /// <summary>
      /// Molecular formula.
      /// </summary>
      [FhirElement("molecularFormula", InSummary=true, Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? MolecularFormulaElement
      {
        get
        {
          if(_MolecularFormulaElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["molecularFormula"]);
          return _MolecularFormulaElement;
        }

        set
        {
          if (_MolecularFormulaElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("molecularFormula");
          _MolecularFormulaElement = value;
          OnPropertyChanged("MolecularFormulaElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _MolecularFormulaElement;

      /// <summary>
      /// Molecular formula
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? MolecularFormula
      {
        get => MolecularFormulaElement?.Value;
        set
        {
          MolecularFormulaElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("MolecularFormula");
        }
      }

      /// <summary>
      /// Quantitative value for this moiety.
      /// </summary>
      [FhirElement("amount", InSummary=true, Order=100, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Quantity),typeof(Hl7.Fhir.Model.FhirString))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Amount
      {
        get
        {
          if(_Amount.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["amount"]);
          return _Amount;
        }

        set
        {
          if (_Amount.InOverflow<DynamicDataType>())
            Overflow.Remove("amount");
          _Amount = value;
          OnPropertyChanged("Amount");
        }

      }

      private Hl7.Fhir.Model.DataType? _Amount;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not MoietyComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Role is not null) dest.Role = (Hl7.Fhir.Model.CodeableConcept)_Role.DeepCopyInternal();
        if(_Identifier is not null) dest.Identifier = (Hl7.Fhir.Model.Identifier)_Identifier.DeepCopyInternal();
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_Stereochemistry is not null) dest.Stereochemistry = (Hl7.Fhir.Model.CodeableConcept)_Stereochemistry.DeepCopyInternal();
        if(_OpticalActivity is not null) dest.OpticalActivity = (Hl7.Fhir.Model.CodeableConcept)_OpticalActivity.DeepCopyInternal();
        if(_MolecularFormulaElement is not null) dest.MolecularFormulaElement = (Hl7.Fhir.Model.FhirString)_MolecularFormulaElement.DeepCopyInternal();
        if(_Amount is not null) dest.Amount = (Hl7.Fhir.Model.DataType)_Amount.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new MoietyComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not MoietyComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Role, otherT._Role)) return false;
        if(!comparer.Equals(_Identifier, otherT._Identifier)) return false;
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_Stereochemistry, otherT._Stereochemistry)) return false;
        if(!comparer.Equals(_OpticalActivity, otherT._OpticalActivity)) return false;
        if(!comparer.Equals(_MolecularFormulaElement, otherT._MolecularFormulaElement)) return false;
        if(!comparer.Equals(_Amount, otherT._Amount)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "role":
            if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["role"];
              return true;
            }
            value = _Role;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "identifier":
            if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            {
              value = Overflow["identifier"];
              return true;
            }
            value = _Identifier;
            return (value as Hl7.Fhir.Model.Identifier) is not null;
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "stereochemistry":
            if (_Stereochemistry.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["stereochemistry"];
              return true;
            }
            value = _Stereochemistry;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "opticalActivity":
            if (_OpticalActivity.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["opticalActivity"];
              return true;
            }
            value = _OpticalActivity;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "molecularFormula":
            if (_MolecularFormulaElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["molecularFormula"];
              return true;
            }
            value = _MolecularFormulaElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "amount":
            if (_Amount.InOverflow<DynamicDataType>())
            {
              value = Overflow["amount"];
              return true;
            }
            value = _Amount;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "role":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Role = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["role"] = value;
            }
            else Role = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "identifier":
            if (value is not (Hl7.Fhir.Model.Identifier or null))
            {
              Identifier = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
              Overflow["identifier"] = value;
            }
            else Identifier = (Hl7.Fhir.Model.Identifier?)value;
            return this;
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "stereochemistry":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Stereochemistry = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["stereochemistry"] = value;
            }
            else Stereochemistry = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "opticalActivity":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              OpticalActivity = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["opticalActivity"] = value;
            }
            else OpticalActivity = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "molecularFormula":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              MolecularFormulaElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["molecularFormula"] = value;
            }
            else MolecularFormulaElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "amount":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Amount = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["amount"] = value;
            }
            else Amount = (Hl7.Fhir.Model.DataType?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Role is not null && !_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("role",_Role);
        if (_Identifier is not null && !_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_Stereochemistry is not null && !_Stereochemistry.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("stereochemistry",_Stereochemistry);
        if (_OpticalActivity is not null && !_OpticalActivity.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("opticalActivity",_OpticalActivity);
        if (_MolecularFormulaElement is not null && !_MolecularFormulaElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("molecularFormula",_MolecularFormulaElement);
        if (_Amount is not null && !_Amount.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("amount",_Amount);
      }

    }

    /// <summary>
    /// General specifications for this substance, including how it is related to other substances
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("SubstanceSpecification.property", IsBackboneType=true)]
    public partial class PropertyComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "SubstanceSpecification.property";

      /// <summary>
      /// A category for this property, e.g. Physical, Chemical, Enzymatic.
      /// </summary>
      [FhirElement("category", InSummary=true, Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Property type e.g. viscosity, pH, isoelectric point.
      /// </summary>
      [FhirElement("code", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Code
      {
        get
        {
          if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
          return _Code;
        }

        set
        {
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("code");
          _Code = value;
          OnPropertyChanged("Code");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Code;

      /// <summary>
      /// Parameters that were used in the measurement of a property (e.g. for viscosity: measured at 20C with a pH of 7.1).
      /// </summary>
      [FhirElement("parameters", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ParametersElement
      {
        get
        {
          if(_ParametersElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["parameters"]);
          return _ParametersElement;
        }

        set
        {
          if (_ParametersElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("parameters");
          _ParametersElement = value;
          OnPropertyChanged("ParametersElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ParametersElement;

      /// <summary>
      /// Parameters that were used in the measurement of a property (e.g. for viscosity: measured at 20C with a pH of 7.1)
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Parameters
      {
        get => ParametersElement?.Value;
        set
        {
          ParametersElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Parameters");
        }
      }

      /// <summary>
      /// A substance upon which a defining property depends (e.g. for solubility: in water, in alcohol).
      /// </summary>
      [FhirElement("definingSubstance", InSummary=true, Order=70, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [References("SubstanceSpecification","Substance")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.ResourceReference),typeof(Hl7.Fhir.Model.CodeableConcept))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? DefiningSubstance
      {
        get
        {
          if(_DefiningSubstance.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["definingSubstance"]);
          return _DefiningSubstance;
        }

        set
        {
          if (_DefiningSubstance.InOverflow<DynamicDataType>())
            Overflow.Remove("definingSubstance");
          _DefiningSubstance = value;
          OnPropertyChanged("DefiningSubstance");
        }

      }

      private Hl7.Fhir.Model.DataType? _DefiningSubstance;

      /// <summary>
      /// Quantitative value for this property.
      /// </summary>
      [FhirElement("amount", InSummary=true, Order=80, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Quantity),typeof(Hl7.Fhir.Model.FhirString))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Amount
      {
        get
        {
          if(_Amount.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["amount"]);
          return _Amount;
        }

        set
        {
          if (_Amount.InOverflow<DynamicDataType>())
            Overflow.Remove("amount");
          _Amount = value;
          OnPropertyChanged("Amount");
        }

      }

      private Hl7.Fhir.Model.DataType? _Amount;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PropertyComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
        if(_ParametersElement is not null) dest.ParametersElement = (Hl7.Fhir.Model.FhirString)_ParametersElement.DeepCopyInternal();
        if(_DefiningSubstance is not null) dest.DefiningSubstance = (Hl7.Fhir.Model.DataType)_DefiningSubstance.DeepCopyInternal();
        if(_Amount is not null) dest.Amount = (Hl7.Fhir.Model.DataType)_Amount.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PropertyComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PropertyComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Code, otherT._Code)) return false;
        if(!comparer.Equals(_ParametersElement, otherT._ParametersElement)) return false;
        if(!comparer.Equals(_DefiningSubstance, otherT._DefiningSubstance)) return false;
        if(!comparer.Equals(_Amount, otherT._Amount)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "code":
            if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _Code;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "parameters":
            if (_ParametersElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["parameters"];
              return true;
            }
            value = _ParametersElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "definingSubstance":
            if (_DefiningSubstance.InOverflow<DynamicDataType>())
            {
              value = Overflow["definingSubstance"];
              return true;
            }
            value = _DefiningSubstance;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "amount":
            if (_Amount.InOverflow<DynamicDataType>())
            {
              value = Overflow["amount"];
              return true;
            }
            value = _Amount;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "code":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["code"] = value;
            }
            else Code = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "parameters":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ParametersElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["parameters"] = value;
            }
            else ParametersElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "definingSubstance":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              DefiningSubstance = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["definingSubstance"] = value;
            }
            else DefiningSubstance = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "amount":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Amount = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["amount"] = value;
            }
            else Amount = (Hl7.Fhir.Model.DataType?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
        if (_ParametersElement is not null && !_ParametersElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("parameters",_ParametersElement);
        if (_DefiningSubstance is not null && !_DefiningSubstance.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("definingSubstance",_DefiningSubstance);
        if (_Amount is not null && !_Amount.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("amount",_Amount);
      }

    }

    /// <summary>
    /// Structural information
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("SubstanceSpecification.structure", IsBackboneType=true)]
    public partial class StructureComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "SubstanceSpecification.structure";

      /// <summary>
      /// Stereochemistry type.
      /// </summary>
      [FhirElement("stereochemistry", InSummary=true, Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Stereochemistry
      {
        get
        {
          if(_Stereochemistry.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["stereochemistry"]);
          return _Stereochemistry;
        }

        set
        {
          if (_Stereochemistry.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("stereochemistry");
          _Stereochemistry = value;
          OnPropertyChanged("Stereochemistry");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Stereochemistry;

      /// <summary>
      /// Optical activity type.
      /// </summary>
      [FhirElement("opticalActivity", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? OpticalActivity
      {
        get
        {
          if(_OpticalActivity.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["opticalActivity"]);
          return _OpticalActivity;
        }

        set
        {
          if (_OpticalActivity.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("opticalActivity");
          _OpticalActivity = value;
          OnPropertyChanged("OpticalActivity");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _OpticalActivity;

      /// <summary>
      /// Molecular formula.
      /// </summary>
      [FhirElement("molecularFormula", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? MolecularFormulaElement
      {
        get
        {
          if(_MolecularFormulaElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["molecularFormula"]);
          return _MolecularFormulaElement;
        }

        set
        {
          if (_MolecularFormulaElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("molecularFormula");
          _MolecularFormulaElement = value;
          OnPropertyChanged("MolecularFormulaElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _MolecularFormulaElement;

      /// <summary>
      /// Molecular formula
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? MolecularFormula
      {
        get => MolecularFormulaElement?.Value;
        set
        {
          MolecularFormulaElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("MolecularFormula");
        }
      }

      /// <summary>
      /// Specified per moiety according to the Hill system, i.e. first C, then H, then alphabetical, each moiety separated by a dot.
      /// </summary>
      [FhirElement("molecularFormulaByMoiety", InSummary=true, Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? MolecularFormulaByMoietyElement
      {
        get
        {
          if(_MolecularFormulaByMoietyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["molecularFormulaByMoiety"]);
          return _MolecularFormulaByMoietyElement;
        }

        set
        {
          if (_MolecularFormulaByMoietyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("molecularFormulaByMoiety");
          _MolecularFormulaByMoietyElement = value;
          OnPropertyChanged("MolecularFormulaByMoietyElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _MolecularFormulaByMoietyElement;

      /// <summary>
      /// Specified per moiety according to the Hill system, i.e. first C, then H, then alphabetical, each moiety separated by a dot
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? MolecularFormulaByMoiety
      {
        get => MolecularFormulaByMoietyElement?.Value;
        set
        {
          MolecularFormulaByMoietyElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("MolecularFormulaByMoiety");
        }
      }

      /// <summary>
      /// Applicable for single substances that contain a radionuclide or a non-natural isotopic ratio.
      /// </summary>
      [FhirElement("isotope", InSummary=true, Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent> Isotope
      {
        get
        {
          if(_Isotope.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent>), Overflow["isotope"]);
          return _Isotope ??= [];
        }

        set
        {
          if (_Isotope.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent>>())
            Overflow.Remove("isotope");
          _Isotope = value;
          OnPropertyChanged("Isotope");
        }

      }

      private List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent>? _Isotope;

      /// <summary>
      /// The molecular weight or weight range (for proteins, polymers or nucleic acids).
      /// </summary>
      [FhirElement("molecularWeight", InSummary=true, Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent? MolecularWeight
      {
        get
        {
          if(_MolecularWeight.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent), Overflow["molecularWeight"]);
          return _MolecularWeight;
        }

        set
        {
          if (_MolecularWeight.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>())
            Overflow.Remove("molecularWeight");
          _MolecularWeight = value;
          OnPropertyChanged("MolecularWeight");
        }

      }

      private Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent? _MolecularWeight;

      /// <summary>
      /// Supporting literature.
      /// </summary>
      [FhirElement("source", InSummary=true, Order=100)]
      [CLSCompliant(false)]
      [References("DocumentReference")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Source
      {
        get
        {
          if(_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["source"]);
          return _Source ??= [];
        }

        set
        {
          if (_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("source");
          _Source = value;
          OnPropertyChanged("Source");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Source;

      /// <summary>
      /// Molecular structural representation.
      /// </summary>
      [FhirElement("representation", InSummary=true, Order=110)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent> Representation
      {
        get
        {
          if(_Representation.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent>), Overflow["representation"]);
          return _Representation ??= [];
        }

        set
        {
          if (_Representation.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent>>())
            Overflow.Remove("representation");
          _Representation = value;
          OnPropertyChanged("Representation");
        }

      }

      private List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent>? _Representation;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not StructureComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Stereochemistry is not null) dest.Stereochemistry = (Hl7.Fhir.Model.CodeableConcept)_Stereochemistry.DeepCopyInternal();
        if(_OpticalActivity is not null) dest.OpticalActivity = (Hl7.Fhir.Model.CodeableConcept)_OpticalActivity.DeepCopyInternal();
        if(_MolecularFormulaElement is not null) dest.MolecularFormulaElement = (Hl7.Fhir.Model.FhirString)_MolecularFormulaElement.DeepCopyInternal();
        if(_MolecularFormulaByMoietyElement is not null) dest.MolecularFormulaByMoietyElement = (Hl7.Fhir.Model.FhirString)_MolecularFormulaByMoietyElement.DeepCopyInternal();
        if(_Isotope is not null) dest.Isotope = new List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent>(_Isotope.DeepCopyInternal());
        if(_MolecularWeight is not null) dest.MolecularWeight = (Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent)_MolecularWeight.DeepCopyInternal();
        if(_Source is not null) dest.Source = new List<Hl7.Fhir.Model.ResourceReference>(_Source.DeepCopyInternal());
        if(_Representation is not null) dest.Representation = new List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent>(_Representation.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new StructureComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not StructureComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Stereochemistry, otherT._Stereochemistry)) return false;
        if(!comparer.Equals(_OpticalActivity, otherT._OpticalActivity)) return false;
        if(!comparer.Equals(_MolecularFormulaElement, otherT._MolecularFormulaElement)) return false;
        if(!comparer.Equals(_MolecularFormulaByMoietyElement, otherT._MolecularFormulaByMoietyElement)) return false;
        if(!comparer.ListEquals(_Isotope, otherT._Isotope)) return false;
        if(!comparer.Equals(_MolecularWeight, otherT._MolecularWeight)) return false;
        if(!comparer.ListEquals(_Source, otherT._Source)) return false;
        if(!comparer.ListEquals(_Representation, otherT._Representation)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "stereochemistry":
            if (_Stereochemistry.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["stereochemistry"];
              return true;
            }
            value = _Stereochemistry;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "opticalActivity":
            if (_OpticalActivity.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["opticalActivity"];
              return true;
            }
            value = _OpticalActivity;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "molecularFormula":
            if (_MolecularFormulaElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["molecularFormula"];
              return true;
            }
            value = _MolecularFormulaElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "molecularFormulaByMoiety":
            if (_MolecularFormulaByMoietyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["molecularFormulaByMoiety"];
              return true;
            }
            value = _MolecularFormulaByMoietyElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "isotope":
            if (_Isotope.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent>>())
            {
              value = Overflow["isotope"];
              return true;
            }
            value = _Isotope;
            return (value as List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent>)?.Any() is true;
          case "molecularWeight":
            if (_MolecularWeight.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>())
            {
              value = Overflow["molecularWeight"];
              return true;
            }
            value = _MolecularWeight;
            return (value as Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent) is not null;
          case "source":
            if (_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["source"];
              return true;
            }
            value = _Source;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "representation":
            if (_Representation.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent>>())
            {
              value = Overflow["representation"];
              return true;
            }
            value = _Representation;
            return (value as List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "stereochemistry":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Stereochemistry = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["stereochemistry"] = value;
            }
            else Stereochemistry = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "opticalActivity":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              OpticalActivity = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["opticalActivity"] = value;
            }
            else OpticalActivity = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "molecularFormula":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              MolecularFormulaElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["molecularFormula"] = value;
            }
            else MolecularFormulaElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "molecularFormulaByMoiety":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              MolecularFormulaByMoietyElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["molecularFormulaByMoiety"] = value;
            }
            else MolecularFormulaByMoietyElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "isotope":
            if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent> or null))
            {
              Isotope = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent>>.INSTANCE;
              Overflow["isotope"] = value;
            }
            else Isotope = (List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent>?)value!;
            return this;
          case "molecularWeight":
            if (value is not (Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent or null))
            {
              MolecularWeight = OverflowNull<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>.INSTANCE;
              Overflow["molecularWeight"] = value;
            }
            else MolecularWeight = (Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent?)value;
            return this;
          case "source":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Source = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["source"] = value;
            }
            else Source = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "representation":
            if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent> or null))
            {
              Representation = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent>>.INSTANCE;
              Overflow["representation"] = value;
            }
            else Representation = (List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Stereochemistry is not null && !_Stereochemistry.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("stereochemistry",_Stereochemistry);
        if (_OpticalActivity is not null && !_OpticalActivity.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("opticalActivity",_OpticalActivity);
        if (_MolecularFormulaElement is not null && !_MolecularFormulaElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("molecularFormula",_MolecularFormulaElement);
        if (_MolecularFormulaByMoietyElement is not null && !_MolecularFormulaByMoietyElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("molecularFormulaByMoiety",_MolecularFormulaByMoietyElement);
        if (_Isotope?.Any() is true && !_Isotope.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.IsotopeComponent>>()) yield return new KeyValuePair<string,object>("isotope",_Isotope);
        if (_MolecularWeight is not null && !_MolecularWeight.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>()) yield return new KeyValuePair<string,object>("molecularWeight",_MolecularWeight);
        if (_Source?.Any() is true && !_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("source",_Source);
        if (_Representation?.Any() is true && !_Representation.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.RepresentationComponent>>()) yield return new KeyValuePair<string,object>("representation",_Representation);
      }

    }

    /// <summary>
    /// Applicable for single substances that contain a radionuclide or a non-natural isotopic ratio
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("SubstanceSpecification.structure.isotope", IsBackboneType=true)]
    public partial class IsotopeComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "SubstanceSpecification.structure.isotope";

      /// <summary>
      /// Substance identifier for each non-natural or radioisotope.
      /// </summary>
      [FhirElement("identifier", InSummary=true, Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.Identifier? Identifier
      {
        get
        {
          if(_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["identifier"]);
          return _Identifier;
        }

        set
        {
          if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            Overflow.Remove("identifier");
          _Identifier = value;
          OnPropertyChanged("Identifier");
        }

      }

      private Hl7.Fhir.Model.Identifier? _Identifier;

      /// <summary>
      /// Substance name for each non-natural or radioisotope.
      /// </summary>
      [FhirElement("name", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Name
      {
        get
        {
          if(_Name.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["name"]);
          return _Name;
        }

        set
        {
          if (_Name.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("name");
          _Name = value;
          OnPropertyChanged("Name");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Name;

      /// <summary>
      /// The type of isotopic substitution present in a single substance.
      /// </summary>
      [FhirElement("substitution", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Substitution
      {
        get
        {
          if(_Substitution.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["substitution"]);
          return _Substitution;
        }

        set
        {
          if (_Substitution.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("substitution");
          _Substitution = value;
          OnPropertyChanged("Substitution");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Substitution;

      /// <summary>
      /// Half life - for a non-natural nuclide.
      /// </summary>
      [FhirElement("halfLife", InSummary=true, Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? HalfLife
      {
        get
        {
          if(_HalfLife.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["halfLife"]);
          return _HalfLife;
        }

        set
        {
          if (_HalfLife.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("halfLife");
          _HalfLife = value;
          OnPropertyChanged("HalfLife");
        }

      }

      private Hl7.Fhir.Model.Quantity? _HalfLife;

      /// <summary>
      /// The molecular weight or weight range (for proteins, polymers or nucleic acids).
      /// </summary>
      [FhirElement("molecularWeight", InSummary=true, Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent? MolecularWeight
      {
        get
        {
          if(_MolecularWeight.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent), Overflow["molecularWeight"]);
          return _MolecularWeight;
        }

        set
        {
          if (_MolecularWeight.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>())
            Overflow.Remove("molecularWeight");
          _MolecularWeight = value;
          OnPropertyChanged("MolecularWeight");
        }

      }

      private Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent? _MolecularWeight;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not IsotopeComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Identifier is not null) dest.Identifier = (Hl7.Fhir.Model.Identifier)_Identifier.DeepCopyInternal();
        if(_Name is not null) dest.Name = (Hl7.Fhir.Model.CodeableConcept)_Name.DeepCopyInternal();
        if(_Substitution is not null) dest.Substitution = (Hl7.Fhir.Model.CodeableConcept)_Substitution.DeepCopyInternal();
        if(_HalfLife is not null) dest.HalfLife = (Hl7.Fhir.Model.Quantity)_HalfLife.DeepCopyInternal();
        if(_MolecularWeight is not null) dest.MolecularWeight = (Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent)_MolecularWeight.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new IsotopeComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not IsotopeComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Identifier, otherT._Identifier)) return false;
        if(!comparer.Equals(_Name, otherT._Name)) return false;
        if(!comparer.Equals(_Substitution, otherT._Substitution)) return false;
        if(!comparer.Equals(_HalfLife, otherT._HalfLife)) return false;
        if(!comparer.Equals(_MolecularWeight, otherT._MolecularWeight)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "identifier":
            if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            {
              value = Overflow["identifier"];
              return true;
            }
            value = _Identifier;
            return (value as Hl7.Fhir.Model.Identifier) is not null;
          case "name":
            if (_Name.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _Name;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "substitution":
            if (_Substitution.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["substitution"];
              return true;
            }
            value = _Substitution;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "halfLife":
            if (_HalfLife.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["halfLife"];
              return true;
            }
            value = _HalfLife;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "molecularWeight":
            if (_MolecularWeight.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>())
            {
              value = Overflow["molecularWeight"];
              return true;
            }
            value = _MolecularWeight;
            return (value as Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "identifier":
            if (value is not (Hl7.Fhir.Model.Identifier or null))
            {
              Identifier = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
              Overflow["identifier"] = value;
            }
            else Identifier = (Hl7.Fhir.Model.Identifier?)value;
            return this;
          case "name":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Name = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["name"] = value;
            }
            else Name = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "substitution":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Substitution = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["substitution"] = value;
            }
            else Substitution = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "halfLife":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              HalfLife = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["halfLife"] = value;
            }
            else HalfLife = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "molecularWeight":
            if (value is not (Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent or null))
            {
              MolecularWeight = OverflowNull<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>.INSTANCE;
              Overflow["molecularWeight"] = value;
            }
            else MolecularWeight = (Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Identifier is not null && !_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
        if (_Name is not null && !_Name.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("name",_Name);
        if (_Substitution is not null && !_Substitution.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("substitution",_Substitution);
        if (_HalfLife is not null && !_HalfLife.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("halfLife",_HalfLife);
        if (_MolecularWeight is not null && !_MolecularWeight.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>()) yield return new KeyValuePair<string,object>("molecularWeight",_MolecularWeight);
      }

    }

    /// <summary>
    /// The molecular weight or weight range (for proteins, polymers or nucleic acids)
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("SubstanceSpecification.structure.isotope.molecularWeight", IsBackboneType=true)]
    public partial class MolecularWeightComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "SubstanceSpecification.structure.isotope.molecularWeight";

      /// <summary>
      /// The method by which the molecular weight was determined.
      /// </summary>
      [FhirElement("method", InSummary=true, Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Method
      {
        get
        {
          if(_Method.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["method"]);
          return _Method;
        }

        set
        {
          if (_Method.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("method");
          _Method = value;
          OnPropertyChanged("Method");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Method;

      /// <summary>
      /// Type of molecular weight such as exact, average (also known as. number average), weight average.
      /// </summary>
      [FhirElement("type", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Used to capture quantitative values for a variety of elements. If only limits are given, the arithmetic mean would be the average. If only a single definite value for a given element is given, it would be captured in this field.
      /// </summary>
      [FhirElement("amount", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Amount
      {
        get
        {
          if(_Amount.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["amount"]);
          return _Amount;
        }

        set
        {
          if (_Amount.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("amount");
          _Amount = value;
          OnPropertyChanged("Amount");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Amount;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not MolecularWeightComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Method is not null) dest.Method = (Hl7.Fhir.Model.CodeableConcept)_Method.DeepCopyInternal();
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Amount is not null) dest.Amount = (Hl7.Fhir.Model.Quantity)_Amount.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new MolecularWeightComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not MolecularWeightComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Method, otherT._Method)) return false;
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Amount, otherT._Amount)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "method":
            if (_Method.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["method"];
              return true;
            }
            value = _Method;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "amount":
            if (_Amount.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["amount"];
              return true;
            }
            value = _Amount;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "method":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Method = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["method"] = value;
            }
            else Method = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "amount":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Amount = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["amount"] = value;
            }
            else Amount = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Method is not null && !_Method.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("method",_Method);
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Amount is not null && !_Amount.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("amount",_Amount);
      }

    }

    /// <summary>
    /// Molecular structural representation
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("SubstanceSpecification.structure.representation", IsBackboneType=true)]
    public partial class RepresentationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "SubstanceSpecification.structure.representation";

      /// <summary>
      /// The type of structure (e.g. Full, Partial, Representative).
      /// </summary>
      [FhirElement("type", InSummary=true, Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// The structural representation as text string in a format e.g. InChI, SMILES, MOLFILE, CDX.
      /// </summary>
      [FhirElement("representation", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? RepresentationElement
      {
        get
        {
          if(_RepresentationElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["representation"]);
          return _RepresentationElement;
        }

        set
        {
          if (_RepresentationElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("representation");
          _RepresentationElement = value;
          OnPropertyChanged("RepresentationElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _RepresentationElement;

      /// <summary>
      /// The structural representation as text string in a format e.g. InChI, SMILES, MOLFILE, CDX
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Representation
      {
        get => RepresentationElement?.Value;
        set
        {
          RepresentationElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Representation");
        }
      }

      /// <summary>
      /// An attached file with the structural representation.
      /// </summary>
      [FhirElement("attachment", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Attachment? Attachment
      {
        get
        {
          if(_Attachment.InOverflow<Hl7.Fhir.Model.Attachment>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Attachment), Overflow["attachment"]);
          return _Attachment;
        }

        set
        {
          if (_Attachment.InOverflow<Hl7.Fhir.Model.Attachment>())
            Overflow.Remove("attachment");
          _Attachment = value;
          OnPropertyChanged("Attachment");
        }

      }

      private Hl7.Fhir.Model.Attachment? _Attachment;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not RepresentationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_RepresentationElement is not null) dest.RepresentationElement = (Hl7.Fhir.Model.FhirString)_RepresentationElement.DeepCopyInternal();
        if(_Attachment is not null) dest.Attachment = (Hl7.Fhir.Model.Attachment)_Attachment.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new RepresentationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not RepresentationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_RepresentationElement, otherT._RepresentationElement)) return false;
        if(!comparer.Equals(_Attachment, otherT._Attachment)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "representation":
            if (_RepresentationElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["representation"];
              return true;
            }
            value = _RepresentationElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "attachment":
            if (_Attachment.InOverflow<Hl7.Fhir.Model.Attachment>())
            {
              value = Overflow["attachment"];
              return true;
            }
            value = _Attachment;
            return (value as Hl7.Fhir.Model.Attachment) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "representation":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              RepresentationElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["representation"] = value;
            }
            else RepresentationElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "attachment":
            if (value is not (Hl7.Fhir.Model.Attachment or null))
            {
              Attachment = OverflowNull<Hl7.Fhir.Model.Attachment>.INSTANCE;
              Overflow["attachment"] = value;
            }
            else Attachment = (Hl7.Fhir.Model.Attachment?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_RepresentationElement is not null && !_RepresentationElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("representation",_RepresentationElement);
        if (_Attachment is not null && !_Attachment.InOverflow<Hl7.Fhir.Model.Attachment>()) yield return new KeyValuePair<string,object>("attachment",_Attachment);
      }

    }

    /// <summary>
    /// Codes associated with the substance
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("SubstanceSpecification.code", IsBackboneType=true)]
    public partial class CodeComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "SubstanceSpecification.code";

      /// <summary>
      /// The specific code.
      /// </summary>
      [FhirElement("code", InSummary=true, Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Code
      {
        get
        {
          if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
          return _Code;
        }

        set
        {
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("code");
          _Code = value;
          OnPropertyChanged("Code");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Code;

      /// <summary>
      /// Status of the code assignment.
      /// </summary>
      [FhirElement("status", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Status
      {
        get
        {
          if(_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["status"]);
          return _Status;
        }

        set
        {
          if (_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("status");
          _Status = value;
          OnPropertyChanged("Status");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Status;

      /// <summary>
      /// The date at which the code status is changed as part of the terminology maintenance.
      /// </summary>
      [FhirElement("statusDate", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDateTime? StatusDateElement
      {
        get
        {
          if(_StatusDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["statusDate"]);
          return _StatusDateElement;
        }

        set
        {
          if (_StatusDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            Overflow.Remove("statusDate");
          _StatusDateElement = value;
          OnPropertyChanged("StatusDateElement");
        }

      }

      private Hl7.Fhir.Model.FhirDateTime? _StatusDateElement;

      /// <summary>
      /// The date at which the code status is changed as part of the terminology maintenance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? StatusDate
      {
        get => StatusDateElement?.Value;
        set
        {
          StatusDateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
          OnPropertyChanged("StatusDate");
        }
      }

      /// <summary>
      /// Any comment can be provided in this field, if necessary.
      /// </summary>
      [FhirElement("comment", InSummary=true, Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? CommentElement
      {
        get
        {
          if(_CommentElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["comment"]);
          return _CommentElement;
        }

        set
        {
          if (_CommentElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("comment");
          _CommentElement = value;
          OnPropertyChanged("CommentElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _CommentElement;

      /// <summary>
      /// Any comment can be provided in this field, if necessary
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Comment
      {
        get => CommentElement?.Value;
        set
        {
          CommentElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Comment");
        }
      }

      /// <summary>
      /// Supporting literature.
      /// </summary>
      [FhirElement("source", InSummary=true, Order=80)]
      [CLSCompliant(false)]
      [References("DocumentReference")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Source
      {
        get
        {
          if(_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["source"]);
          return _Source ??= [];
        }

        set
        {
          if (_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("source");
          _Source = value;
          OnPropertyChanged("Source");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Source;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not CodeComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
        if(_Status is not null) dest.Status = (Hl7.Fhir.Model.CodeableConcept)_Status.DeepCopyInternal();
        if(_StatusDateElement is not null) dest.StatusDateElement = (Hl7.Fhir.Model.FhirDateTime)_StatusDateElement.DeepCopyInternal();
        if(_CommentElement is not null) dest.CommentElement = (Hl7.Fhir.Model.FhirString)_CommentElement.DeepCopyInternal();
        if(_Source is not null) dest.Source = new List<Hl7.Fhir.Model.ResourceReference>(_Source.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new CodeComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not CodeComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Code, otherT._Code)) return false;
        if(!comparer.Equals(_Status, otherT._Status)) return false;
        if(!comparer.Equals(_StatusDateElement, otherT._StatusDateElement)) return false;
        if(!comparer.Equals(_CommentElement, otherT._CommentElement)) return false;
        if(!comparer.ListEquals(_Source, otherT._Source)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "code":
            if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _Code;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "status":
            if (_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["status"];
              return true;
            }
            value = _Status;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "statusDate":
            if (_StatusDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            {
              value = Overflow["statusDate"];
              return true;
            }
            value = _StatusDateElement;
            return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
          case "comment":
            if (_CommentElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["comment"];
              return true;
            }
            value = _CommentElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "source":
            if (_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["source"];
              return true;
            }
            value = _Source;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "code":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["code"] = value;
            }
            else Code = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "status":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Status = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["status"] = value;
            }
            else Status = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "statusDate":
            if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
            {
              StatusDateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
              Overflow["statusDate"] = value;
            }
            else StatusDateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
            return this;
          case "comment":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              CommentElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["comment"] = value;
            }
            else CommentElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "source":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Source = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["source"] = value;
            }
            else Source = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
        if (_Status is not null && !_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("status",_Status);
        if (_StatusDateElement is not null && !_StatusDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("statusDate",_StatusDateElement);
        if (_CommentElement is not null && !_CommentElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("comment",_CommentElement);
        if (_Source?.Any() is true && !_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("source",_Source);
      }

    }

    /// <summary>
    /// Names applicable to this substance
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("SubstanceSpecification.name", IsBackboneType=true)]
    public partial class NameComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "SubstanceSpecification.name";

      /// <summary>
      /// The actual name.
      /// </summary>
      [FhirElement("name", InSummary=true, Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement!;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// The actual name
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Name type.
      /// </summary>
      [FhirElement("type", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// The status of the name.
      /// </summary>
      [FhirElement("status", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Status
      {
        get
        {
          if(_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["status"]);
          return _Status;
        }

        set
        {
          if (_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("status");
          _Status = value;
          OnPropertyChanged("Status");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Status;

      /// <summary>
      /// If this is the preferred name for this substance.
      /// </summary>
      [FhirElement("preferred", InSummary=true, Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? PreferredElement
      {
        get
        {
          if(_PreferredElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["preferred"]);
          return _PreferredElement;
        }

        set
        {
          if (_PreferredElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("preferred");
          _PreferredElement = value;
          OnPropertyChanged("PreferredElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _PreferredElement;

      /// <summary>
      /// If this is the preferred name for this substance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Preferred
      {
        get => PreferredElement?.Value;
        set
        {
          PreferredElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Preferred");
        }
      }

      /// <summary>
      /// Language of the name.
      /// </summary>
      [FhirElement("language", InSummary=true, Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Language
      {
        get
        {
          if(_Language.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["language"]);
          return _Language ??= [];
        }

        set
        {
          if (_Language.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("language");
          _Language = value;
          OnPropertyChanged("Language");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Language;

      /// <summary>
      /// The use context of this name for example if there is a different name a drug active ingredient as opposed to a food colour additive.
      /// </summary>
      [FhirElement("domain", InSummary=true, Order=90)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Domain
      {
        get
        {
          if(_Domain.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["domain"]);
          return _Domain ??= [];
        }

        set
        {
          if (_Domain.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("domain");
          _Domain = value;
          OnPropertyChanged("Domain");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Domain;

      /// <summary>
      /// The jurisdiction where this name applies.
      /// </summary>
      [FhirElement("jurisdiction", InSummary=true, Order=100)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Jurisdiction
      {
        get
        {
          if(_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["jurisdiction"]);
          return _Jurisdiction ??= [];
        }

        set
        {
          if (_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("jurisdiction");
          _Jurisdiction = value;
          OnPropertyChanged("Jurisdiction");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Jurisdiction;

      /// <summary>
      /// A synonym of this name.
      /// </summary>
      [FhirElement("synonym", InSummary=true, Order=110)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent> Synonym
      {
        get
        {
          if(_Synonym.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>), Overflow["synonym"]);
          return _Synonym ??= [];
        }

        set
        {
          if (_Synonym.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>())
            Overflow.Remove("synonym");
          _Synonym = value;
          OnPropertyChanged("Synonym");
        }

      }

      private List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>? _Synonym;

      /// <summary>
      /// A translation for this name.
      /// </summary>
      [FhirElement("translation", InSummary=true, Order=120)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent> Translation
      {
        get
        {
          if(_Translation.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>), Overflow["translation"]);
          return _Translation ??= [];
        }

        set
        {
          if (_Translation.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>())
            Overflow.Remove("translation");
          _Translation = value;
          OnPropertyChanged("Translation");
        }

      }

      private List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>? _Translation;

      /// <summary>
      /// Details of the official nature of this name.
      /// </summary>
      [FhirElement("official", InSummary=true, Order=130)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent> Official
      {
        get
        {
          if(_Official.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent>), Overflow["official"]);
          return _Official ??= [];
        }

        set
        {
          if (_Official.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent>>())
            Overflow.Remove("official");
          _Official = value;
          OnPropertyChanged("Official");
        }

      }

      private List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent>? _Official;

      /// <summary>
      /// Supporting literature.
      /// </summary>
      [FhirElement("source", InSummary=true, Order=140)]
      [CLSCompliant(false)]
      [References("DocumentReference")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Source
      {
        get
        {
          if(_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["source"]);
          return _Source ??= [];
        }

        set
        {
          if (_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("source");
          _Source = value;
          OnPropertyChanged("Source");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Source;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not NameComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Status is not null) dest.Status = (Hl7.Fhir.Model.CodeableConcept)_Status.DeepCopyInternal();
        if(_PreferredElement is not null) dest.PreferredElement = (Hl7.Fhir.Model.FhirBoolean)_PreferredElement.DeepCopyInternal();
        if(_Language is not null) dest.Language = new List<Hl7.Fhir.Model.CodeableConcept>(_Language.DeepCopyInternal());
        if(_Domain is not null) dest.Domain = new List<Hl7.Fhir.Model.CodeableConcept>(_Domain.DeepCopyInternal());
        if(_Jurisdiction is not null) dest.Jurisdiction = new List<Hl7.Fhir.Model.CodeableConcept>(_Jurisdiction.DeepCopyInternal());
        if(_Synonym is not null) dest.Synonym = new List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>(_Synonym.DeepCopyInternal());
        if(_Translation is not null) dest.Translation = new List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>(_Translation.DeepCopyInternal());
        if(_Official is not null) dest.Official = new List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent>(_Official.DeepCopyInternal());
        if(_Source is not null) dest.Source = new List<Hl7.Fhir.Model.ResourceReference>(_Source.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new NameComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not NameComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Status, otherT._Status)) return false;
        if(!comparer.Equals(_PreferredElement, otherT._PreferredElement)) return false;
        if(!comparer.ListEquals(_Language, otherT._Language)) return false;
        if(!comparer.ListEquals(_Domain, otherT._Domain)) return false;
        if(!comparer.ListEquals(_Jurisdiction, otherT._Jurisdiction)) return false;
        if(!comparer.ListEquals(_Synonym, otherT._Synonym)) return false;
        if(!comparer.ListEquals(_Translation, otherT._Translation)) return false;
        if(!comparer.ListEquals(_Official, otherT._Official)) return false;
        if(!comparer.ListEquals(_Source, otherT._Source)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "status":
            if (_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["status"];
              return true;
            }
            value = _Status;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "preferred":
            if (_PreferredElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["preferred"];
              return true;
            }
            value = _PreferredElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "language":
            if (_Language.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["language"];
              return true;
            }
            value = _Language;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "domain":
            if (_Domain.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["domain"];
              return true;
            }
            value = _Domain;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "jurisdiction":
            if (_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["jurisdiction"];
              return true;
            }
            value = _Jurisdiction;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "synonym":
            if (_Synonym.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>())
            {
              value = Overflow["synonym"];
              return true;
            }
            value = _Synonym;
            return (value as List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>)?.Any() is true;
          case "translation":
            if (_Translation.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>())
            {
              value = Overflow["translation"];
              return true;
            }
            value = _Translation;
            return (value as List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>)?.Any() is true;
          case "official":
            if (_Official.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent>>())
            {
              value = Overflow["official"];
              return true;
            }
            value = _Official;
            return (value as List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent>)?.Any() is true;
          case "source":
            if (_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["source"];
              return true;
            }
            value = _Source;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "status":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Status = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["status"] = value;
            }
            else Status = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "preferred":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              PreferredElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["preferred"] = value;
            }
            else PreferredElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "language":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Language = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["language"] = value;
            }
            else Language = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "domain":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Domain = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["domain"] = value;
            }
            else Domain = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "jurisdiction":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Jurisdiction = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["jurisdiction"] = value;
            }
            else Jurisdiction = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "synonym":
            if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent> or null))
            {
              Synonym = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>.INSTANCE;
              Overflow["synonym"] = value;
            }
            else Synonym = (List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>?)value!;
            return this;
          case "translation":
            if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent> or null))
            {
              Translation = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>.INSTANCE;
              Overflow["translation"] = value;
            }
            else Translation = (List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>?)value!;
            return this;
          case "official":
            if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent> or null))
            {
              Official = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent>>.INSTANCE;
              Overflow["official"] = value;
            }
            else Official = (List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent>?)value!;
            return this;
          case "source":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Source = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["source"] = value;
            }
            else Source = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Status is not null && !_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("status",_Status);
        if (_PreferredElement is not null && !_PreferredElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("preferred",_PreferredElement);
        if (_Language?.Any() is true && !_Language.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("language",_Language);
        if (_Domain?.Any() is true && !_Domain.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("domain",_Domain);
        if (_Jurisdiction?.Any() is true && !_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("jurisdiction",_Jurisdiction);
        if (_Synonym?.Any() is true && !_Synonym.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>()) yield return new KeyValuePair<string,object>("synonym",_Synonym);
        if (_Translation?.Any() is true && !_Translation.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>()) yield return new KeyValuePair<string,object>("translation",_Translation);
        if (_Official?.Any() is true && !_Official.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.OfficialComponent>>()) yield return new KeyValuePair<string,object>("official",_Official);
        if (_Source?.Any() is true && !_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("source",_Source);
      }

    }

    /// <summary>
    /// Details of the official nature of this name
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("SubstanceSpecification.name.official", IsBackboneType=true)]
    public partial class OfficialComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "SubstanceSpecification.name.official";

      /// <summary>
      /// Which authority uses this official name.
      /// </summary>
      [FhirElement("authority", InSummary=true, Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Authority
      {
        get
        {
          if(_Authority.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["authority"]);
          return _Authority;
        }

        set
        {
          if (_Authority.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("authority");
          _Authority = value;
          OnPropertyChanged("Authority");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Authority;

      /// <summary>
      /// The status of the official name.
      /// </summary>
      [FhirElement("status", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Status
      {
        get
        {
          if(_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["status"]);
          return _Status;
        }

        set
        {
          if (_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("status");
          _Status = value;
          OnPropertyChanged("Status");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Status;

      /// <summary>
      /// Date of official name change.
      /// </summary>
      [FhirElement("date", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDateTime? DateElement
      {
        get
        {
          if(_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["date"]);
          return _DateElement;
        }

        set
        {
          if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            Overflow.Remove("date");
          _DateElement = value;
          OnPropertyChanged("DateElement");
        }

      }

      private Hl7.Fhir.Model.FhirDateTime? _DateElement;

      /// <summary>
      /// Date of official name change
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Date
      {
        get => DateElement?.Value;
        set
        {
          DateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
          OnPropertyChanged("Date");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not OfficialComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Authority is not null) dest.Authority = (Hl7.Fhir.Model.CodeableConcept)_Authority.DeepCopyInternal();
        if(_Status is not null) dest.Status = (Hl7.Fhir.Model.CodeableConcept)_Status.DeepCopyInternal();
        if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.FhirDateTime)_DateElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new OfficialComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not OfficialComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Authority, otherT._Authority)) return false;
        if(!comparer.Equals(_Status, otherT._Status)) return false;
        if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "authority":
            if (_Authority.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["authority"];
              return true;
            }
            value = _Authority;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "status":
            if (_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["status"];
              return true;
            }
            value = _Status;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "date":
            if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            {
              value = Overflow["date"];
              return true;
            }
            value = _DateElement;
            return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "authority":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Authority = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["authority"] = value;
            }
            else Authority = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "status":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Status = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["status"] = value;
            }
            else Status = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "date":
            if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
            {
              DateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
              Overflow["date"] = value;
            }
            else DateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Authority is not null && !_Authority.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("authority",_Authority);
        if (_Status is not null && !_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("status",_Status);
        if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("date",_DateElement);
      }

    }

    /// <summary>
    /// A link between this substance and another, with details of the relationship
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("SubstanceSpecification.relationship", IsBackboneType=true)]
    public partial class RelationshipComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "SubstanceSpecification.relationship";

      /// <summary>
      /// A pointer to another substance, as a resource or just a representational code.
      /// </summary>
      [FhirElement("substance", InSummary=true, Order=40, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [References("SubstanceSpecification")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.ResourceReference),typeof(Hl7.Fhir.Model.CodeableConcept))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Substance
      {
        get
        {
          if(_Substance.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["substance"]);
          return _Substance;
        }

        set
        {
          if (_Substance.InOverflow<DynamicDataType>())
            Overflow.Remove("substance");
          _Substance = value;
          OnPropertyChanged("Substance");
        }

      }

      private Hl7.Fhir.Model.DataType? _Substance;

      /// <summary>
      /// For example "salt to parent", "active moiety", "starting material".
      /// </summary>
      [FhirElement("relationship", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Relationship
      {
        get
        {
          if(_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["relationship"]);
          return _Relationship;
        }

        set
        {
          if (_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("relationship");
          _Relationship = value;
          OnPropertyChanged("Relationship");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Relationship;

      /// <summary>
      /// For example where an enzyme strongly bonds with a particular substance, this is a defining relationship for that enzyme, out of several possible substance relationships.
      /// </summary>
      [FhirElement("isDefining", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? IsDefiningElement
      {
        get
        {
          if(_IsDefiningElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["isDefining"]);
          return _IsDefiningElement;
        }

        set
        {
          if (_IsDefiningElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("isDefining");
          _IsDefiningElement = value;
          OnPropertyChanged("IsDefiningElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _IsDefiningElement;

      /// <summary>
      /// For example where an enzyme strongly bonds with a particular substance, this is a defining relationship for that enzyme, out of several possible substance relationships
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? IsDefining
      {
        get => IsDefiningElement?.Value;
        set
        {
          IsDefiningElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("IsDefining");
        }
      }

      /// <summary>
      /// A numeric factor for the relationship, for instance to express that the salt of a substance has some percentage of the active substance in relation to some other.
      /// </summary>
      [FhirElement("amount", InSummary=true, Order=70, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Quantity),typeof(Hl7.Fhir.Model.Range),typeof(Hl7.Fhir.Model.Ratio),typeof(Hl7.Fhir.Model.FhirString))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Amount
      {
        get
        {
          if(_Amount.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["amount"]);
          return _Amount;
        }

        set
        {
          if (_Amount.InOverflow<DynamicDataType>())
            Overflow.Remove("amount");
          _Amount = value;
          OnPropertyChanged("Amount");
        }

      }

      private Hl7.Fhir.Model.DataType? _Amount;

      /// <summary>
      /// For use when the numeric.
      /// </summary>
      [FhirElement("amountRatioLowLimit", InSummary=true, Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.Ratio? AmountRatioLowLimit
      {
        get
        {
          if(_AmountRatioLowLimit.InOverflow<Hl7.Fhir.Model.Ratio>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Ratio), Overflow["amountRatioLowLimit"]);
          return _AmountRatioLowLimit;
        }

        set
        {
          if (_AmountRatioLowLimit.InOverflow<Hl7.Fhir.Model.Ratio>())
            Overflow.Remove("amountRatioLowLimit");
          _AmountRatioLowLimit = value;
          OnPropertyChanged("AmountRatioLowLimit");
        }

      }

      private Hl7.Fhir.Model.Ratio? _AmountRatioLowLimit;

      /// <summary>
      /// An operator for the amount, for example "average", "approximately", "less than".
      /// </summary>
      [FhirElement("amountType", InSummary=true, Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? AmountType
      {
        get
        {
          if(_AmountType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["amountType"]);
          return _AmountType;
        }

        set
        {
          if (_AmountType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("amountType");
          _AmountType = value;
          OnPropertyChanged("AmountType");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _AmountType;

      /// <summary>
      /// Supporting literature.
      /// </summary>
      [FhirElement("source", InSummary=true, Order=100)]
      [CLSCompliant(false)]
      [References("DocumentReference")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Source
      {
        get
        {
          if(_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["source"]);
          return _Source ??= [];
        }

        set
        {
          if (_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("source");
          _Source = value;
          OnPropertyChanged("Source");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Source;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not RelationshipComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Substance is not null) dest.Substance = (Hl7.Fhir.Model.DataType)_Substance.DeepCopyInternal();
        if(_Relationship is not null) dest.Relationship = (Hl7.Fhir.Model.CodeableConcept)_Relationship.DeepCopyInternal();
        if(_IsDefiningElement is not null) dest.IsDefiningElement = (Hl7.Fhir.Model.FhirBoolean)_IsDefiningElement.DeepCopyInternal();
        if(_Amount is not null) dest.Amount = (Hl7.Fhir.Model.DataType)_Amount.DeepCopyInternal();
        if(_AmountRatioLowLimit is not null) dest.AmountRatioLowLimit = (Hl7.Fhir.Model.Ratio)_AmountRatioLowLimit.DeepCopyInternal();
        if(_AmountType is not null) dest.AmountType = (Hl7.Fhir.Model.CodeableConcept)_AmountType.DeepCopyInternal();
        if(_Source is not null) dest.Source = new List<Hl7.Fhir.Model.ResourceReference>(_Source.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new RelationshipComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not RelationshipComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Substance, otherT._Substance)) return false;
        if(!comparer.Equals(_Relationship, otherT._Relationship)) return false;
        if(!comparer.Equals(_IsDefiningElement, otherT._IsDefiningElement)) return false;
        if(!comparer.Equals(_Amount, otherT._Amount)) return false;
        if(!comparer.Equals(_AmountRatioLowLimit, otherT._AmountRatioLowLimit)) return false;
        if(!comparer.Equals(_AmountType, otherT._AmountType)) return false;
        if(!comparer.ListEquals(_Source, otherT._Source)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "substance":
            if (_Substance.InOverflow<DynamicDataType>())
            {
              value = Overflow["substance"];
              return true;
            }
            value = _Substance;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "relationship":
            if (_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["relationship"];
              return true;
            }
            value = _Relationship;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "isDefining":
            if (_IsDefiningElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["isDefining"];
              return true;
            }
            value = _IsDefiningElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "amount":
            if (_Amount.InOverflow<DynamicDataType>())
            {
              value = Overflow["amount"];
              return true;
            }
            value = _Amount;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "amountRatioLowLimit":
            if (_AmountRatioLowLimit.InOverflow<Hl7.Fhir.Model.Ratio>())
            {
              value = Overflow["amountRatioLowLimit"];
              return true;
            }
            value = _AmountRatioLowLimit;
            return (value as Hl7.Fhir.Model.Ratio) is not null;
          case "amountType":
            if (_AmountType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["amountType"];
              return true;
            }
            value = _AmountType;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "source":
            if (_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["source"];
              return true;
            }
            value = _Source;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "substance":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Substance = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["substance"] = value;
            }
            else Substance = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "relationship":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Relationship = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["relationship"] = value;
            }
            else Relationship = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "isDefining":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              IsDefiningElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["isDefining"] = value;
            }
            else IsDefiningElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "amount":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Amount = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["amount"] = value;
            }
            else Amount = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "amountRatioLowLimit":
            if (value is not (Hl7.Fhir.Model.Ratio or null))
            {
              AmountRatioLowLimit = OverflowNull<Hl7.Fhir.Model.Ratio>.INSTANCE;
              Overflow["amountRatioLowLimit"] = value;
            }
            else AmountRatioLowLimit = (Hl7.Fhir.Model.Ratio?)value;
            return this;
          case "amountType":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              AmountType = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["amountType"] = value;
            }
            else AmountType = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "source":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Source = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["source"] = value;
            }
            else Source = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Substance is not null && !_Substance.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("substance",_Substance);
        if (_Relationship is not null && !_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("relationship",_Relationship);
        if (_IsDefiningElement is not null && !_IsDefiningElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("isDefining",_IsDefiningElement);
        if (_Amount is not null && !_Amount.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("amount",_Amount);
        if (_AmountRatioLowLimit is not null && !_AmountRatioLowLimit.InOverflow<Hl7.Fhir.Model.Ratio>()) yield return new KeyValuePair<string,object>("amountRatioLowLimit",_AmountRatioLowLimit);
        if (_AmountType is not null && !_AmountType.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("amountType",_AmountType);
        if (_Source?.Any() is true && !_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("source",_Source);
      }

    }

    /// <summary>
    /// Identifier by which this substance is known.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=90)]
    [DataMember]
    public Hl7.Fhir.Model.Identifier? Identifier
    {
      get
      {
        if(_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["identifier"]);
        return _Identifier;
      }

      set
      {
        if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private Hl7.Fhir.Model.Identifier? _Identifier;

    /// <summary>
    /// High level categorization, e.g. polymer or nucleic acid.
    /// </summary>
    [FhirElement("type", InSummary=true, Order=100)]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Type
    {
      get
      {
        if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
        return _Type;
      }

      set
      {
        if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("type");
        _Type = value;
        OnPropertyChanged("Type");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Type;

    /// <summary>
    /// Status of substance within the catalogue e.g. approved.
    /// </summary>
    [FhirElement("status", InSummary=true, Order=110)]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Status
    {
      get
      {
        if(_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["status"]);
        return _Status;
      }

      set
      {
        if (_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("status");
        _Status = value;
        OnPropertyChanged("Status");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Status;

    /// <summary>
    /// If the substance applies to only human or veterinary use.
    /// </summary>
    [FhirElement("domain", InSummary=true, Order=120)]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Domain
    {
      get
      {
        if(_Domain.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["domain"]);
        return _Domain;
      }

      set
      {
        if (_Domain.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("domain");
        _Domain = value;
        OnPropertyChanged("Domain");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Domain;

    /// <summary>
    /// Textual description of the substance.
    /// </summary>
    [FhirElement("description", InSummary=true, Order=130)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? DescriptionElement
    {
      get
      {
        if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
        return _DescriptionElement;
      }

      set
      {
        if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("description");
        _DescriptionElement = value;
        OnPropertyChanged("DescriptionElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _DescriptionElement;

    /// <summary>
    /// Textual description of the substance
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Description
    {
      get => DescriptionElement?.Value;
      set
      {
        DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Description");
      }
    }

    /// <summary>
    /// Supporting literature.
    /// </summary>
    [FhirElement("source", InSummary=true, Order=140)]
    [CLSCompliant(false)]
    [References("DocumentReference")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Source
    {
      get
      {
        if(_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["source"]);
        return _Source ??= [];
      }

      set
      {
        if (_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("source");
        _Source = value;
        OnPropertyChanged("Source");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Source;

    /// <summary>
    /// Textual comment about this record of a substance.
    /// </summary>
    [FhirElement("comment", InSummary=true, Order=150)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? CommentElement
    {
      get
      {
        if(_CommentElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["comment"]);
        return _CommentElement;
      }

      set
      {
        if (_CommentElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("comment");
        _CommentElement = value;
        OnPropertyChanged("CommentElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _CommentElement;

    /// <summary>
    /// Textual comment about this record of a substance
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Comment
    {
      get => CommentElement?.Value;
      set
      {
        CommentElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Comment");
      }
    }

    /// <summary>
    /// Moiety, for structural modifications.
    /// </summary>
    [FhirElement("moiety", InSummary=true, Order=160)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent> Moiety
    {
      get
      {
        if(_Moiety.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent>), Overflow["moiety"]);
        return _Moiety ??= [];
      }

      set
      {
        if (_Moiety.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent>>())
          Overflow.Remove("moiety");
        _Moiety = value;
        OnPropertyChanged("Moiety");
      }

    }

    private List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent>? _Moiety;

    /// <summary>
    /// General specifications for this substance, including how it is related to other substances.
    /// </summary>
    [FhirElement("property", InSummary=true, Order=170)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent> Property
    {
      get
      {
        if(_Property.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent>), Overflow["property"]);
        return _Property ??= [];
      }

      set
      {
        if (_Property.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent>>())
          Overflow.Remove("property");
        _Property = value;
        OnPropertyChanged("Property");
      }

    }

    private List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent>? _Property;

    /// <summary>
    /// General information detailing this substance.
    /// </summary>
    [FhirElement("referenceInformation", InSummary=true, Order=180)]
    [CLSCompliant(false)]
    [References("SubstanceReferenceInformation")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? ReferenceInformation
    {
      get
      {
        if(_ReferenceInformation.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["referenceInformation"]);
        return _ReferenceInformation;
      }

      set
      {
        if (_ReferenceInformation.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("referenceInformation");
        _ReferenceInformation = value;
        OnPropertyChanged("ReferenceInformation");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _ReferenceInformation;

    /// <summary>
    /// Structural information.
    /// </summary>
    [FhirElement("structure", InSummary=true, Order=190)]
    [DataMember]
    public Hl7.Fhir.Model.SubstanceSpecification.StructureComponent? Structure
    {
      get
      {
        if(_Structure.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.StructureComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.SubstanceSpecification.StructureComponent), Overflow["structure"]);
        return _Structure;
      }

      set
      {
        if (_Structure.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.StructureComponent>())
          Overflow.Remove("structure");
        _Structure = value;
        OnPropertyChanged("Structure");
      }

    }

    private Hl7.Fhir.Model.SubstanceSpecification.StructureComponent? _Structure;

    /// <summary>
    /// Codes associated with the substance.
    /// </summary>
    [FhirElement("code", InSummary=true, Order=200)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent> Code
    {
      get
      {
        if(_Code.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent>), Overflow["code"]);
        return _Code ??= [];
      }

      set
      {
        if (_Code.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent>>())
          Overflow.Remove("code");
        _Code = value;
        OnPropertyChanged("Code");
      }

    }

    private List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent>? _Code;

    /// <summary>
    /// Names applicable to this substance.
    /// </summary>
    [FhirElement("name", InSummary=true, Order=210)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent> Name
    {
      get
      {
        if(_Name.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>), Overflow["name"]);
        return _Name ??= [];
      }

      set
      {
        if (_Name.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>())
          Overflow.Remove("name");
        _Name = value;
        OnPropertyChanged("Name");
      }

    }

    private List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>? _Name;

    /// <summary>
    /// The molecular weight or weight range (for proteins, polymers or nucleic acids).
    /// </summary>
    [FhirElement("molecularWeight", InSummary=true, Order=220)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent> MolecularWeight
    {
      get
      {
        if(_MolecularWeight.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>), Overflow["molecularWeight"]);
        return _MolecularWeight ??= [];
      }

      set
      {
        if (_MolecularWeight.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>>())
          Overflow.Remove("molecularWeight");
        _MolecularWeight = value;
        OnPropertyChanged("MolecularWeight");
      }

    }

    private List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>? _MolecularWeight;

    /// <summary>
    /// A link between this substance and another, with details of the relationship.
    /// </summary>
    [FhirElement("relationship", InSummary=true, Order=230)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent> Relationship
    {
      get
      {
        if(_Relationship.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent>), Overflow["relationship"]);
        return _Relationship ??= [];
      }

      set
      {
        if (_Relationship.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent>>())
          Overflow.Remove("relationship");
        _Relationship = value;
        OnPropertyChanged("Relationship");
      }

    }

    private List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent>? _Relationship;

    /// <summary>
    /// Data items specific to nucleic acids.
    /// </summary>
    [FhirElement("nucleicAcid", InSummary=true, Order=240)]
    [CLSCompliant(false)]
    [References("SubstanceNucleicAcid")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? NucleicAcid
    {
      get
      {
        if(_NucleicAcid.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["nucleicAcid"]);
        return _NucleicAcid;
      }

      set
      {
        if (_NucleicAcid.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("nucleicAcid");
        _NucleicAcid = value;
        OnPropertyChanged("NucleicAcid");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _NucleicAcid;

    /// <summary>
    /// Data items specific to polymers.
    /// </summary>
    [FhirElement("polymer", InSummary=true, Order=250)]
    [CLSCompliant(false)]
    [References("SubstancePolymer")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Polymer
    {
      get
      {
        if(_Polymer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["polymer"]);
        return _Polymer;
      }

      set
      {
        if (_Polymer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("polymer");
        _Polymer = value;
        OnPropertyChanged("Polymer");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Polymer;

    /// <summary>
    /// Data items specific to proteins.
    /// </summary>
    [FhirElement("protein", InSummary=true, Order=260)]
    [CLSCompliant(false)]
    [References("SubstanceProtein")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Protein
    {
      get
      {
        if(_Protein.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["protein"]);
        return _Protein;
      }

      set
      {
        if (_Protein.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("protein");
        _Protein = value;
        OnPropertyChanged("Protein");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Protein;

    /// <summary>
    /// Material or taxonomic/anatomical source for the substance.
    /// </summary>
    [FhirElement("sourceMaterial", InSummary=true, Order=270)]
    [CLSCompliant(false)]
    [References("SubstanceSourceMaterial")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? SourceMaterial
    {
      get
      {
        if(_SourceMaterial.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["sourceMaterial"]);
        return _SourceMaterial;
      }

      set
      {
        if (_SourceMaterial.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("sourceMaterial");
        _SourceMaterial = value;
        OnPropertyChanged("SourceMaterial");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _SourceMaterial;

    Identifier? IIdentifiable<Identifier?>.Identifier { get => Identifier; set => Identifier = value!; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not SubstanceSpecification dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = (Hl7.Fhir.Model.Identifier)_Identifier.DeepCopyInternal();
      if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
      if(_Status is not null) dest.Status = (Hl7.Fhir.Model.CodeableConcept)_Status.DeepCopyInternal();
      if(_Domain is not null) dest.Domain = (Hl7.Fhir.Model.CodeableConcept)_Domain.DeepCopyInternal();
      if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
      if(_Source is not null) dest.Source = new List<Hl7.Fhir.Model.ResourceReference>(_Source.DeepCopyInternal());
      if(_CommentElement is not null) dest.CommentElement = (Hl7.Fhir.Model.FhirString)_CommentElement.DeepCopyInternal();
      if(_Moiety is not null) dest.Moiety = new List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent>(_Moiety.DeepCopyInternal());
      if(_Property is not null) dest.Property = new List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent>(_Property.DeepCopyInternal());
      if(_ReferenceInformation is not null) dest.ReferenceInformation = (Hl7.Fhir.Model.ResourceReference)_ReferenceInformation.DeepCopyInternal();
      if(_Structure is not null) dest.Structure = (Hl7.Fhir.Model.SubstanceSpecification.StructureComponent)_Structure.DeepCopyInternal();
      if(_Code is not null) dest.Code = new List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent>(_Code.DeepCopyInternal());
      if(_Name is not null) dest.Name = new List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>(_Name.DeepCopyInternal());
      if(_MolecularWeight is not null) dest.MolecularWeight = new List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>(_MolecularWeight.DeepCopyInternal());
      if(_Relationship is not null) dest.Relationship = new List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent>(_Relationship.DeepCopyInternal());
      if(_NucleicAcid is not null) dest.NucleicAcid = (Hl7.Fhir.Model.ResourceReference)_NucleicAcid.DeepCopyInternal();
      if(_Polymer is not null) dest.Polymer = (Hl7.Fhir.Model.ResourceReference)_Polymer.DeepCopyInternal();
      if(_Protein is not null) dest.Protein = (Hl7.Fhir.Model.ResourceReference)_Protein.DeepCopyInternal();
      if(_SourceMaterial is not null) dest.SourceMaterial = (Hl7.Fhir.Model.ResourceReference)_SourceMaterial.DeepCopyInternal();
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new SubstanceSpecification();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not SubstanceSpecification otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.Equals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_Type, otherT._Type)) return false;
      if(!comparer.Equals(_Status, otherT._Status)) return false;
      if(!comparer.Equals(_Domain, otherT._Domain)) return false;
      if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
      if(!comparer.ListEquals(_Source, otherT._Source)) return false;
      if(!comparer.Equals(_CommentElement, otherT._CommentElement)) return false;
      if(!comparer.ListEquals(_Moiety, otherT._Moiety)) return false;
      if(!comparer.ListEquals(_Property, otherT._Property)) return false;
      if(!comparer.Equals(_ReferenceInformation, otherT._ReferenceInformation)) return false;
      if(!comparer.Equals(_Structure, otherT._Structure)) return false;
      if(!comparer.ListEquals(_Code, otherT._Code)) return false;
      if(!comparer.ListEquals(_Name, otherT._Name)) return false;
      if(!comparer.ListEquals(_MolecularWeight, otherT._MolecularWeight)) return false;
      if(!comparer.ListEquals(_Relationship, otherT._Relationship)) return false;
      if(!comparer.Equals(_NucleicAcid, otherT._NucleicAcid)) return false;
      if(!comparer.Equals(_Polymer, otherT._Polymer)) return false;
      if(!comparer.Equals(_Protein, otherT._Protein)) return false;
      if(!comparer.Equals(_SourceMaterial, otherT._SourceMaterial)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as Hl7.Fhir.Model.Identifier) is not null;
        case "type":
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["type"];
            return true;
          }
          value = _Type;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "status":
          if (_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _Status;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "domain":
          if (_Domain.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["domain"];
            return true;
          }
          value = _Domain;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "description":
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["description"];
            return true;
          }
          value = _DescriptionElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "source":
          if (_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["source"];
            return true;
          }
          value = _Source;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "comment":
          if (_CommentElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["comment"];
            return true;
          }
          value = _CommentElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "moiety":
          if (_Moiety.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent>>())
          {
            value = Overflow["moiety"];
            return true;
          }
          value = _Moiety;
          return (value as List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent>)?.Any() is true;
        case "property":
          if (_Property.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent>>())
          {
            value = Overflow["property"];
            return true;
          }
          value = _Property;
          return (value as List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent>)?.Any() is true;
        case "referenceInformation":
          if (_ReferenceInformation.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["referenceInformation"];
            return true;
          }
          value = _ReferenceInformation;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "structure":
          if (_Structure.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.StructureComponent>())
          {
            value = Overflow["structure"];
            return true;
          }
          value = _Structure;
          return (value as Hl7.Fhir.Model.SubstanceSpecification.StructureComponent) is not null;
        case "code":
          if (_Code.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent>>())
          {
            value = Overflow["code"];
            return true;
          }
          value = _Code;
          return (value as List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent>)?.Any() is true;
        case "name":
          if (_Name.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>())
          {
            value = Overflow["name"];
            return true;
          }
          value = _Name;
          return (value as List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>)?.Any() is true;
        case "molecularWeight":
          if (_MolecularWeight.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>>())
          {
            value = Overflow["molecularWeight"];
            return true;
          }
          value = _MolecularWeight;
          return (value as List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>)?.Any() is true;
        case "relationship":
          if (_Relationship.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent>>())
          {
            value = Overflow["relationship"];
            return true;
          }
          value = _Relationship;
          return (value as List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent>)?.Any() is true;
        case "nucleicAcid":
          if (_NucleicAcid.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["nucleicAcid"];
            return true;
          }
          value = _NucleicAcid;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "polymer":
          if (_Polymer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["polymer"];
            return true;
          }
          value = _Polymer;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "protein":
          if (_Protein.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["protein"];
            return true;
          }
          value = _Protein;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "sourceMaterial":
          if (_SourceMaterial.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["sourceMaterial"];
            return true;
          }
          value = _SourceMaterial;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (Hl7.Fhir.Model.Identifier or null))
          {
            Identifier = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (Hl7.Fhir.Model.Identifier?)value;
          return this;
        case "type":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["type"] = value;
          }
          else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "status":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Status = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["status"] = value;
          }
          else Status = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "domain":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Domain = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["domain"] = value;
          }
          else Domain = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "description":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["description"] = value;
          }
          else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "source":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Source = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["source"] = value;
          }
          else Source = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "comment":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            CommentElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["comment"] = value;
          }
          else CommentElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "moiety":
          if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent> or null))
          {
            Moiety = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent>>.INSTANCE;
            Overflow["moiety"] = value;
          }
          else Moiety = (List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent>?)value!;
          return this;
        case "property":
          if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent> or null))
          {
            Property = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent>>.INSTANCE;
            Overflow["property"] = value;
          }
          else Property = (List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent>?)value!;
          return this;
        case "referenceInformation":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            ReferenceInformation = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["referenceInformation"] = value;
          }
          else ReferenceInformation = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "structure":
          if (value is not (Hl7.Fhir.Model.SubstanceSpecification.StructureComponent or null))
          {
            Structure = OverflowNull<Hl7.Fhir.Model.SubstanceSpecification.StructureComponent>.INSTANCE;
            Overflow["structure"] = value;
          }
          else Structure = (Hl7.Fhir.Model.SubstanceSpecification.StructureComponent?)value;
          return this;
        case "code":
          if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent> or null))
          {
            Code = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent>>.INSTANCE;
            Overflow["code"] = value;
          }
          else Code = (List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent>?)value!;
          return this;
        case "name":
          if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent> or null))
          {
            Name = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>.INSTANCE;
            Overflow["name"] = value;
          }
          else Name = (List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>?)value!;
          return this;
        case "molecularWeight":
          if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent> or null))
          {
            MolecularWeight = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>>.INSTANCE;
            Overflow["molecularWeight"] = value;
          }
          else MolecularWeight = (List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>?)value!;
          return this;
        case "relationship":
          if (value is not (List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent> or null))
          {
            Relationship = OverflowNull<List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent>>.INSTANCE;
            Overflow["relationship"] = value;
          }
          else Relationship = (List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent>?)value!;
          return this;
        case "nucleicAcid":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            NucleicAcid = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["nucleicAcid"] = value;
          }
          else NucleicAcid = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "polymer":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Polymer = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["polymer"] = value;
          }
          else Polymer = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "protein":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Protein = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["protein"] = value;
          }
          else Protein = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "sourceMaterial":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            SourceMaterial = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["sourceMaterial"] = value;
          }
          else SourceMaterial = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier is not null && !_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
      if (_Status is not null && !_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("status",_Status);
      if (_Domain is not null && !_Domain.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("domain",_Domain);
      if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      if (_Source?.Any() is true && !_Source.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("source",_Source);
      if (_CommentElement is not null && !_CommentElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("comment",_CommentElement);
      if (_Moiety?.Any() is true && !_Moiety.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.MoietyComponent>>()) yield return new KeyValuePair<string,object>("moiety",_Moiety);
      if (_Property?.Any() is true && !_Property.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.PropertyComponent>>()) yield return new KeyValuePair<string,object>("property",_Property);
      if (_ReferenceInformation is not null && !_ReferenceInformation.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("referenceInformation",_ReferenceInformation);
      if (_Structure is not null && !_Structure.InOverflow<Hl7.Fhir.Model.SubstanceSpecification.StructureComponent>()) yield return new KeyValuePair<string,object>("structure",_Structure);
      if (_Code?.Any() is true && !_Code.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.CodeComponent>>()) yield return new KeyValuePair<string,object>("code",_Code);
      if (_Name?.Any() is true && !_Name.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.NameComponent>>()) yield return new KeyValuePair<string,object>("name",_Name);
      if (_MolecularWeight?.Any() is true && !_MolecularWeight.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.MolecularWeightComponent>>()) yield return new KeyValuePair<string,object>("molecularWeight",_MolecularWeight);
      if (_Relationship?.Any() is true && !_Relationship.InOverflow<List<Hl7.Fhir.Model.SubstanceSpecification.RelationshipComponent>>()) yield return new KeyValuePair<string,object>("relationship",_Relationship);
      if (_NucleicAcid is not null && !_NucleicAcid.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("nucleicAcid",_NucleicAcid);
      if (_Polymer is not null && !_Polymer.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("polymer",_Polymer);
      if (_Protein is not null && !_Protein.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("protein",_Protein);
      if (_SourceMaterial is not null && !_SourceMaterial.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("sourceMaterial",_SourceMaterial);
    }

  }

}

// end of file
