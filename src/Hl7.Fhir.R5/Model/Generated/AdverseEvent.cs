// <auto-generated/>
// Contents of: hl7.fhir.r5.expansions@5.0.0, hl7.fhir.r5.core@5.0.0

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// An event that may be related to unintended effects on a patient or research participant
  /// </summary>
  /// <remarks>
  /// An event (i.e. any change to current patient status) that may be related to unintended effects on a patient or research participant. The unintended effects may require additional monitoring, treatment, hospitalization, or may result in death. The AdverseEvent resource also extends to potential or avoided events that could have had such effects. There are two major domains where the AdverseEvent resource is expected to be used. One is in clinical care reported adverse events and the other is in reporting adverse events in clinical  research trial management. Adverse events can be reported by healthcare providers, patients, caregivers or by medical products manufacturers. Given the differences between these two concepts, we recommend consulting the domain specific implementation guides when implementing the AdverseEvent Resource. The implementation guides include specific extensions, value sets and constraints.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("AdverseEvent","http://hl7.org/fhir/StructureDefinition/AdverseEvent")]
  public partial class AdverseEvent : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "AdverseEvent";

    /// <summary>
    /// Codes identifying the lifecycle stage of an adverse event.
    /// (url: http://hl7.org/fhir/ValueSet/adverse-event-status)
    /// (system: http://hl7.org/fhir/event-status)
    /// </summary>
    [FhirEnumeration("AdverseEventStatus", "http://hl7.org/fhir/ValueSet/adverse-event-status", "http://hl7.org/fhir/event-status")]
    public enum AdverseEventStatus
    {
      /// <summary>
      /// The event is currently occurring.
      /// (system: http://hl7.org/fhir/event-status)
      /// </summary>
      [EnumLiteral("in-progress"), Description("In Progress")]
      InProgress,
      /// <summary>
      /// The event has now concluded.
      /// (system: http://hl7.org/fhir/event-status)
      /// </summary>
      [EnumLiteral("completed"), Description("Completed")]
      Completed,
      /// <summary>
      /// This electronic record should never have existed, though it is possible that real-world decisions were based on it.  (If real-world activity has occurred, the status should be \"stopped\" rather than \"entered-in-error\".).
      /// (system: http://hl7.org/fhir/event-status)
      /// </summary>
      [EnumLiteral("entered-in-error"), Description("Entered in Error")]
      EnteredInError,
      /// <summary>
      /// The authoring/source system does not know which of the status values currently applies for this event.  Note: This concept is not to be used for \"other\" - one of the listed statuses is presumed to apply,  but the authoring/source system does not know which.
      /// (system: http://hl7.org/fhir/event-status)
      /// </summary>
      [EnumLiteral("unknown"), Description("Unknown")]
      Unknown,
    }

    /// <summary>
    /// Overall nature of the adverse event, e.g. real or potential.
    /// (url: http://hl7.org/fhir/ValueSet/adverse-event-actuality)
    /// (system: http://hl7.org/fhir/adverse-event-actuality)
    /// </summary>
    [FhirEnumeration("AdverseEventActuality", "http://hl7.org/fhir/ValueSet/adverse-event-actuality", "http://hl7.org/fhir/adverse-event-actuality")]
    public enum AdverseEventActuality
    {
      /// <summary>
      /// The adverse event actually happened regardless of whether anyone was affected or harmed.
      /// (system: http://hl7.org/fhir/adverse-event-actuality)
      /// </summary>
      [EnumLiteral("actual"), Description("Adverse Event")]
      Actual,
      /// <summary>
      /// A potential adverse event.
      /// (system: http://hl7.org/fhir/adverse-event-actuality)
      /// </summary>
      [EnumLiteral("potential"), Description("Potential Adverse Event")]
      Potential,
    }

    /// <summary>
    /// Who was involved in the adverse event or the potential adverse event and what they did
    /// </summary>
    /// <remarks>
    /// Indicates who or what participated in the adverse event and how they were involved.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("AdverseEvent.participant", IsBackboneType=true)]
    public partial class ParticipantComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "AdverseEvent.participant";

      /// <summary>
      /// Type of involvement.
      /// </summary>
      [FhirElement("function", InSummary=true, Order=40)]
      [Binding("AdverseEventParticipantFunction")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Function
      {
        get
        {
          if(_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["function"]);
          return _Function;
        }

        set
        {
          if (_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("function");
          _Function = value;
          OnPropertyChanged("Function");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Function;

      /// <summary>
      /// Who was involved in the adverse event or the potential adverse event.
      /// </summary>
      [FhirElement("actor", InSummary=true, Order=50, FiveWs="FiveWs.actor")]
      [CLSCompliant(false)]
      [References("Practitioner","PractitionerRole","Organization","CareTeam","Patient","Device","RelatedPerson","ResearchSubject")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference Actor
      {
        get
        {
          if(_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["actor"]);
          return _Actor!;
        }

        set
        {
          if (_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("actor");
          _Actor = value;
          OnPropertyChanged("Actor");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Actor;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ParticipantComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Function is not null) dest.Function = (Hl7.Fhir.Model.CodeableConcept)_Function.DeepCopyInternal();
        if(_Actor is not null) dest.Actor = (Hl7.Fhir.Model.ResourceReference)_Actor.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ParticipantComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ParticipantComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Function, otherT._Function)) return false;
        if(!comparer.Equals(_Actor, otherT._Actor)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "function":
            if (_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["function"];
              return true;
            }
            value = _Function;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "actor":
            if (_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["actor"];
              return true;
            }
            value = _Actor;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "function":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Function = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["function"] = value;
            }
            else Function = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "actor":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Actor = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["actor"] = value;
            }
            else Actor = (Hl7.Fhir.Model.ResourceReference?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Function is not null && !_Function.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("function",_Function);
        if (_Actor is not null && !_Actor.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("actor",_Actor);
      }

    }

    /// <summary>
    /// The suspected agent causing the adverse event
    /// </summary>
    /// <remarks>
    /// Describes the entity that is suspected to have caused the adverse event.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("AdverseEvent.suspectEntity", IsBackboneType=true)]
    public partial class SuspectEntityComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "AdverseEvent.suspectEntity";

      /// <summary>
      /// Refers to the specific entity that caused the adverse event.
      /// </summary>
      [FhirElement("instance", InSummary=true, Order=40, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [References("Immunization","Procedure","Substance","Medication","MedicationAdministration","MedicationStatement","Device","BiologicallyDerivedProduct","ResearchStudy")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.ResourceReference))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Instance
      {
        get
        {
          if(_Instance.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["instance"]);
          return _Instance!;
        }

        set
        {
          if (_Instance.InOverflow<DynamicDataType>())
            Overflow.Remove("instance");
          _Instance = value;
          OnPropertyChanged("Instance");
        }

      }

      private Hl7.Fhir.Model.DataType? _Instance;

      /// <summary>
      /// Information on the possible cause of the event.
      /// </summary>
      [FhirElement("causality", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.AdverseEvent.CausalityComponent? Causality
      {
        get
        {
          if(_Causality.InOverflow<Hl7.Fhir.Model.AdverseEvent.CausalityComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.AdverseEvent.CausalityComponent), Overflow["causality"]);
          return _Causality;
        }

        set
        {
          if (_Causality.InOverflow<Hl7.Fhir.Model.AdverseEvent.CausalityComponent>())
            Overflow.Remove("causality");
          _Causality = value;
          OnPropertyChanged("Causality");
        }

      }

      private Hl7.Fhir.Model.AdverseEvent.CausalityComponent? _Causality;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SuspectEntityComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Instance is not null) dest.Instance = (Hl7.Fhir.Model.DataType)_Instance.DeepCopyInternal();
        if(_Causality is not null) dest.Causality = (Hl7.Fhir.Model.AdverseEvent.CausalityComponent)_Causality.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SuspectEntityComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SuspectEntityComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Instance, otherT._Instance)) return false;
        if(!comparer.Equals(_Causality, otherT._Causality)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "instance":
            if (_Instance.InOverflow<DynamicDataType>())
            {
              value = Overflow["instance"];
              return true;
            }
            value = _Instance;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "causality":
            if (_Causality.InOverflow<Hl7.Fhir.Model.AdverseEvent.CausalityComponent>())
            {
              value = Overflow["causality"];
              return true;
            }
            value = _Causality;
            return (value as Hl7.Fhir.Model.AdverseEvent.CausalityComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "instance":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Instance = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["instance"] = value;
            }
            else Instance = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          case "causality":
            if (value is not (Hl7.Fhir.Model.AdverseEvent.CausalityComponent or null))
            {
              Causality = OverflowNull<Hl7.Fhir.Model.AdverseEvent.CausalityComponent>.INSTANCE;
              Overflow["causality"] = value;
            }
            else Causality = (Hl7.Fhir.Model.AdverseEvent.CausalityComponent?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Instance is not null && !_Instance.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("instance",_Instance);
        if (_Causality is not null && !_Causality.InOverflow<Hl7.Fhir.Model.AdverseEvent.CausalityComponent>()) yield return new KeyValuePair<string,object>("causality",_Causality);
      }

    }

    /// <summary>
    /// Information on the possible cause of the event
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("AdverseEvent.suspectEntity.causality", IsBackboneType=true)]
    public partial class CausalityComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "AdverseEvent.suspectEntity.causality";

      /// <summary>
      /// Method of evaluating the relatedness of the suspected entity to the event.
      /// </summary>
      [FhirElement("assessmentMethod", InSummary=true, Order=40)]
      [Binding("AdverseEventCausalityMethod")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? AssessmentMethod
      {
        get
        {
          if(_AssessmentMethod.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["assessmentMethod"]);
          return _AssessmentMethod;
        }

        set
        {
          if (_AssessmentMethod.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("assessmentMethod");
          _AssessmentMethod = value;
          OnPropertyChanged("AssessmentMethod");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _AssessmentMethod;

      /// <summary>
      /// Result of the assessment regarding the relatedness of the suspected entity to the event.
      /// </summary>
      [FhirElement("entityRelatedness", InSummary=true, Order=50)]
      [Binding("AdverseEventCausalityAssessment")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? EntityRelatedness
      {
        get
        {
          if(_EntityRelatedness.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["entityRelatedness"]);
          return _EntityRelatedness;
        }

        set
        {
          if (_EntityRelatedness.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("entityRelatedness");
          _EntityRelatedness = value;
          OnPropertyChanged("EntityRelatedness");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _EntityRelatedness;

      /// <summary>
      /// Author of the information on the possible cause of the event.
      /// </summary>
      [FhirElement("author", InSummary=true, Order=60)]
      [CLSCompliant(false)]
      [References("Practitioner","PractitionerRole","Patient","RelatedPerson","ResearchSubject")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Author
      {
        get
        {
          if(_Author.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["author"]);
          return _Author;
        }

        set
        {
          if (_Author.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("author");
          _Author = value;
          OnPropertyChanged("Author");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Author;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not CausalityComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_AssessmentMethod is not null) dest.AssessmentMethod = (Hl7.Fhir.Model.CodeableConcept)_AssessmentMethod.DeepCopyInternal();
        if(_EntityRelatedness is not null) dest.EntityRelatedness = (Hl7.Fhir.Model.CodeableConcept)_EntityRelatedness.DeepCopyInternal();
        if(_Author is not null) dest.Author = (Hl7.Fhir.Model.ResourceReference)_Author.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new CausalityComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not CausalityComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_AssessmentMethod, otherT._AssessmentMethod)) return false;
        if(!comparer.Equals(_EntityRelatedness, otherT._EntityRelatedness)) return false;
        if(!comparer.Equals(_Author, otherT._Author)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "assessmentMethod":
            if (_AssessmentMethod.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["assessmentMethod"];
              return true;
            }
            value = _AssessmentMethod;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "entityRelatedness":
            if (_EntityRelatedness.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["entityRelatedness"];
              return true;
            }
            value = _EntityRelatedness;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "author":
            if (_Author.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["author"];
              return true;
            }
            value = _Author;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "assessmentMethod":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              AssessmentMethod = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["assessmentMethod"] = value;
            }
            else AssessmentMethod = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "entityRelatedness":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              EntityRelatedness = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["entityRelatedness"] = value;
            }
            else EntityRelatedness = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "author":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Author = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["author"] = value;
            }
            else Author = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_AssessmentMethod is not null && !_AssessmentMethod.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("assessmentMethod",_AssessmentMethod);
        if (_EntityRelatedness is not null && !_EntityRelatedness.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("entityRelatedness",_EntityRelatedness);
        if (_Author is not null && !_Author.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("author",_Author);
      }

    }

    /// <summary>
    /// Contributing factors suspected to have increased the probability or severity of the adverse event
    /// </summary>
    /// <remarks>
    /// The contributing factors suspected to have increased the probability or severity of the adverse event.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("AdverseEvent.contributingFactor", IsBackboneType=true)]
    public partial class ContributingFactorComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "AdverseEvent.contributingFactor";

      /// <summary>
      /// Item suspected to have increased the probability or severity of the adverse event.
      /// </summary>
      [FhirElement("item", InSummary=true, Order=40, Choice=ChoiceType.DatatypeChoice)]
      [Binding("AdverseEventContributingFactor")]
      [CLSCompliant(false)]
      [References("Condition","Observation","AllergyIntolerance","FamilyMemberHistory","Immunization","Procedure","Device","DeviceUsage","DocumentReference","MedicationAdministration","MedicationStatement")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.ResourceReference),typeof(Hl7.Fhir.Model.CodeableConcept))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Item
      {
        get
        {
          if(_Item.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["item"]);
          return _Item!;
        }

        set
        {
          if (_Item.InOverflow<DynamicDataType>())
            Overflow.Remove("item");
          _Item = value;
          OnPropertyChanged("Item");
        }

      }

      private Hl7.Fhir.Model.DataType? _Item;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ContributingFactorComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Item is not null) dest.Item = (Hl7.Fhir.Model.DataType)_Item.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ContributingFactorComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ContributingFactorComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Item, otherT._Item)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "item":
            if (_Item.InOverflow<DynamicDataType>())
            {
              value = Overflow["item"];
              return true;
            }
            value = _Item;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "item":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Item = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["item"] = value;
            }
            else Item = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Item is not null && !_Item.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("item",_Item);
      }

    }

    /// <summary>
    /// Preventive actions that contributed to avoiding the adverse event
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("AdverseEvent.preventiveAction", IsBackboneType=true)]
    public partial class PreventiveActionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "AdverseEvent.preventiveAction";

      /// <summary>
      /// Action that contributed to avoiding the adverse event.
      /// </summary>
      [FhirElement("item", InSummary=true, Order=40, Choice=ChoiceType.DatatypeChoice)]
      [Binding("AdverseEventPreventiveAction")]
      [CLSCompliant(false)]
      [References("Immunization","Procedure","DocumentReference","MedicationAdministration","MedicationRequest")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.ResourceReference),typeof(Hl7.Fhir.Model.CodeableConcept))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Item
      {
        get
        {
          if(_Item.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["item"]);
          return _Item!;
        }

        set
        {
          if (_Item.InOverflow<DynamicDataType>())
            Overflow.Remove("item");
          _Item = value;
          OnPropertyChanged("Item");
        }

      }

      private Hl7.Fhir.Model.DataType? _Item;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PreventiveActionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Item is not null) dest.Item = (Hl7.Fhir.Model.DataType)_Item.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PreventiveActionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PreventiveActionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Item, otherT._Item)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "item":
            if (_Item.InOverflow<DynamicDataType>())
            {
              value = Overflow["item"];
              return true;
            }
            value = _Item;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "item":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Item = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["item"] = value;
            }
            else Item = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Item is not null && !_Item.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("item",_Item);
      }

    }

    /// <summary>
    /// Ameliorating actions taken after the adverse event occured in order to reduce the extent of harm
    /// </summary>
    /// <remarks>
    /// The ameliorating action taken after the adverse event occured in order to reduce the extent of harm.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("AdverseEvent.mitigatingAction", IsBackboneType=true)]
    public partial class MitigatingActionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "AdverseEvent.mitigatingAction";

      /// <summary>
      /// Ameliorating action taken after the adverse event occured in order to reduce the extent of harm.
      /// </summary>
      [FhirElement("item", InSummary=true, Order=40, Choice=ChoiceType.DatatypeChoice)]
      [Binding("AdverseEventMitigatingAction")]
      [CLSCompliant(false)]
      [References("Procedure","DocumentReference","MedicationAdministration","MedicationRequest")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.ResourceReference),typeof(Hl7.Fhir.Model.CodeableConcept))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Item
      {
        get
        {
          if(_Item.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["item"]);
          return _Item!;
        }

        set
        {
          if (_Item.InOverflow<DynamicDataType>())
            Overflow.Remove("item");
          _Item = value;
          OnPropertyChanged("Item");
        }

      }

      private Hl7.Fhir.Model.DataType? _Item;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not MitigatingActionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Item is not null) dest.Item = (Hl7.Fhir.Model.DataType)_Item.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new MitigatingActionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not MitigatingActionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Item, otherT._Item)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "item":
            if (_Item.InOverflow<DynamicDataType>())
            {
              value = Overflow["item"];
              return true;
            }
            value = _Item;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "item":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Item = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["item"] = value;
            }
            else Item = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Item is not null && !_Item.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("item",_Item);
      }

    }

    /// <summary>
    /// Supporting information relevant to the event
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("AdverseEvent.supportingInfo", IsBackboneType=true)]
    public partial class SupportingInfoComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "AdverseEvent.supportingInfo";

      /// <summary>
      /// Subject medical history or document relevant to this adverse event.
      /// </summary>
      [FhirElement("item", InSummary=true, Order=40, Choice=ChoiceType.DatatypeChoice)]
      [Binding("AdverseEventSupportingInfo")]
      [CLSCompliant(false)]
      [References("Condition","Observation","AllergyIntolerance","FamilyMemberHistory","Immunization","Procedure","DocumentReference","MedicationAdministration","MedicationStatement","QuestionnaireResponse")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.ResourceReference),typeof(Hl7.Fhir.Model.CodeableConcept))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Item
      {
        get
        {
          if(_Item.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["item"]);
          return _Item!;
        }

        set
        {
          if (_Item.InOverflow<DynamicDataType>())
            Overflow.Remove("item");
          _Item = value;
          OnPropertyChanged("Item");
        }

      }

      private Hl7.Fhir.Model.DataType? _Item;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SupportingInfoComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Item is not null) dest.Item = (Hl7.Fhir.Model.DataType)_Item.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SupportingInfoComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SupportingInfoComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Item, otherT._Item)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "item":
            if (_Item.InOverflow<DynamicDataType>())
            {
              value = Overflow["item"];
              return true;
            }
            value = _Item;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "item":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Item = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["item"] = value;
            }
            else Item = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Item is not null && !_Item.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("item",_Item);
      }

    }

    /// <summary>
    /// Business identifier for the event.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=90)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// in-progress | completed | entered-in-error | unknown.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=100, FiveWs="FiveWs.status")]
    [Binding("AdverseEventStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus> StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>), Overflow["status"]);
        return _StatusElement!;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>? _StatusElement;

    /// <summary>
    /// in-progress | completed | entered-in-error | unknown
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// actual | potential.
    /// </summary>
    [FhirElement("actuality", InSummary=true, IsModifier=true, Order=110, FiveWs="FiveWs.class")]
    [Binding("AdverseEventActuality")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality> ActualityElement
    {
      get
      {
        if(_ActualityElement.InOverflow<Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>), Overflow["actuality"]);
        return _ActualityElement!;
      }

      set
      {
        if (_ActualityElement.InOverflow<Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>>())
          Overflow.Remove("actuality");
        _ActualityElement = value;
        OnPropertyChanged("ActualityElement");
      }

    }

    private Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>? _ActualityElement;

    /// <summary>
    /// actual | potential
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality? Actuality
    {
      get => ActualityElement?.Value;
      set
      {
        ActualityElement = value is null ? null! : new Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>(value);
        OnPropertyChanged("Actuality");
      }
    }

    /// <summary>
    /// wrong-patient | procedure-mishap | medication-mishap | device | unsafe-physical-environment | hospital-aquired-infection | wrong-body-site.
    /// </summary>
    [FhirElement("category", InSummary=true, Order=120, FiveWs="FiveWs.class")]
    [Binding("AdverseEventCategory")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Category
    {
      get
      {
        if(_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["category"]);
        return _Category ??= [];
      }

      set
      {
        if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("category");
        _Category = value;
        OnPropertyChanged("Category");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Category;

    /// <summary>
    /// Event or incident that occurred or was averted.
    /// </summary>
    [FhirElement("code", InSummary=true, Order=130, FiveWs="FiveWs.what[x]")]
    [Binding("AdverseEventType")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Code
    {
      get
      {
        if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
        return _Code;
      }

      set
      {
        if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("code");
        _Code = value;
        OnPropertyChanged("Code");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Code;

    /// <summary>
    /// Subject impacted by event.
    /// </summary>
    [FhirElement("subject", InSummary=true, Order=140, FiveWs="FiveWs.subject")]
    [CLSCompliant(false)]
    [References("Patient","Group","Practitioner","RelatedPerson","ResearchSubject")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference Subject
    {
      get
      {
        if(_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["subject"]);
        return _Subject!;
      }

      set
      {
        if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("subject");
        _Subject = value;
        OnPropertyChanged("Subject");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Subject;

    /// <summary>
    /// The Encounter associated with the start of the AdverseEvent.
    /// </summary>
    [FhirElement("encounter", InSummary=true, Order=150, FiveWs="FiveWs.context")]
    [CLSCompliant(false)]
    [References("Encounter")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Encounter
    {
      get
      {
        if(_Encounter.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["encounter"]);
        return _Encounter;
      }

      set
      {
        if (_Encounter.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("encounter");
        _Encounter = value;
        OnPropertyChanged("Encounter");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Encounter;

    /// <summary>
    /// When the event occurred.
    /// </summary>
    [FhirElement("occurrence", InSummary=true, Order=160, Choice=ChoiceType.DatatypeChoice, FiveWs="FiveWs.done[x]")]
    [CLSCompliant(false)]
    [AllowedTypes(typeof(Hl7.Fhir.Model.FhirDateTime),typeof(Hl7.Fhir.Model.Period),typeof(Hl7.Fhir.Model.Timing))]
    [DataMember]
    public Hl7.Fhir.Model.DataType? Occurrence
    {
      get
      {
        if(_Occurrence.InOverflow<DynamicDataType>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["occurrence"]);
        return _Occurrence;
      }

      set
      {
        if (_Occurrence.InOverflow<DynamicDataType>())
          Overflow.Remove("occurrence");
        _Occurrence = value;
        OnPropertyChanged("Occurrence");
      }

    }

    private Hl7.Fhir.Model.DataType? _Occurrence;

    /// <summary>
    /// When the event was detected.
    /// </summary>
    [FhirElement("detected", InSummary=true, Order=170)]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? DetectedElement
    {
      get
      {
        if(_DetectedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["detected"]);
        return _DetectedElement;
      }

      set
      {
        if (_DetectedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("detected");
        _DetectedElement = value;
        OnPropertyChanged("DetectedElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _DetectedElement;

    /// <summary>
    /// When the event was detected
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Detected
    {
      get => DetectedElement?.Value;
      set
      {
        DetectedElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("Detected");
      }
    }

    /// <summary>
    /// When the event was recorded.
    /// </summary>
    [FhirElement("recordedDate", InSummary=true, Order=180, FiveWs="FiveWs.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? RecordedDateElement
    {
      get
      {
        if(_RecordedDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["recordedDate"]);
        return _RecordedDateElement;
      }

      set
      {
        if (_RecordedDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("recordedDate");
        _RecordedDateElement = value;
        OnPropertyChanged("RecordedDateElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _RecordedDateElement;

    /// <summary>
    /// When the event was recorded
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? RecordedDate
    {
      get => RecordedDateElement?.Value;
      set
      {
        RecordedDateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("RecordedDate");
      }
    }

    /// <summary>
    /// Effect on the subject due to this event.
    /// </summary>
    [FhirElement("resultingEffect", InSummary=true, Order=190)]
    [CLSCompliant(false)]
    [References("Condition","Observation")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> ResultingEffect
    {
      get
      {
        if(_ResultingEffect.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["resultingEffect"]);
        return _ResultingEffect ??= [];
      }

      set
      {
        if (_ResultingEffect.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("resultingEffect");
        _ResultingEffect = value;
        OnPropertyChanged("ResultingEffect");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _ResultingEffect;

    /// <summary>
    /// Location where adverse event occurred.
    /// </summary>
    [FhirElement("location", InSummary=true, Order=200)]
    [CLSCompliant(false)]
    [References("Location")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Location
    {
      get
      {
        if(_Location.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["location"]);
        return _Location;
      }

      set
      {
        if (_Location.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("location");
        _Location = value;
        OnPropertyChanged("Location");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Location;

    /// <summary>
    /// Seriousness or gravity of the event.
    /// </summary>
    [FhirElement("seriousness", InSummary=true, Order=210)]
    [Binding("AdverseEventSeriousness")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Seriousness
    {
      get
      {
        if(_Seriousness.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["seriousness"]);
        return _Seriousness;
      }

      set
      {
        if (_Seriousness.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("seriousness");
        _Seriousness = value;
        OnPropertyChanged("Seriousness");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Seriousness;

    /// <summary>
    /// Type of outcome from the adverse event.
    /// </summary>
    [FhirElement("outcome", InSummary=true, Order=220)]
    [Binding("AdverseEventOutcome")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Outcome
    {
      get
      {
        if(_Outcome.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["outcome"]);
        return _Outcome ??= [];
      }

      set
      {
        if (_Outcome.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("outcome");
        _Outcome = value;
        OnPropertyChanged("Outcome");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Outcome;

    /// <summary>
    /// Who recorded the adverse event.
    /// </summary>
    [FhirElement("recorder", InSummary=true, Order=230, FiveWs="FiveWs.author")]
    [CLSCompliant(false)]
    [References("Patient","Practitioner","PractitionerRole","RelatedPerson","ResearchSubject")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Recorder
    {
      get
      {
        if(_Recorder.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["recorder"]);
        return _Recorder;
      }

      set
      {
        if (_Recorder.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("recorder");
        _Recorder = value;
        OnPropertyChanged("Recorder");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Recorder;

    /// <summary>
    /// Who was involved in the adverse event or the potential adverse event and what they did.
    /// </summary>
    [FhirElement("participant", InSummary=true, Order=240)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent> Participant
    {
      get
      {
        if(_Participant.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent>), Overflow["participant"]);
        return _Participant ??= [];
      }

      set
      {
        if (_Participant.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent>>())
          Overflow.Remove("participant");
        _Participant = value;
        OnPropertyChanged("Participant");
      }

    }

    private List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent>? _Participant;

    /// <summary>
    /// Research study that the subject is enrolled in.
    /// </summary>
    [FhirElement("study", InSummary=true, Order=250)]
    [CLSCompliant(false)]
    [References("ResearchStudy")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Study
    {
      get
      {
        if(_Study.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["study"]);
        return _Study ??= [];
      }

      set
      {
        if (_Study.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("study");
        _Study = value;
        OnPropertyChanged("Study");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Study;

    /// <summary>
    /// Considered likely or probable or anticipated in the research study.
    /// </summary>
    [FhirElement("expectedInResearchStudy", Order=260)]
    [DataMember]
    public Hl7.Fhir.Model.FhirBoolean? ExpectedInResearchStudyElement
    {
      get
      {
        if(_ExpectedInResearchStudyElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["expectedInResearchStudy"]);
        return _ExpectedInResearchStudyElement;
      }

      set
      {
        if (_ExpectedInResearchStudyElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          Overflow.Remove("expectedInResearchStudy");
        _ExpectedInResearchStudyElement = value;
        OnPropertyChanged("ExpectedInResearchStudyElement");
      }

    }

    private Hl7.Fhir.Model.FhirBoolean? _ExpectedInResearchStudyElement;

    /// <summary>
    /// Considered likely or probable or anticipated in the research study
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public bool? ExpectedInResearchStudy
    {
      get => ExpectedInResearchStudyElement?.Value;
      set
      {
        ExpectedInResearchStudyElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
        OnPropertyChanged("ExpectedInResearchStudy");
      }
    }

    /// <summary>
    /// The suspected agent causing the adverse event.
    /// </summary>
    [FhirElement("suspectEntity", InSummary=true, Order=270)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent> SuspectEntity
    {
      get
      {
        if(_SuspectEntity.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent>), Overflow["suspectEntity"]);
        return _SuspectEntity ??= [];
      }

      set
      {
        if (_SuspectEntity.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent>>())
          Overflow.Remove("suspectEntity");
        _SuspectEntity = value;
        OnPropertyChanged("SuspectEntity");
      }

    }

    private List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent>? _SuspectEntity;

    /// <summary>
    /// Contributing factors suspected to have increased the probability or severity of the adverse event.
    /// </summary>
    [FhirElement("contributingFactor", InSummary=true, Order=280)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent> ContributingFactor
    {
      get
      {
        if(_ContributingFactor.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent>), Overflow["contributingFactor"]);
        return _ContributingFactor ??= [];
      }

      set
      {
        if (_ContributingFactor.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent>>())
          Overflow.Remove("contributingFactor");
        _ContributingFactor = value;
        OnPropertyChanged("ContributingFactor");
      }

    }

    private List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent>? _ContributingFactor;

    /// <summary>
    /// Preventive actions that contributed to avoiding the adverse event.
    /// </summary>
    [FhirElement("preventiveAction", InSummary=true, Order=290)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent> PreventiveAction
    {
      get
      {
        if(_PreventiveAction.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent>), Overflow["preventiveAction"]);
        return _PreventiveAction ??= [];
      }

      set
      {
        if (_PreventiveAction.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent>>())
          Overflow.Remove("preventiveAction");
        _PreventiveAction = value;
        OnPropertyChanged("PreventiveAction");
      }

    }

    private List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent>? _PreventiveAction;

    /// <summary>
    /// Ameliorating actions taken after the adverse event occured in order to reduce the extent of harm.
    /// </summary>
    [FhirElement("mitigatingAction", InSummary=true, Order=300)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent> MitigatingAction
    {
      get
      {
        if(_MitigatingAction.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent>), Overflow["mitigatingAction"]);
        return _MitigatingAction ??= [];
      }

      set
      {
        if (_MitigatingAction.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent>>())
          Overflow.Remove("mitigatingAction");
        _MitigatingAction = value;
        OnPropertyChanged("MitigatingAction");
      }

    }

    private List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent>? _MitigatingAction;

    /// <summary>
    /// Supporting information relevant to the event.
    /// </summary>
    [FhirElement("supportingInfo", InSummary=true, Order=310)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent> SupportingInfo
    {
      get
      {
        if(_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent>), Overflow["supportingInfo"]);
        return _SupportingInfo ??= [];
      }

      set
      {
        if (_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent>>())
          Overflow.Remove("supportingInfo");
        _SupportingInfo = value;
        OnPropertyChanged("SupportingInfo");
      }

    }

    private List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent>? _SupportingInfo;

    /// <summary>
    /// Comment on adverse event.
    /// </summary>
    [FhirElement("note", InSummary=true, Order=320)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Annotation> Note
    {
      get
      {
        if(_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Annotation>), Overflow["note"]);
        return _Note ??= [];
      }

      set
      {
        if (_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>())
          Overflow.Remove("note");
        _Note = value;
        OnPropertyChanged("Note");
      }

    }

    private List<Hl7.Fhir.Model.Annotation>? _Note;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not AdverseEvent dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>)_StatusElement.DeepCopyInternal();
      if(_ActualityElement is not null) dest.ActualityElement = (Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>)_ActualityElement.DeepCopyInternal();
      if(_Category is not null) dest.Category = new List<Hl7.Fhir.Model.CodeableConcept>(_Category.DeepCopyInternal());
      if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
      if(_Subject is not null) dest.Subject = (Hl7.Fhir.Model.ResourceReference)_Subject.DeepCopyInternal();
      if(_Encounter is not null) dest.Encounter = (Hl7.Fhir.Model.ResourceReference)_Encounter.DeepCopyInternal();
      if(_Occurrence is not null) dest.Occurrence = (Hl7.Fhir.Model.DataType)_Occurrence.DeepCopyInternal();
      if(_DetectedElement is not null) dest.DetectedElement = (Hl7.Fhir.Model.FhirDateTime)_DetectedElement.DeepCopyInternal();
      if(_RecordedDateElement is not null) dest.RecordedDateElement = (Hl7.Fhir.Model.FhirDateTime)_RecordedDateElement.DeepCopyInternal();
      if(_ResultingEffect is not null) dest.ResultingEffect = new List<Hl7.Fhir.Model.ResourceReference>(_ResultingEffect.DeepCopyInternal());
      if(_Location is not null) dest.Location = (Hl7.Fhir.Model.ResourceReference)_Location.DeepCopyInternal();
      if(_Seriousness is not null) dest.Seriousness = (Hl7.Fhir.Model.CodeableConcept)_Seriousness.DeepCopyInternal();
      if(_Outcome is not null) dest.Outcome = new List<Hl7.Fhir.Model.CodeableConcept>(_Outcome.DeepCopyInternal());
      if(_Recorder is not null) dest.Recorder = (Hl7.Fhir.Model.ResourceReference)_Recorder.DeepCopyInternal();
      if(_Participant is not null) dest.Participant = new List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent>(_Participant.DeepCopyInternal());
      if(_Study is not null) dest.Study = new List<Hl7.Fhir.Model.ResourceReference>(_Study.DeepCopyInternal());
      if(_ExpectedInResearchStudyElement is not null) dest.ExpectedInResearchStudyElement = (Hl7.Fhir.Model.FhirBoolean)_ExpectedInResearchStudyElement.DeepCopyInternal();
      if(_SuspectEntity is not null) dest.SuspectEntity = new List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent>(_SuspectEntity.DeepCopyInternal());
      if(_ContributingFactor is not null) dest.ContributingFactor = new List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent>(_ContributingFactor.DeepCopyInternal());
      if(_PreventiveAction is not null) dest.PreventiveAction = new List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent>(_PreventiveAction.DeepCopyInternal());
      if(_MitigatingAction is not null) dest.MitigatingAction = new List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent>(_MitigatingAction.DeepCopyInternal());
      if(_SupportingInfo is not null) dest.SupportingInfo = new List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent>(_SupportingInfo.DeepCopyInternal());
      if(_Note is not null) dest.Note = new List<Hl7.Fhir.Model.Annotation>(_Note.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new AdverseEvent();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not AdverseEvent otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_ActualityElement, otherT._ActualityElement)) return false;
      if(!comparer.ListEquals(_Category, otherT._Category)) return false;
      if(!comparer.Equals(_Code, otherT._Code)) return false;
      if(!comparer.Equals(_Subject, otherT._Subject)) return false;
      if(!comparer.Equals(_Encounter, otherT._Encounter)) return false;
      if(!comparer.Equals(_Occurrence, otherT._Occurrence)) return false;
      if(!comparer.Equals(_DetectedElement, otherT._DetectedElement)) return false;
      if(!comparer.Equals(_RecordedDateElement, otherT._RecordedDateElement)) return false;
      if(!comparer.ListEquals(_ResultingEffect, otherT._ResultingEffect)) return false;
      if(!comparer.Equals(_Location, otherT._Location)) return false;
      if(!comparer.Equals(_Seriousness, otherT._Seriousness)) return false;
      if(!comparer.ListEquals(_Outcome, otherT._Outcome)) return false;
      if(!comparer.Equals(_Recorder, otherT._Recorder)) return false;
      if(!comparer.ListEquals(_Participant, otherT._Participant)) return false;
      if(!comparer.ListEquals(_Study, otherT._Study)) return false;
      if(!comparer.Equals(_ExpectedInResearchStudyElement, otherT._ExpectedInResearchStudyElement)) return false;
      if(!comparer.ListEquals(_SuspectEntity, otherT._SuspectEntity)) return false;
      if(!comparer.ListEquals(_ContributingFactor, otherT._ContributingFactor)) return false;
      if(!comparer.ListEquals(_PreventiveAction, otherT._PreventiveAction)) return false;
      if(!comparer.ListEquals(_MitigatingAction, otherT._MitigatingAction)) return false;
      if(!comparer.ListEquals(_SupportingInfo, otherT._SupportingInfo)) return false;
      if(!comparer.ListEquals(_Note, otherT._Note)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>) is not null;
        case "actuality":
          if (_ActualityElement.InOverflow<Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>>())
          {
            value = Overflow["actuality"];
            return true;
          }
          value = _ActualityElement;
          return (value as Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>) is not null;
        case "category":
          if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["category"];
            return true;
          }
          value = _Category;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "code":
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["code"];
            return true;
          }
          value = _Code;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "subject":
          if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["subject"];
            return true;
          }
          value = _Subject;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "encounter":
          if (_Encounter.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["encounter"];
            return true;
          }
          value = _Encounter;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "occurrence":
          if (_Occurrence.InOverflow<DynamicDataType>())
          {
            value = Overflow["occurrence"];
            return true;
          }
          value = _Occurrence;
          return (value as Hl7.Fhir.Model.DataType) is not null;
        case "detected":
          if (_DetectedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["detected"];
            return true;
          }
          value = _DetectedElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "recordedDate":
          if (_RecordedDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["recordedDate"];
            return true;
          }
          value = _RecordedDateElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "resultingEffect":
          if (_ResultingEffect.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["resultingEffect"];
            return true;
          }
          value = _ResultingEffect;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "location":
          if (_Location.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["location"];
            return true;
          }
          value = _Location;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "seriousness":
          if (_Seriousness.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["seriousness"];
            return true;
          }
          value = _Seriousness;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "outcome":
          if (_Outcome.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["outcome"];
            return true;
          }
          value = _Outcome;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "recorder":
          if (_Recorder.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["recorder"];
            return true;
          }
          value = _Recorder;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "participant":
          if (_Participant.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent>>())
          {
            value = Overflow["participant"];
            return true;
          }
          value = _Participant;
          return (value as List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent>)?.Any() is true;
        case "study":
          if (_Study.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["study"];
            return true;
          }
          value = _Study;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "expectedInResearchStudy":
          if (_ExpectedInResearchStudyElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          {
            value = Overflow["expectedInResearchStudy"];
            return true;
          }
          value = _ExpectedInResearchStudyElement;
          return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
        case "suspectEntity":
          if (_SuspectEntity.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent>>())
          {
            value = Overflow["suspectEntity"];
            return true;
          }
          value = _SuspectEntity;
          return (value as List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent>)?.Any() is true;
        case "contributingFactor":
          if (_ContributingFactor.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent>>())
          {
            value = Overflow["contributingFactor"];
            return true;
          }
          value = _ContributingFactor;
          return (value as List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent>)?.Any() is true;
        case "preventiveAction":
          if (_PreventiveAction.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent>>())
          {
            value = Overflow["preventiveAction"];
            return true;
          }
          value = _PreventiveAction;
          return (value as List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent>)?.Any() is true;
        case "mitigatingAction":
          if (_MitigatingAction.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent>>())
          {
            value = Overflow["mitigatingAction"];
            return true;
          }
          value = _MitigatingAction;
          return (value as List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent>)?.Any() is true;
        case "supportingInfo":
          if (_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent>>())
          {
            value = Overflow["supportingInfo"];
            return true;
          }
          value = _SupportingInfo;
          return (value as List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent>)?.Any() is true;
        case "note":
          if (_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>())
          {
            value = Overflow["note"];
            return true;
          }
          value = _Note;
          return (value as List<Hl7.Fhir.Model.Annotation>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>?)value!;
          return this;
        case "actuality":
          if (value is not (Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality> or null))
          {
            ActualityElement = OverflowNull<Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>>.INSTANCE;
            Overflow["actuality"] = value;
          }
          else ActualityElement = (Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>?)value!;
          return this;
        case "category":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Category = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["category"] = value;
          }
          else Category = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "code":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["code"] = value;
          }
          else Code = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "subject":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Subject = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["subject"] = value;
          }
          else Subject = (Hl7.Fhir.Model.ResourceReference?)value!;
          return this;
        case "encounter":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Encounter = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["encounter"] = value;
          }
          else Encounter = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "occurrence":
          if (value is not (Hl7.Fhir.Model.DataType or null))
          {
            Occurrence = OverflowNull<DynamicDataType>.INSTANCE;
            Overflow["occurrence"] = value;
          }
          else Occurrence = (Hl7.Fhir.Model.DataType?)value;
          return this;
        case "detected":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            DetectedElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["detected"] = value;
          }
          else DetectedElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "recordedDate":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            RecordedDateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["recordedDate"] = value;
          }
          else RecordedDateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "resultingEffect":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            ResultingEffect = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["resultingEffect"] = value;
          }
          else ResultingEffect = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "location":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Location = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["location"] = value;
          }
          else Location = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "seriousness":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Seriousness = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["seriousness"] = value;
          }
          else Seriousness = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "outcome":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Outcome = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["outcome"] = value;
          }
          else Outcome = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "recorder":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Recorder = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["recorder"] = value;
          }
          else Recorder = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "participant":
          if (value is not (List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent> or null))
          {
            Participant = OverflowNull<List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent>>.INSTANCE;
            Overflow["participant"] = value;
          }
          else Participant = (List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent>?)value!;
          return this;
        case "study":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Study = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["study"] = value;
          }
          else Study = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "expectedInResearchStudy":
          if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
          {
            ExpectedInResearchStudyElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
            Overflow["expectedInResearchStudy"] = value;
          }
          else ExpectedInResearchStudyElement = (Hl7.Fhir.Model.FhirBoolean?)value;
          return this;
        case "suspectEntity":
          if (value is not (List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent> or null))
          {
            SuspectEntity = OverflowNull<List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent>>.INSTANCE;
            Overflow["suspectEntity"] = value;
          }
          else SuspectEntity = (List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent>?)value!;
          return this;
        case "contributingFactor":
          if (value is not (List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent> or null))
          {
            ContributingFactor = OverflowNull<List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent>>.INSTANCE;
            Overflow["contributingFactor"] = value;
          }
          else ContributingFactor = (List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent>?)value!;
          return this;
        case "preventiveAction":
          if (value is not (List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent> or null))
          {
            PreventiveAction = OverflowNull<List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent>>.INSTANCE;
            Overflow["preventiveAction"] = value;
          }
          else PreventiveAction = (List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent>?)value!;
          return this;
        case "mitigatingAction":
          if (value is not (List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent> or null))
          {
            MitigatingAction = OverflowNull<List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent>>.INSTANCE;
            Overflow["mitigatingAction"] = value;
          }
          else MitigatingAction = (List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent>?)value!;
          return this;
        case "supportingInfo":
          if (value is not (List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent> or null))
          {
            SupportingInfo = OverflowNull<List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent>>.INSTANCE;
            Overflow["supportingInfo"] = value;
          }
          else SupportingInfo = (List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent>?)value!;
          return this;
        case "note":
          if (value is not (List<Hl7.Fhir.Model.Annotation> or null))
          {
            Note = OverflowNull<List<Hl7.Fhir.Model.Annotation>>.INSTANCE;
            Overflow["note"] = value;
          }
          else Note = (List<Hl7.Fhir.Model.Annotation>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_ActualityElement is not null && !_ActualityElement.InOverflow<Code<Hl7.Fhir.Model.AdverseEvent.AdverseEventActuality>>()) yield return new KeyValuePair<string,object>("actuality",_ActualityElement);
      if (_Category?.Any() is true && !_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("category",_Category);
      if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
      if (_Subject is not null && !_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("subject",_Subject);
      if (_Encounter is not null && !_Encounter.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("encounter",_Encounter);
      if (_Occurrence is not null && !_Occurrence.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("occurrence",_Occurrence);
      if (_DetectedElement is not null && !_DetectedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("detected",_DetectedElement);
      if (_RecordedDateElement is not null && !_RecordedDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("recordedDate",_RecordedDateElement);
      if (_ResultingEffect?.Any() is true && !_ResultingEffect.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("resultingEffect",_ResultingEffect);
      if (_Location is not null && !_Location.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("location",_Location);
      if (_Seriousness is not null && !_Seriousness.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("seriousness",_Seriousness);
      if (_Outcome?.Any() is true && !_Outcome.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("outcome",_Outcome);
      if (_Recorder is not null && !_Recorder.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("recorder",_Recorder);
      if (_Participant?.Any() is true && !_Participant.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.ParticipantComponent>>()) yield return new KeyValuePair<string,object>("participant",_Participant);
      if (_Study?.Any() is true && !_Study.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("study",_Study);
      if (_ExpectedInResearchStudyElement is not null && !_ExpectedInResearchStudyElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("expectedInResearchStudy",_ExpectedInResearchStudyElement);
      if (_SuspectEntity?.Any() is true && !_SuspectEntity.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.SuspectEntityComponent>>()) yield return new KeyValuePair<string,object>("suspectEntity",_SuspectEntity);
      if (_ContributingFactor?.Any() is true && !_ContributingFactor.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.ContributingFactorComponent>>()) yield return new KeyValuePair<string,object>("contributingFactor",_ContributingFactor);
      if (_PreventiveAction?.Any() is true && !_PreventiveAction.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.PreventiveActionComponent>>()) yield return new KeyValuePair<string,object>("preventiveAction",_PreventiveAction);
      if (_MitigatingAction?.Any() is true && !_MitigatingAction.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.MitigatingActionComponent>>()) yield return new KeyValuePair<string,object>("mitigatingAction",_MitigatingAction);
      if (_SupportingInfo?.Any() is true && !_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.AdverseEvent.SupportingInfoComponent>>()) yield return new KeyValuePair<string,object>("supportingInfo",_SupportingInfo);
      if (_Note?.Any() is true && !_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>()) yield return new KeyValuePair<string,object>("note",_Note);
    }

  }

}

// end of file
