// <auto-generated/>
// Contents of: hl7.fhir.r3.expansions@3.0.2, hl7.fhir.r3.core@3.0.2

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// Explanation of Benefit resource
  /// </summary>
  /// <remarks>
  /// This resource provides: the claim details; adjudication details from the processing of a Claim; and optionally account balance information, for informing the subscriber of the benefits provided.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("ExplanationOfBenefit","http://hl7.org/fhir/StructureDefinition/ExplanationOfBenefit")]
  public partial class ExplanationOfBenefit : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "ExplanationOfBenefit";

    /// <summary>
    /// A code specifying the state of the resource instance.
    /// (url: http://hl7.org/fhir/ValueSet/explanationofbenefit-status)
    /// (system: http://hl7.org/fhir/explanationofbenefit-status)
    /// </summary>
    [FhirEnumeration("ExplanationOfBenefitStatus", "http://hl7.org/fhir/ValueSet/explanationofbenefit-status", "http://hl7.org/fhir/explanationofbenefit-status")]
    public enum ExplanationOfBenefitStatus
    {
      /// <summary>
      /// The resource instance is currently in-force.
      /// (system: http://hl7.org/fhir/explanationofbenefit-status)
      /// </summary>
      [EnumLiteral("active"), Description("Active")]
      Active,
      /// <summary>
      /// The resource instance is withdrawn, rescinded or reversed.
      /// (system: http://hl7.org/fhir/explanationofbenefit-status)
      /// </summary>
      [EnumLiteral("cancelled"), Description("Cancelled")]
      Cancelled,
      /// <summary>
      /// A new resource instance the contents of which is not complete.
      /// (system: http://hl7.org/fhir/explanationofbenefit-status)
      /// </summary>
      [EnumLiteral("draft"), Description("Draft")]
      Draft,
      /// <summary>
      /// The resource instance was entered in error.
      /// (system: http://hl7.org/fhir/explanationofbenefit-status)
      /// </summary>
      [EnumLiteral("entered-in-error"), Description("Entered In Error")]
      EnteredInError,
    }

    /// <summary>
    /// The type of payee Resource
    /// (url: http://hl7.org/fhir/ValueSet/resource-type-link)
    /// (system: http://hl7.org/fhir/resource-type-link)
    /// </summary>
    [FhirEnumeration("PayeeResourceType", "http://hl7.org/fhir/ValueSet/resource-type-link", "http://hl7.org/fhir/resource-type-link")]
    public enum PayeeResourceType
    {
      /// <summary>
      /// Organization resource
      /// (system: http://hl7.org/fhir/resource-type-link)
      /// </summary>
      [EnumLiteral("organization"), Description("Organization")]
      Organization,
      /// <summary>
      /// Patient resource
      /// (system: http://hl7.org/fhir/resource-type-link)
      /// </summary>
      [EnumLiteral("patient"), Description("Patient")]
      Patient,
      /// <summary>
      /// Practitioner resource
      /// (system: http://hl7.org/fhir/resource-type-link)
      /// </summary>
      [EnumLiteral("practitioner"), Description("Practitioner")]
      Practitioner,
      /// <summary>
      /// RelatedPerson resource
      /// (system: http://hl7.org/fhir/resource-type-link)
      /// </summary>
      [EnumLiteral("relatedperson"), Description("RelatedPerson")]
      Relatedperson,
    }

    /// <summary>
    /// Type of invoice element that is used to assist in describing an Invoice that is either submitted for adjudication or for which is returned on adjudication results. Invoice elements of this type signify a grouping of one or more children (detail) invoice elements.  They do not have intrinsic costing associated with them, but merely reflect the sum of all costing for it's immediate children invoice elements.
    /// (url: http://hl7.org/fhir/ValueSet/v3-ActInvoiceGroupCode)
    /// (system: http://hl7.org/fhir/v3/ActCode)
    /// </summary>
    [FhirEnumeration("ActInvoiceGroupCode", "http://hl7.org/fhir/ValueSet/v3-ActInvoiceGroupCode", "http://hl7.org/fhir/v3/ActCode")]
    public enum ActInvoiceGroupCode
    {
      /// <summary>
      /// A grouping of invoice element groups and details including the ones specifying the compound ingredients being invoiced. It may also contain generic detail items such as markup.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("CPNDDRGING"), Description("compound drug invoice group")]
      CPNDDRGING,
      /// <summary>
      /// A grouping of invoice element details including the one specifying an ingredient drug being invoiced. It may also contain generic detail items such as tax or markup.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("CPNDINDING"), Description("compound ingredient invoice group")]
      CPNDINDING,
      /// <summary>
      /// A grouping of invoice element groups and details including the ones specifying the compound supplies being invoiced. It may also contain generic detail items such as markup.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("CPNDSUPING"), Description("compound supply invoice group")]
      CPNDSUPING,
      /// <summary>
      /// A grouping of invoice element details including the one specifying the drug being invoiced. It may also contain generic detail items such as markup.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("DRUGING"), Description("drug invoice group")]
      DRUGING,
      /// <summary>
      /// A grouping of invoice element details including the ones specifying the frame fee and the frame dispensing cost that are being invoiced.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("FRAMEING"), Description("frame invoice group")]
      FRAMEING,
      /// <summary>
      /// A grouping of invoice element details including the ones specifying the lens fee and the lens dispensing cost that are being invoiced.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("LENSING"), Description("lens invoice group")]
      LENSING,
      /// <summary>
      /// A grouping of invoice element details including the one specifying the product (good or supply) being invoiced. It may also contain generic detail items such as tax or discount.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("PRDING"), Description("product invoice group")]
      PRDING,
      /// <summary>
      /// Clinical product invoice where the Invoice Grouping contains one or more billable item and is supported by clinical product(s).
      ///                         For example, a crutch or a wheelchair.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("CPINV"), Description("clinical product invoice")]
      CPINV,
      /// <summary>
      /// Clinical Services Invoice which can be used to describe a single service, multiple services or repeated services.
      ///                         [1] Single Clinical services invoice where the Invoice Grouping contains one billable item and is supported by one clinical service.
      ///                         For example, a single service for an office visit or simple clinical procedure (e.g. knee mobilization).
      ///                         [2] Multiple Clinical services invoice where the Invoice Grouping contains more than one billable item, supported by one or more clinical services.  The services can be distinct and over multiple dates, but for the same patient. This type of invoice includes a series of treatments which must be adjudicated together.
      ///                         For example, an adjustment and ultrasound for a chiropractic session where fees are associated for each of the services and adjudicated (invoiced) together.
      ///                         [3] Repeated Clinical services invoice where the Invoice Grouping contains one or more billable item, supported by the same clinical service repeated over a period of time.
      ///                         For example, the same Chiropractic adjustment (service or treatment) delivered on 3 separate occasions over a period of time at the discretion of the provider (e.g. month).
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("CSINV"), Description("clinical service invoice")]
      CSINV,
      /// <summary>
      /// A clinical Invoice Grouping consisting of one or more services and one or more product.  Billing for these service(s) and product(s) are supported by multiple clinical billable events (acts).
      ///                         All items in the Invoice Grouping must be adjudicated together to be acceptable to the Adjudicator.
      ///                         For example , a brace (product) invoiced together with the fitting (service).
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("CSPINV"), Description("clinical service and product")]
      CSPINV,
      /// <summary>
      /// Invoice Grouping without clinical justification.  These will not require identification of participants and associations from a clinical context such as patient and provider.
      ///                         Examples are interest charges and mileage.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("FININV"), Description("financial invoice")]
      FININV,
      /// <summary>
      /// A clinical Invoice Grouping consisting of one or more oral health services. Billing for these service(s) are supported by multiple clinical billable events (acts).
      ///                         All items in the Invoice Grouping must be adjudicated together to be acceptable to the Adjudicator.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("OHSINV"), Description("oral health service")]
      OHSINV,
      /// <summary>
      /// HealthCare facility preferred accommodation invoice.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("PAINV"), Description("preferred accommodation invoice")]
      PAINV,
      /// <summary>
      /// Pharmacy dispense invoice for a compound.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("RXCINV"), Description("Rx compound invoice")]
      RXCINV,
      /// <summary>
      /// Pharmacy dispense invoice not involving a compound
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("RXDINV"), Description("Rx dispense invoice")]
      RXDINV,
      /// <summary>
      /// Clinical services invoice where the Invoice Group contains one billable item for multiple clinical services in one or more sessions.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("SBFINV"), Description("sessional or block fee invoice")]
      SBFINV,
      /// <summary>
      /// Vision dispense invoice for up to 2 lens (left and right), frame and optional discount.  Eye exams are invoiced as a clinical service invoice.
      /// (system: http://hl7.org/fhir/v3/ActCode)
      /// </summary>
      [EnumLiteral("VRXINV"), Description("vision dispense invoice")]
      VRXINV,
    }

    /// <summary>
    /// Related Claims which may be revelant to processing this claim
    /// </summary>
    /// <remarks>
    /// Other claims which are related to this claim such as prior claim versions or for related services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.related", IsBackboneType=true)]
    public partial class RelatedClaimComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.related";

      /// <summary>
      /// Reference to the related claim.
      /// </summary>
      [FhirElement("claim", Order=40)]
      [CLSCompliant(false)]
      [References("Claim")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Claim
      {
        get
        {
          if(_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["claim"]);
          return _Claim;
        }

        set
        {
          if (_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("claim");
          _Claim = value;
          OnPropertyChanged("Claim");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Claim;

      /// <summary>
      /// How the reference claim is related.
      /// </summary>
      [FhirElement("relationship", Order=50)]
      [Binding("RelatedClaimRelationship")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Relationship
      {
        get
        {
          if(_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["relationship"]);
          return _Relationship;
        }

        set
        {
          if (_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("relationship");
          _Relationship = value;
          OnPropertyChanged("Relationship");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Relationship;

      /// <summary>
      /// Related file or case reference.
      /// </summary>
      [FhirElement("reference", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Identifier? Reference
      {
        get
        {
          if(_Reference.InOverflow<Hl7.Fhir.Model.Identifier>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["reference"]);
          return _Reference;
        }

        set
        {
          if (_Reference.InOverflow<Hl7.Fhir.Model.Identifier>())
            Overflow.Remove("reference");
          _Reference = value;
          OnPropertyChanged("Reference");
        }

      }

      private Hl7.Fhir.Model.Identifier? _Reference;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not RelatedClaimComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Claim is not null) dest.Claim = (Hl7.Fhir.Model.ResourceReference)_Claim.DeepCopyInternal();
        if(_Relationship is not null) dest.Relationship = (Hl7.Fhir.Model.CodeableConcept)_Relationship.DeepCopyInternal();
        if(_Reference is not null) dest.Reference = (Hl7.Fhir.Model.Identifier)_Reference.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new RelatedClaimComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not RelatedClaimComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Claim, otherT._Claim)) return false;
        if(!comparer.Equals(_Relationship, otherT._Relationship)) return false;
        if(!comparer.Equals(_Reference, otherT._Reference)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "claim":
            if (_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["claim"];
              return true;
            }
            value = _Claim;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "relationship":
            if (_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["relationship"];
              return true;
            }
            value = _Relationship;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "reference":
            if (_Reference.InOverflow<Hl7.Fhir.Model.Identifier>())
            {
              value = Overflow["reference"];
              return true;
            }
            value = _Reference;
            return (value as Hl7.Fhir.Model.Identifier) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "claim":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Claim = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["claim"] = value;
            }
            else Claim = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          case "relationship":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Relationship = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["relationship"] = value;
            }
            else Relationship = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "reference":
            if (value is not (Hl7.Fhir.Model.Identifier or null))
            {
              Reference = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
              Overflow["reference"] = value;
            }
            else Reference = (Hl7.Fhir.Model.Identifier?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Claim is not null && !_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("claim",_Claim);
        if (_Relationship is not null && !_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("relationship",_Relationship);
        if (_Reference is not null && !_Reference.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("reference",_Reference);
      }

    }

    /// <summary>
    /// Party to be paid any benefits payable
    /// </summary>
    /// <remarks>
    /// The party to be reimbursed for the services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.payee", IsBackboneType=true)]
    public partial class PayeeComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.payee";

      /// <summary>
      /// Type of party: Subscriber, Provider, other.
      /// </summary>
      [FhirElement("type", Order=40)]
      [Binding("PayeeType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// organization | patient | practitioner | relatedperson.
      /// </summary>
      [FhirElement("resourceType", Order=50)]
      [Binding("PayeeResourceType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? ResourceType
      {
        get
        {
          if(_ResourceType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["resourceType"]);
          return _ResourceType;
        }

        set
        {
          if (_ResourceType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("resourceType");
          _ResourceType = value;
          OnPropertyChanged("ResourceType");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _ResourceType;

      /// <summary>
      /// Party to receive the payable.
      /// </summary>
      [FhirElement("party", Order=60)]
      [CLSCompliant(false)]
      [References("Practitioner","Organization","Patient","RelatedPerson")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Party
      {
        get
        {
          if(_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["party"]);
          return _Party;
        }

        set
        {
          if (_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("party");
          _Party = value;
          OnPropertyChanged("Party");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Party;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PayeeComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_ResourceType is not null) dest.ResourceType = (Hl7.Fhir.Model.CodeableConcept)_ResourceType.DeepCopyInternal();
        if(_Party is not null) dest.Party = (Hl7.Fhir.Model.ResourceReference)_Party.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PayeeComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PayeeComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_ResourceType, otherT._ResourceType)) return false;
        if(!comparer.Equals(_Party, otherT._Party)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "resourceType":
            if (_ResourceType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["resourceType"];
              return true;
            }
            value = _ResourceType;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "party":
            if (_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["party"];
              return true;
            }
            value = _Party;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "resourceType":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              ResourceType = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["resourceType"] = value;
            }
            else ResourceType = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "party":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Party = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["party"] = value;
            }
            else Party = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_ResourceType is not null && !_ResourceType.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("resourceType",_ResourceType);
        if (_Party is not null && !_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("party",_Party);
      }

    }

    /// <summary>
    /// Exceptions, special considerations, the condition, situation, prior or concurrent issues
    /// </summary>
    /// <remarks>
    /// Additional information codes regarding exceptions, special considerations, the condition, situation, prior or concurrent issues. Often there are mutiple jurisdiction specific valuesets which are required.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.information", IsBackboneType=true)]
    public partial class SupportingInformationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.information";

      /// <summary>
      /// Information instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Information instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// General class of information.
      /// </summary>
      [FhirElement("category", Order=50)]
      [Binding("InformationCategory")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category!;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Type of information.
      /// </summary>
      [FhirElement("code", Order=60)]
      [Binding("InformationCode")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Code
      {
        get
        {
          if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
          return _Code;
        }

        set
        {
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("code");
          _Code = value;
          OnPropertyChanged("Code");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Code;

      /// <summary>
      /// When it occurred.
      /// </summary>
      [FhirElement("timing", Order=70, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Date),typeof(Hl7.Fhir.Model.Period))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Timing
      {
        get
        {
          if(_Timing.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["timing"]);
          return _Timing;
        }

        set
        {
          if (_Timing.InOverflow<DynamicDataType>())
            Overflow.Remove("timing");
          _Timing = value;
          OnPropertyChanged("Timing");
        }

      }

      private Hl7.Fhir.Model.DataType? _Timing;

      /// <summary>
      /// Additional Data or supporting information.
      /// </summary>
      [FhirElement("value", Order=80, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [References("Resource")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.FhirString),typeof(Hl7.Fhir.Model.Quantity),typeof(Hl7.Fhir.Model.Attachment),typeof(Hl7.Fhir.Model.ResourceReference))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Value
      {
        get
        {
          if(_Value.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["value"]);
          return _Value;
        }

        set
        {
          if (_Value.InOverflow<DynamicDataType>())
            Overflow.Remove("value");
          _Value = value;
          OnPropertyChanged("Value");
        }

      }

      private Hl7.Fhir.Model.DataType? _Value;

      /// <summary>
      /// Reason associated with the information.
      /// </summary>
      [FhirElement("reason", Order=90)]
      [Binding("MissingReason")]
      [DataMember]
      public Hl7.Fhir.Model.Coding? Reason
      {
        get
        {
          if(_Reason.InOverflow<Hl7.Fhir.Model.Coding>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Coding), Overflow["reason"]);
          return _Reason;
        }

        set
        {
          if (_Reason.InOverflow<Hl7.Fhir.Model.Coding>())
            Overflow.Remove("reason");
          _Reason = value;
          OnPropertyChanged("Reason");
        }

      }

      private Hl7.Fhir.Model.Coding? _Reason;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SupportingInformationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
        if(_Timing is not null) dest.Timing = (Hl7.Fhir.Model.DataType)_Timing.DeepCopyInternal();
        if(_Value is not null) dest.Value = (Hl7.Fhir.Model.DataType)_Value.DeepCopyInternal();
        if(_Reason is not null) dest.Reason = (Hl7.Fhir.Model.Coding)_Reason.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SupportingInformationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SupportingInformationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Code, otherT._Code)) return false;
        if(!comparer.Equals(_Timing, otherT._Timing)) return false;
        if(!comparer.Equals(_Value, otherT._Value)) return false;
        if(!comparer.Equals(_Reason, otherT._Reason)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "code":
            if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _Code;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "timing":
            if (_Timing.InOverflow<DynamicDataType>())
            {
              value = Overflow["timing"];
              return true;
            }
            value = _Timing;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "value":
            if (_Value.InOverflow<DynamicDataType>())
            {
              value = Overflow["value"];
              return true;
            }
            value = _Value;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "reason":
            if (_Reason.InOverflow<Hl7.Fhir.Model.Coding>())
            {
              value = Overflow["reason"];
              return true;
            }
            value = _Reason;
            return (value as Hl7.Fhir.Model.Coding) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "code":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["code"] = value;
            }
            else Code = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "timing":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Timing = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["timing"] = value;
            }
            else Timing = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "value":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Value = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["value"] = value;
            }
            else Value = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "reason":
            if (value is not (Hl7.Fhir.Model.Coding or null))
            {
              Reason = OverflowNull<Hl7.Fhir.Model.Coding>.INSTANCE;
              Overflow["reason"] = value;
            }
            else Reason = (Hl7.Fhir.Model.Coding?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
        if (_Timing is not null && !_Timing.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("timing",_Timing);
        if (_Value is not null && !_Value.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("value",_Value);
        if (_Reason is not null && !_Reason.InOverflow<Hl7.Fhir.Model.Coding>()) yield return new KeyValuePair<string,object>("reason",_Reason);
      }

    }

    /// <summary>
    /// Care Team members
    /// </summary>
    /// <remarks>
    /// The members of the team who provided the overall service as well as their role and whether responsible and qualifications.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.careTeam", IsBackboneType=true)]
    public partial class CareTeamComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.careTeam";

      /// <summary>
      /// Number to covey order of careteam.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Number to covey order of careteam
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Member of the Care Team.
      /// </summary>
      [FhirElement("provider", Order=50, FiveWs="who.actor")]
      [CLSCompliant(false)]
      [References("Practitioner","Organization")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference Provider
      {
        get
        {
          if(_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["provider"]);
          return _Provider!;
        }

        set
        {
          if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("provider");
          _Provider = value;
          OnPropertyChanged("Provider");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Provider;

      /// <summary>
      /// Billing practitioner.
      /// </summary>
      [FhirElement("responsible", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? ResponsibleElement
      {
        get
        {
          if(_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["responsible"]);
          return _ResponsibleElement;
        }

        set
        {
          if (_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("responsible");
          _ResponsibleElement = value;
          OnPropertyChanged("ResponsibleElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _ResponsibleElement;

      /// <summary>
      /// Billing practitioner
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Responsible
      {
        get => ResponsibleElement?.Value;
        set
        {
          ResponsibleElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Responsible");
        }
      }

      /// <summary>
      /// Role on the team.
      /// </summary>
      [FhirElement("role", Order=70)]
      [Binding("CareTeamRole")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Role
      {
        get
        {
          if(_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["role"]);
          return _Role;
        }

        set
        {
          if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("role");
          _Role = value;
          OnPropertyChanged("Role");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Role;

      /// <summary>
      /// Type, classification or Specialization.
      /// </summary>
      [FhirElement("qualification", Order=80)]
      [Binding("ProviderQualification")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Qualification
      {
        get
        {
          if(_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["qualification"]);
          return _Qualification;
        }

        set
        {
          if (_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("qualification");
          _Qualification = value;
          OnPropertyChanged("Qualification");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Qualification;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not CareTeamComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Provider is not null) dest.Provider = (Hl7.Fhir.Model.ResourceReference)_Provider.DeepCopyInternal();
        if(_ResponsibleElement is not null) dest.ResponsibleElement = (Hl7.Fhir.Model.FhirBoolean)_ResponsibleElement.DeepCopyInternal();
        if(_Role is not null) dest.Role = (Hl7.Fhir.Model.CodeableConcept)_Role.DeepCopyInternal();
        if(_Qualification is not null) dest.Qualification = (Hl7.Fhir.Model.CodeableConcept)_Qualification.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new CareTeamComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not CareTeamComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Provider, otherT._Provider)) return false;
        if(!comparer.Equals(_ResponsibleElement, otherT._ResponsibleElement)) return false;
        if(!comparer.Equals(_Role, otherT._Role)) return false;
        if(!comparer.Equals(_Qualification, otherT._Qualification)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "provider":
            if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["provider"];
              return true;
            }
            value = _Provider;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "responsible":
            if (_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["responsible"];
              return true;
            }
            value = _ResponsibleElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "role":
            if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["role"];
              return true;
            }
            value = _Role;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "qualification":
            if (_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["qualification"];
              return true;
            }
            value = _Qualification;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "provider":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Provider = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["provider"] = value;
            }
            else Provider = (Hl7.Fhir.Model.ResourceReference?)value!;
            return this;
          case "responsible":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              ResponsibleElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["responsible"] = value;
            }
            else ResponsibleElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "role":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Role = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["role"] = value;
            }
            else Role = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "qualification":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Qualification = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["qualification"] = value;
            }
            else Qualification = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Provider is not null && !_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("provider",_Provider);
        if (_ResponsibleElement is not null && !_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("responsible",_ResponsibleElement);
        if (_Role is not null && !_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("role",_Role);
        if (_Qualification is not null && !_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("qualification",_Qualification);
      }

    }

    /// <summary>
    /// List of Diagnosis
    /// </summary>
    /// <remarks>
    /// Ordered list of patient diagnosis for which care is sought.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.diagnosis", IsBackboneType=true)]
    public partial class DiagnosisComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.diagnosis";

      /// <summary>
      /// Number to covey order of diagnosis.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Number to covey order of diagnosis
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Patient's diagnosis.
      /// </summary>
      [FhirElement("diagnosis", Order=50, Choice=ChoiceType.DatatypeChoice)]
      [Binding("ICD10")]
      [CLSCompliant(false)]
      [References("Condition")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.ResourceReference))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Diagnosis
      {
        get
        {
          if(_Diagnosis.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["diagnosis"]);
          return _Diagnosis!;
        }

        set
        {
          if (_Diagnosis.InOverflow<DynamicDataType>())
            Overflow.Remove("diagnosis");
          _Diagnosis = value;
          OnPropertyChanged("Diagnosis");
        }

      }

      private Hl7.Fhir.Model.DataType? _Diagnosis;

      /// <summary>
      /// Timing or nature of the diagnosis.
      /// </summary>
      [FhirElement("type", Order=60)]
      [Binding("DiagnosisType")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Type
      {
        get
        {
          if(_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["type"]);
          return _Type ??= [];
        }

        set
        {
          if (_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Type;

      /// <summary>
      /// Package billing code.
      /// </summary>
      [FhirElement("packageCode", Order=70)]
      [Binding("DiagnosisRelatedGroup")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? PackageCode
      {
        get
        {
          if(_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["packageCode"]);
          return _PackageCode;
        }

        set
        {
          if (_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("packageCode");
          _PackageCode = value;
          OnPropertyChanged("PackageCode");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _PackageCode;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not DiagnosisComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Diagnosis is not null) dest.Diagnosis = (Hl7.Fhir.Model.DataType)_Diagnosis.DeepCopyInternal();
        if(_Type is not null) dest.Type = new List<Hl7.Fhir.Model.CodeableConcept>(_Type.DeepCopyInternal());
        if(_PackageCode is not null) dest.PackageCode = (Hl7.Fhir.Model.CodeableConcept)_PackageCode.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new DiagnosisComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not DiagnosisComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Diagnosis, otherT._Diagnosis)) return false;
        if(!comparer.ListEquals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_PackageCode, otherT._PackageCode)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "diagnosis":
            if (_Diagnosis.InOverflow<DynamicDataType>())
            {
              value = Overflow["diagnosis"];
              return true;
            }
            value = _Diagnosis;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "type":
            if (_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "packageCode":
            if (_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["packageCode"];
              return true;
            }
            value = _PackageCode;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "diagnosis":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Diagnosis = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["diagnosis"] = value;
            }
            else Diagnosis = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          case "type":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Type = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "packageCode":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              PackageCode = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["packageCode"] = value;
            }
            else PackageCode = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Diagnosis is not null && !_Diagnosis.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("diagnosis",_Diagnosis);
        if (_Type?.Any() is true && !_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_PackageCode is not null && !_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("packageCode",_PackageCode);
      }

    }

    /// <summary>
    /// Procedures performed
    /// </summary>
    /// <remarks>
    /// Ordered list of patient procedures performed to support the adjudication.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.procedure", IsBackboneType=true)]
    public partial class ProcedureComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.procedure";

      /// <summary>
      /// Procedure sequence for reference.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Procedure sequence for reference
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// When the procedure was performed.
      /// </summary>
      [FhirElement("date", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDateTime? DateElement
      {
        get
        {
          if(_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["date"]);
          return _DateElement;
        }

        set
        {
          if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            Overflow.Remove("date");
          _DateElement = value;
          OnPropertyChanged("DateElement");
        }

      }

      private Hl7.Fhir.Model.FhirDateTime? _DateElement;

      /// <summary>
      /// When the procedure was performed
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Date
      {
        get => DateElement?.Value;
        set
        {
          DateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
          OnPropertyChanged("Date");
        }
      }

      /// <summary>
      /// Patient's list of procedures performed.
      /// </summary>
      [FhirElement("procedure", Order=60, Choice=ChoiceType.DatatypeChoice)]
      [Binding("ICD10_Procedures")]
      [CLSCompliant(false)]
      [References("Procedure")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.ResourceReference))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Procedure
      {
        get
        {
          if(_Procedure.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["procedure"]);
          return _Procedure!;
        }

        set
        {
          if (_Procedure.InOverflow<DynamicDataType>())
            Overflow.Remove("procedure");
          _Procedure = value;
          OnPropertyChanged("Procedure");
        }

      }

      private Hl7.Fhir.Model.DataType? _Procedure;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ProcedureComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.FhirDateTime)_DateElement.DeepCopyInternal();
        if(_Procedure is not null) dest.Procedure = (Hl7.Fhir.Model.DataType)_Procedure.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ProcedureComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ProcedureComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
        if(!comparer.Equals(_Procedure, otherT._Procedure)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "date":
            if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            {
              value = Overflow["date"];
              return true;
            }
            value = _DateElement;
            return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
          case "procedure":
            if (_Procedure.InOverflow<DynamicDataType>())
            {
              value = Overflow["procedure"];
              return true;
            }
            value = _Procedure;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "date":
            if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
            {
              DateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
              Overflow["date"] = value;
            }
            else DateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
            return this;
          case "procedure":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Procedure = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["procedure"] = value;
            }
            else Procedure = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("date",_DateElement);
        if (_Procedure is not null && !_Procedure.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("procedure",_Procedure);
      }

    }

    /// <summary>
    /// Insurance or medical plan
    /// </summary>
    /// <remarks>
    /// Financial instrument by which payment information for health care.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.insurance", IsBackboneType=true)]
    public partial class InsuranceComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.insurance";

      /// <summary>
      /// Insurance information.
      /// </summary>
      [FhirElement("coverage", Order=40)]
      [CLSCompliant(false)]
      [References("Coverage")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Coverage
      {
        get
        {
          if(_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["coverage"]);
          return _Coverage;
        }

        set
        {
          if (_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("coverage");
          _Coverage = value;
          OnPropertyChanged("Coverage");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Coverage;

      /// <summary>
      /// Pre-Authorization/Determination Reference.
      /// </summary>
      [FhirElement("preAuthRef", Order=50)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.FhirString> PreAuthRefElement
      {
        get
        {
          if(_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirString>), Overflow["preAuthRef"]);
          return _PreAuthRefElement ??= [];
        }

        set
        {
          if (_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            Overflow.Remove("preAuthRef");
          _PreAuthRefElement = value;
          OnPropertyChanged("PreAuthRefElement");
        }

      }

      private List<Hl7.Fhir.Model.FhirString>? _PreAuthRefElement;

      /// <summary>
      /// Pre-Authorization/Determination Reference
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<string?> PreAuthRef
      {
        get => _PreAuthRefElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            PreAuthRefElement = null!;
          else
            PreAuthRefElement = new List<Hl7.Fhir.Model.FhirString>(value.Select(elem=>new Hl7.Fhir.Model.FhirString(elem)));
          OnPropertyChanged("PreAuthRef");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not InsuranceComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Coverage is not null) dest.Coverage = (Hl7.Fhir.Model.ResourceReference)_Coverage.DeepCopyInternal();
        if(_PreAuthRefElement is not null) dest.PreAuthRefElement = new List<Hl7.Fhir.Model.FhirString>(_PreAuthRefElement.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new InsuranceComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not InsuranceComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Coverage, otherT._Coverage)) return false;
        if(!comparer.ListEquals(_PreAuthRefElement, otherT._PreAuthRefElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "coverage":
            if (_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["coverage"];
              return true;
            }
            value = _Coverage;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "preAuthRef":
            if (_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            {
              value = Overflow["preAuthRef"];
              return true;
            }
            value = _PreAuthRefElement;
            return (value as List<Hl7.Fhir.Model.FhirString>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "coverage":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Coverage = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["coverage"] = value;
            }
            else Coverage = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          case "preAuthRef":
            if (value is not (List<Hl7.Fhir.Model.FhirString> or null))
            {
              PreAuthRefElement = OverflowNull<List<Hl7.Fhir.Model.FhirString>>.INSTANCE;
              Overflow["preAuthRef"] = value;
            }
            else PreAuthRefElement = (List<Hl7.Fhir.Model.FhirString>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Coverage is not null && !_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("coverage",_Coverage);
        if (_PreAuthRefElement?.Any() is true && !_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>()) yield return new KeyValuePair<string,object>("preAuthRef",_PreAuthRefElement);
      }

    }

    /// <summary>
    /// Details of an accident
    /// </summary>
    /// <remarks>
    /// An accident which resulted in the need for healthcare services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.accident", IsBackboneType=true)]
    public partial class AccidentComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.accident";

      /// <summary>
      /// When the accident occurred.
      /// </summary>
      [FhirElement("date", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.Date? DateElement
      {
        get
        {
          if(_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Date), Overflow["date"]);
          return _DateElement;
        }

        set
        {
          if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            Overflow.Remove("date");
          _DateElement = value;
          OnPropertyChanged("DateElement");
        }

      }

      private Hl7.Fhir.Model.Date? _DateElement;

      /// <summary>
      /// When the accident occurred
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Date
      {
        get => DateElement?.Value;
        set
        {
          DateElement = value is null ? null! : new Hl7.Fhir.Model.Date(value);
          OnPropertyChanged("Date");
        }
      }

      /// <summary>
      /// The nature of the accident.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("AccidentType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Accident Place.
      /// </summary>
      [FhirElement("location", Order=60, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [References("Location")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Address),typeof(Hl7.Fhir.Model.ResourceReference))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Location
      {
        get
        {
          if(_Location.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["location"]);
          return _Location;
        }

        set
        {
          if (_Location.InOverflow<DynamicDataType>())
            Overflow.Remove("location");
          _Location = value;
          OnPropertyChanged("Location");
        }

      }

      private Hl7.Fhir.Model.DataType? _Location;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AccidentComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.Date)_DateElement.DeepCopyInternal();
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Location is not null) dest.Location = (Hl7.Fhir.Model.DataType)_Location.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AccidentComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AccidentComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Location, otherT._Location)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "date":
            if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            {
              value = Overflow["date"];
              return true;
            }
            value = _DateElement;
            return (value as Hl7.Fhir.Model.Date) is not null;
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "location":
            if (_Location.InOverflow<DynamicDataType>())
            {
              value = Overflow["location"];
              return true;
            }
            value = _Location;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "date":
            if (value is not (Hl7.Fhir.Model.Date or null))
            {
              DateElement = OverflowNull<Hl7.Fhir.Model.Date>.INSTANCE;
              Overflow["date"] = value;
            }
            else DateElement = (Hl7.Fhir.Model.Date?)value;
            return this;
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "location":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Location = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["location"] = value;
            }
            else Location = (Hl7.Fhir.Model.DataType?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.Date>()) yield return new KeyValuePair<string,object>("date",_DateElement);
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Location is not null && !_Location.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("location",_Location);
      }

    }

    /// <summary>
    /// Goods and Services
    /// </summary>
    /// <remarks>
    /// First tier of goods and services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.item", IsBackboneType=true)]
    public partial class ItemComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.item";

      /// <summary>
      /// Service instance.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Service instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Applicable careteam members.
      /// </summary>
      [FhirElement("careTeamLinkId", Order=50)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> CareTeamLinkIdElement
      {
        get
        {
          if(_CareTeamLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["careTeamLinkId"]);
          return _CareTeamLinkIdElement ??= [];
        }

        set
        {
          if (_CareTeamLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("careTeamLinkId");
          _CareTeamLinkIdElement = value;
          OnPropertyChanged("CareTeamLinkIdElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _CareTeamLinkIdElement;

      /// <summary>
      /// Applicable careteam members
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> CareTeamLinkId
      {
        get => _CareTeamLinkIdElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            CareTeamLinkIdElement = null!;
          else
            CareTeamLinkIdElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("CareTeamLinkId");
        }
      }

      /// <summary>
      /// Applicable diagnoses.
      /// </summary>
      [FhirElement("diagnosisLinkId", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> DiagnosisLinkIdElement
      {
        get
        {
          if(_DiagnosisLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["diagnosisLinkId"]);
          return _DiagnosisLinkIdElement ??= [];
        }

        set
        {
          if (_DiagnosisLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("diagnosisLinkId");
          _DiagnosisLinkIdElement = value;
          OnPropertyChanged("DiagnosisLinkIdElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _DiagnosisLinkIdElement;

      /// <summary>
      /// Applicable diagnoses
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> DiagnosisLinkId
      {
        get => _DiagnosisLinkIdElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            DiagnosisLinkIdElement = null!;
          else
            DiagnosisLinkIdElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("DiagnosisLinkId");
        }
      }

      /// <summary>
      /// Applicable procedures.
      /// </summary>
      [FhirElement("procedureLinkId", Order=70)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> ProcedureLinkIdElement
      {
        get
        {
          if(_ProcedureLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["procedureLinkId"]);
          return _ProcedureLinkIdElement ??= [];
        }

        set
        {
          if (_ProcedureLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("procedureLinkId");
          _ProcedureLinkIdElement = value;
          OnPropertyChanged("ProcedureLinkIdElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _ProcedureLinkIdElement;

      /// <summary>
      /// Applicable procedures
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> ProcedureLinkId
      {
        get => _ProcedureLinkIdElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            ProcedureLinkIdElement = null!;
          else
            ProcedureLinkIdElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("ProcedureLinkId");
        }
      }

      /// <summary>
      /// Applicable exception and supporting information.
      /// </summary>
      [FhirElement("informationLinkId", Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> InformationLinkIdElement
      {
        get
        {
          if(_InformationLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["informationLinkId"]);
          return _InformationLinkIdElement ??= [];
        }

        set
        {
          if (_InformationLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("informationLinkId");
          _InformationLinkIdElement = value;
          OnPropertyChanged("InformationLinkIdElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _InformationLinkIdElement;

      /// <summary>
      /// Applicable exception and supporting information
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> InformationLinkId
      {
        get => _InformationLinkIdElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            InformationLinkIdElement = null!;
          else
            InformationLinkIdElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("InformationLinkId");
        }
      }

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=90)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Type of service or product.
      /// </summary>
      [FhirElement("category", Order=100)]
      [Binding("BenefitSubCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing Code.
      /// </summary>
      [FhirElement("service", Order=110)]
      [Binding("ServiceProduct")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Service
      {
        get
        {
          if(_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["service"]);
          return _Service;
        }

        set
        {
          if (_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("service");
          _Service = value;
          OnPropertyChanged("Service");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Service;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=120)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Program specific reason for item inclusion.
      /// </summary>
      [FhirElement("programCode", Order=130)]
      [Binding("ProgramCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> ProgramCode
      {
        get
        {
          if(_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["programCode"]);
          return _ProgramCode ??= [];
        }

        set
        {
          if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("programCode");
          _ProgramCode = value;
          OnPropertyChanged("ProgramCode");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _ProgramCode;

      /// <summary>
      /// Date or dates of Service.
      /// </summary>
      [FhirElement("serviced", Order=140, Choice=ChoiceType.DatatypeChoice, FiveWs="when.done")]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Date),typeof(Hl7.Fhir.Model.Period))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Serviced
      {
        get
        {
          if(_Serviced.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["serviced"]);
          return _Serviced;
        }

        set
        {
          if (_Serviced.InOverflow<DynamicDataType>())
            Overflow.Remove("serviced");
          _Serviced = value;
          OnPropertyChanged("Serviced");
        }

      }

      private Hl7.Fhir.Model.DataType? _Serviced;

      /// <summary>
      /// Place of service.
      /// </summary>
      [FhirElement("location", Order=150, Choice=ChoiceType.DatatypeChoice, FiveWs="where")]
      [Binding("ServicePlace")]
      [CLSCompliant(false)]
      [References("Location")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.Address),typeof(Hl7.Fhir.Model.ResourceReference))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Location
      {
        get
        {
          if(_Location.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["location"]);
          return _Location;
        }

        set
        {
          if (_Location.InOverflow<DynamicDataType>())
            Overflow.Remove("location");
          _Location = value;
          OnPropertyChanged("Location");
        }

      }

      private Hl7.Fhir.Model.DataType? _Location;

      /// <summary>
      /// Count of Products or Services.
      /// </summary>
      [FhirElement("quantity", Order=160)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per point.
      /// </summary>
      [FhirElement("unitPrice", Order=170)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=180)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total item cost.
      /// </summary>
      [FhirElement("net", Order=190)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Unique Device Identifier.
      /// </summary>
      [FhirElement("udi", Order=200)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      /// <summary>
      /// Service Location.
      /// </summary>
      [FhirElement("bodySite", Order=210)]
      [Binding("OralSites")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? BodySite
      {
        get
        {
          if(_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["bodySite"]);
          return _BodySite;
        }

        set
        {
          if (_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("bodySite");
          _BodySite = value;
          OnPropertyChanged("BodySite");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _BodySite;

      /// <summary>
      /// Service Sub-location.
      /// </summary>
      [FhirElement("subSite", Order=220)]
      [Binding("Surface")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> SubSite
      {
        get
        {
          if(_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["subSite"]);
          return _SubSite ??= [];
        }

        set
        {
          if (_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("subSite");
          _SubSite = value;
          OnPropertyChanged("SubSite");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _SubSite;

      /// <summary>
      /// Encounters related to this billed item.
      /// </summary>
      [FhirElement("encounter", Order=230)]
      [CLSCompliant(false)]
      [References("Encounter")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Encounter
      {
        get
        {
          if(_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["encounter"]);
          return _Encounter ??= [];
        }

        set
        {
          if (_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("encounter");
          _Encounter = value;
          OnPropertyChanged("Encounter");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Encounter;

      /// <summary>
      /// List of note numbers which apply.
      /// </summary>
      [FhirElement("noteNumber", Order=240)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// List of note numbers which apply
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Adjudication details.
      /// </summary>
      [FhirElement("adjudication", Order=250)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      /// <summary>
      /// Additional items.
      /// </summary>
      [FhirElement("detail", Order=260)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent> Detail
      {
        get
        {
          if(_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>), Overflow["detail"]);
          return _Detail ??= [];
        }

        set
        {
          if (_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>>())
            Overflow.Remove("detail");
          _Detail = value;
          OnPropertyChanged("Detail");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>? _Detail;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ItemComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_CareTeamLinkIdElement is not null) dest.CareTeamLinkIdElement = new List<Hl7.Fhir.Model.PositiveInt>(_CareTeamLinkIdElement.DeepCopyInternal());
        if(_DiagnosisLinkIdElement is not null) dest.DiagnosisLinkIdElement = new List<Hl7.Fhir.Model.PositiveInt>(_DiagnosisLinkIdElement.DeepCopyInternal());
        if(_ProcedureLinkIdElement is not null) dest.ProcedureLinkIdElement = new List<Hl7.Fhir.Model.PositiveInt>(_ProcedureLinkIdElement.DeepCopyInternal());
        if(_InformationLinkIdElement is not null) dest.InformationLinkIdElement = new List<Hl7.Fhir.Model.PositiveInt>(_InformationLinkIdElement.DeepCopyInternal());
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Service is not null) dest.Service = (Hl7.Fhir.Model.CodeableConcept)_Service.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_ProgramCode is not null) dest.ProgramCode = new List<Hl7.Fhir.Model.CodeableConcept>(_ProgramCode.DeepCopyInternal());
        if(_Serviced is not null) dest.Serviced = (Hl7.Fhir.Model.DataType)_Serviced.DeepCopyInternal();
        if(_Location is not null) dest.Location = (Hl7.Fhir.Model.DataType)_Location.DeepCopyInternal();
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
        if(_BodySite is not null) dest.BodySite = (Hl7.Fhir.Model.CodeableConcept)_BodySite.DeepCopyInternal();
        if(_SubSite is not null) dest.SubSite = new List<Hl7.Fhir.Model.CodeableConcept>(_SubSite.DeepCopyInternal());
        if(_Encounter is not null) dest.Encounter = new List<Hl7.Fhir.Model.ResourceReference>(_Encounter.DeepCopyInternal());
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
        if(_Detail is not null) dest.Detail = new List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>(_Detail.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ItemComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ItemComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.ListEquals(_CareTeamLinkIdElement, otherT._CareTeamLinkIdElement)) return false;
        if(!comparer.ListEquals(_DiagnosisLinkIdElement, otherT._DiagnosisLinkIdElement)) return false;
        if(!comparer.ListEquals(_ProcedureLinkIdElement, otherT._ProcedureLinkIdElement)) return false;
        if(!comparer.ListEquals(_InformationLinkIdElement, otherT._InformationLinkIdElement)) return false;
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Service, otherT._Service)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.ListEquals(_ProgramCode, otherT._ProgramCode)) return false;
        if(!comparer.Equals(_Serviced, otherT._Serviced)) return false;
        if(!comparer.Equals(_Location, otherT._Location)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        if(!comparer.Equals(_BodySite, otherT._BodySite)) return false;
        if(!comparer.ListEquals(_SubSite, otherT._SubSite)) return false;
        if(!comparer.ListEquals(_Encounter, otherT._Encounter)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        if(!comparer.ListEquals(_Detail, otherT._Detail)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "careTeamLinkId":
            if (_CareTeamLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["careTeamLinkId"];
              return true;
            }
            value = _CareTeamLinkIdElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "diagnosisLinkId":
            if (_DiagnosisLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["diagnosisLinkId"];
              return true;
            }
            value = _DiagnosisLinkIdElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "procedureLinkId":
            if (_ProcedureLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["procedureLinkId"];
              return true;
            }
            value = _ProcedureLinkIdElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "informationLinkId":
            if (_InformationLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["informationLinkId"];
              return true;
            }
            value = _InformationLinkIdElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "service":
            if (_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["service"];
              return true;
            }
            value = _Service;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "programCode":
            if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["programCode"];
              return true;
            }
            value = _ProgramCode;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "serviced":
            if (_Serviced.InOverflow<DynamicDataType>())
            {
              value = Overflow["serviced"];
              return true;
            }
            value = _Serviced;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "location":
            if (_Location.InOverflow<DynamicDataType>())
            {
              value = Overflow["location"];
              return true;
            }
            value = _Location;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "bodySite":
            if (_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["bodySite"];
              return true;
            }
            value = _BodySite;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "subSite":
            if (_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["subSite"];
              return true;
            }
            value = _SubSite;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "encounter":
            if (_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["encounter"];
              return true;
            }
            value = _Encounter;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          case "detail":
            if (_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>>())
            {
              value = Overflow["detail"];
              return true;
            }
            value = _Detail;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "careTeamLinkId":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              CareTeamLinkIdElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["careTeamLinkId"] = value;
            }
            else CareTeamLinkIdElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "diagnosisLinkId":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              DiagnosisLinkIdElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["diagnosisLinkId"] = value;
            }
            else DiagnosisLinkIdElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "procedureLinkId":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              ProcedureLinkIdElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["procedureLinkId"] = value;
            }
            else ProcedureLinkIdElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "informationLinkId":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              InformationLinkIdElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["informationLinkId"] = value;
            }
            else InformationLinkIdElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "service":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Service = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["service"] = value;
            }
            else Service = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "programCode":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              ProgramCode = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["programCode"] = value;
            }
            else ProgramCode = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "serviced":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Serviced = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["serviced"] = value;
            }
            else Serviced = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "location":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Location = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["location"] = value;
            }
            else Location = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "bodySite":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              BodySite = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["bodySite"] = value;
            }
            else BodySite = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "subSite":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              SubSite = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["subSite"] = value;
            }
            else SubSite = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "encounter":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Encounter = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["encounter"] = value;
            }
            else Encounter = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          case "detail":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent> or null))
            {
              Detail = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>>.INSTANCE;
              Overflow["detail"] = value;
            }
            else Detail = (List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_CareTeamLinkIdElement?.Any() is true && !_CareTeamLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("careTeamLinkId",_CareTeamLinkIdElement);
        if (_DiagnosisLinkIdElement?.Any() is true && !_DiagnosisLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("diagnosisLinkId",_DiagnosisLinkIdElement);
        if (_ProcedureLinkIdElement?.Any() is true && !_ProcedureLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("procedureLinkId",_ProcedureLinkIdElement);
        if (_InformationLinkIdElement?.Any() is true && !_InformationLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("informationLinkId",_InformationLinkIdElement);
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Service is not null && !_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("service",_Service);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_ProgramCode?.Any() is true && !_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("programCode",_ProgramCode);
        if (_Serviced is not null && !_Serviced.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("serviced",_Serviced);
        if (_Location is not null && !_Location.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("location",_Location);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
        if (_BodySite is not null && !_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("bodySite",_BodySite);
        if (_SubSite?.Any() is true && !_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("subSite",_SubSite);
        if (_Encounter?.Any() is true && !_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("encounter",_Encounter);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
        if (_Detail?.Any() is true && !_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>>()) yield return new KeyValuePair<string,object>("detail",_Detail);
      }

    }

    /// <summary>
    /// Adjudication details
    /// </summary>
    /// <remarks>
    /// The adjudications results.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.item.adjudication", IsBackboneType=true)]
    public partial class AdjudicationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.item.adjudication";

      /// <summary>
      /// Adjudication category such as co-pay, eligible, benefit, etc.
      /// </summary>
      [FhirElement("category", Order=40)]
      [Binding("Adjudication")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category!;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Explanation of Adjudication outcome.
      /// </summary>
      [FhirElement("reason", Order=50)]
      [Binding("AdjudicationReason")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Reason
      {
        get
        {
          if(_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["reason"]);
          return _Reason;
        }

        set
        {
          if (_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("reason");
          _Reason = value;
          OnPropertyChanged("Reason");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Reason;

      /// <summary>
      /// Monetary amount.
      /// </summary>
      [FhirElement("amount", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Amount
      {
        get
        {
          if(_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["amount"]);
          return _Amount;
        }

        set
        {
          if (_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("amount");
          _Amount = value;
          OnPropertyChanged("Amount");
        }

      }

      private Hl7.Fhir.Model.Money? _Amount;

      /// <summary>
      /// Non-monitory value.
      /// </summary>
      [FhirElement("value", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? ValueElement
      {
        get
        {
          if(_ValueElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["value"]);
          return _ValueElement;
        }

        set
        {
          if (_ValueElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("value");
          _ValueElement = value;
          OnPropertyChanged("ValueElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _ValueElement;

      /// <summary>
      /// Non-monitory value
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Value
      {
        get => ValueElement?.Value;
        set
        {
          ValueElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Value");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AdjudicationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Reason is not null) dest.Reason = (Hl7.Fhir.Model.CodeableConcept)_Reason.DeepCopyInternal();
        if(_Amount is not null) dest.Amount = (Hl7.Fhir.Model.Money)_Amount.DeepCopyInternal();
        if(_ValueElement is not null) dest.ValueElement = (Hl7.Fhir.Model.FhirDecimal)_ValueElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AdjudicationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AdjudicationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Reason, otherT._Reason)) return false;
        if(!comparer.Equals(_Amount, otherT._Amount)) return false;
        if(!comparer.Equals(_ValueElement, otherT._ValueElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "reason":
            if (_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["reason"];
              return true;
            }
            value = _Reason;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "amount":
            if (_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["amount"];
              return true;
            }
            value = _Amount;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "value":
            if (_ValueElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["value"];
              return true;
            }
            value = _ValueElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "reason":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Reason = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["reason"] = value;
            }
            else Reason = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "amount":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Amount = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["amount"] = value;
            }
            else Amount = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "value":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              ValueElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["value"] = value;
            }
            else ValueElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Reason is not null && !_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("reason",_Reason);
        if (_Amount is not null && !_Amount.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("amount",_Amount);
        if (_ValueElement is not null && !_ValueElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("value",_ValueElement);
      }

    }

    /// <summary>
    /// Additional items
    /// </summary>
    /// <remarks>
    /// Second tier of goods and services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.item.detail", IsBackboneType=true)]
    public partial class DetailComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.item.detail";

      /// <summary>
      /// Service instance.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Service instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Group or type of product or service.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("ItemType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type!;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=60)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Type of service or product.
      /// </summary>
      [FhirElement("category", Order=70)]
      [Binding("BenefitSubCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing Code.
      /// </summary>
      [FhirElement("service", Order=80)]
      [Binding("ServiceProduct")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Service
      {
        get
        {
          if(_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["service"]);
          return _Service;
        }

        set
        {
          if (_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("service");
          _Service = value;
          OnPropertyChanged("Service");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Service;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=90)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Program specific reason for item inclusion.
      /// </summary>
      [FhirElement("programCode", Order=100)]
      [Binding("ProgramCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> ProgramCode
      {
        get
        {
          if(_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["programCode"]);
          return _ProgramCode ??= [];
        }

        set
        {
          if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("programCode");
          _ProgramCode = value;
          OnPropertyChanged("ProgramCode");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _ProgramCode;

      /// <summary>
      /// Count of Products or Services.
      /// </summary>
      [FhirElement("quantity", Order=110)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per point.
      /// </summary>
      [FhirElement("unitPrice", Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=130)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total additional item cost.
      /// </summary>
      [FhirElement("net", Order=140)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Unique Device Identifier.
      /// </summary>
      [FhirElement("udi", Order=150)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      /// <summary>
      /// List of note numbers which apply.
      /// </summary>
      [FhirElement("noteNumber", Order=160)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// List of note numbers which apply
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Detail level adjudication details.
      /// </summary>
      [FhirElement("adjudication", Order=170)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      /// <summary>
      /// Additional items.
      /// </summary>
      [FhirElement("subDetail", Order=180)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent> SubDetail
      {
        get
        {
          if(_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>), Overflow["subDetail"]);
          return _SubDetail ??= [];
        }

        set
        {
          if (_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>>())
            Overflow.Remove("subDetail");
          _SubDetail = value;
          OnPropertyChanged("SubDetail");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>? _SubDetail;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not DetailComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Service is not null) dest.Service = (Hl7.Fhir.Model.CodeableConcept)_Service.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_ProgramCode is not null) dest.ProgramCode = new List<Hl7.Fhir.Model.CodeableConcept>(_ProgramCode.DeepCopyInternal());
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
        if(_SubDetail is not null) dest.SubDetail = new List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>(_SubDetail.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new DetailComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not DetailComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Service, otherT._Service)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.ListEquals(_ProgramCode, otherT._ProgramCode)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        if(!comparer.ListEquals(_SubDetail, otherT._SubDetail)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "service":
            if (_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["service"];
              return true;
            }
            value = _Service;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "programCode":
            if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["programCode"];
              return true;
            }
            value = _ProgramCode;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          case "subDetail":
            if (_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>>())
            {
              value = Overflow["subDetail"];
              return true;
            }
            value = _SubDetail;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "service":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Service = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["service"] = value;
            }
            else Service = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "programCode":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              ProgramCode = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["programCode"] = value;
            }
            else ProgramCode = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          case "subDetail":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent> or null))
            {
              SubDetail = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>>.INSTANCE;
              Overflow["subDetail"] = value;
            }
            else SubDetail = (List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Service is not null && !_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("service",_Service);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_ProgramCode?.Any() is true && !_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("programCode",_ProgramCode);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
        if (_SubDetail?.Any() is true && !_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>>()) yield return new KeyValuePair<string,object>("subDetail",_SubDetail);
      }

    }

    /// <summary>
    /// Additional items
    /// </summary>
    /// <remarks>
    /// Third tier of goods and services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.item.detail.subDetail", IsBackboneType=true)]
    public partial class SubDetailComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.item.detail.subDetail";

      /// <summary>
      /// Service instance.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Service instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Type of product or service.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("ItemType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type!;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=60)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Type of service or product.
      /// </summary>
      [FhirElement("category", Order=70)]
      [Binding("BenefitSubCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing Code.
      /// </summary>
      [FhirElement("service", Order=80)]
      [Binding("ServiceProduct")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Service
      {
        get
        {
          if(_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["service"]);
          return _Service;
        }

        set
        {
          if (_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("service");
          _Service = value;
          OnPropertyChanged("Service");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Service;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=90)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Program specific reason for item inclusion.
      /// </summary>
      [FhirElement("programCode", Order=100)]
      [Binding("ProgramCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> ProgramCode
      {
        get
        {
          if(_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["programCode"]);
          return _ProgramCode ??= [];
        }

        set
        {
          if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("programCode");
          _ProgramCode = value;
          OnPropertyChanged("ProgramCode");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _ProgramCode;

      /// <summary>
      /// Count of Products or Services.
      /// </summary>
      [FhirElement("quantity", Order=110)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per point.
      /// </summary>
      [FhirElement("unitPrice", Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=130)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Net additional item cost.
      /// </summary>
      [FhirElement("net", Order=140)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Unique Device Identifier.
      /// </summary>
      [FhirElement("udi", Order=150)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      /// <summary>
      /// List of note numbers which apply.
      /// </summary>
      [FhirElement("noteNumber", Order=160)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// List of note numbers which apply
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Language if different from the resource.
      /// </summary>
      [FhirElement("adjudication", Order=170)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SubDetailComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Service is not null) dest.Service = (Hl7.Fhir.Model.CodeableConcept)_Service.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_ProgramCode is not null) dest.ProgramCode = new List<Hl7.Fhir.Model.CodeableConcept>(_ProgramCode.DeepCopyInternal());
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SubDetailComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SubDetailComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Service, otherT._Service)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.ListEquals(_ProgramCode, otherT._ProgramCode)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "service":
            if (_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["service"];
              return true;
            }
            value = _Service;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "programCode":
            if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["programCode"];
              return true;
            }
            value = _ProgramCode;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "service":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Service = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["service"] = value;
            }
            else Service = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "programCode":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              ProgramCode = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["programCode"] = value;
            }
            else ProgramCode = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Service is not null && !_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("service",_Service);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_ProgramCode?.Any() is true && !_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("programCode",_ProgramCode);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
      }

    }

    /// <summary>
    /// Insurer added line items
    /// </summary>
    /// <remarks>
    /// The first tier service adjudications for payor added services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.addItem", IsBackboneType=true)]
    public partial class AddedItemComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.addItem";

      /// <summary>
      /// Service instances.
      /// </summary>
      [FhirElement("sequenceLinkId", Order=40)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> SequenceLinkIdElement
      {
        get
        {
          if(_SequenceLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["sequenceLinkId"]);
          return _SequenceLinkIdElement ??= [];
        }

        set
        {
          if (_SequenceLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("sequenceLinkId");
          _SequenceLinkIdElement = value;
          OnPropertyChanged("SequenceLinkIdElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _SequenceLinkIdElement;

      /// <summary>
      /// Service instances
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> SequenceLinkId
      {
        get => _SequenceLinkIdElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            SequenceLinkIdElement = null!;
          else
            SequenceLinkIdElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("SequenceLinkId");
        }
      }

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=50)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Type of service or product.
      /// </summary>
      [FhirElement("category", Order=60)]
      [Binding("BenefitSubCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing Code.
      /// </summary>
      [FhirElement("service", Order=70)]
      [Binding("ServiceProduct")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Service
      {
        get
        {
          if(_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["service"]);
          return _Service;
        }

        set
        {
          if (_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("service");
          _Service = value;
          OnPropertyChanged("Service");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Service;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=80)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Professional fee or Product charge.
      /// </summary>
      [FhirElement("fee", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Fee
      {
        get
        {
          if(_Fee.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["fee"]);
          return _Fee;
        }

        set
        {
          if (_Fee.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("fee");
          _Fee = value;
          OnPropertyChanged("Fee");
        }

      }

      private Hl7.Fhir.Model.Money? _Fee;

      /// <summary>
      /// List of note numbers which apply.
      /// </summary>
      [FhirElement("noteNumber", Order=100)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// List of note numbers which apply
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Added items adjudication.
      /// </summary>
      [FhirElement("adjudication", Order=110)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      /// <summary>
      /// Added items details.
      /// </summary>
      [FhirElement("detail", Order=120)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent> Detail
      {
        get
        {
          if(_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent>), Overflow["detail"]);
          return _Detail ??= [];
        }

        set
        {
          if (_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent>>())
            Overflow.Remove("detail");
          _Detail = value;
          OnPropertyChanged("Detail");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent>? _Detail;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AddedItemComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceLinkIdElement is not null) dest.SequenceLinkIdElement = new List<Hl7.Fhir.Model.PositiveInt>(_SequenceLinkIdElement.DeepCopyInternal());
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Service is not null) dest.Service = (Hl7.Fhir.Model.CodeableConcept)_Service.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_Fee is not null) dest.Fee = (Hl7.Fhir.Model.Money)_Fee.DeepCopyInternal();
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
        if(_Detail is not null) dest.Detail = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent>(_Detail.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AddedItemComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AddedItemComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.ListEquals(_SequenceLinkIdElement, otherT._SequenceLinkIdElement)) return false;
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Service, otherT._Service)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.Equals(_Fee, otherT._Fee)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        if(!comparer.ListEquals(_Detail, otherT._Detail)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequenceLinkId":
            if (_SequenceLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["sequenceLinkId"];
              return true;
            }
            value = _SequenceLinkIdElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "service":
            if (_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["service"];
              return true;
            }
            value = _Service;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "fee":
            if (_Fee.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["fee"];
              return true;
            }
            value = _Fee;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          case "detail":
            if (_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent>>())
            {
              value = Overflow["detail"];
              return true;
            }
            value = _Detail;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequenceLinkId":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              SequenceLinkIdElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["sequenceLinkId"] = value;
            }
            else SequenceLinkIdElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "service":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Service = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["service"] = value;
            }
            else Service = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "fee":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Fee = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["fee"] = value;
            }
            else Fee = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          case "detail":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent> or null))
            {
              Detail = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent>>.INSTANCE;
              Overflow["detail"] = value;
            }
            else Detail = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceLinkIdElement?.Any() is true && !_SequenceLinkIdElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("sequenceLinkId",_SequenceLinkIdElement);
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Service is not null && !_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("service",_Service);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_Fee is not null && !_Fee.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("fee",_Fee);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
        if (_Detail?.Any() is true && !_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemsDetailComponent>>()) yield return new KeyValuePair<string,object>("detail",_Detail);
      }

    }

    /// <summary>
    /// Added items details
    /// </summary>
    /// <remarks>
    /// The second tier service adjudications for payor added services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.addItem.detail", IsBackboneType=true)]
    public partial class AddedItemsDetailComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.addItem.detail";

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=40)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Type of service or product.
      /// </summary>
      [FhirElement("category", Order=50)]
      [Binding("BenefitSubCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing Code.
      /// </summary>
      [FhirElement("service", Order=60)]
      [Binding("ServiceProduct")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Service
      {
        get
        {
          if(_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["service"]);
          return _Service;
        }

        set
        {
          if (_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("service");
          _Service = value;
          OnPropertyChanged("Service");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Service;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=70)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Professional fee or Product charge.
      /// </summary>
      [FhirElement("fee", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Fee
      {
        get
        {
          if(_Fee.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["fee"]);
          return _Fee;
        }

        set
        {
          if (_Fee.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("fee");
          _Fee = value;
          OnPropertyChanged("Fee");
        }

      }

      private Hl7.Fhir.Model.Money? _Fee;

      /// <summary>
      /// List of note numbers which apply.
      /// </summary>
      [FhirElement("noteNumber", Order=90)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// List of note numbers which apply
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Added items detail adjudication.
      /// </summary>
      [FhirElement("adjudication", Order=100)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AddedItemsDetailComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Service is not null) dest.Service = (Hl7.Fhir.Model.CodeableConcept)_Service.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_Fee is not null) dest.Fee = (Hl7.Fhir.Model.Money)_Fee.DeepCopyInternal();
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AddedItemsDetailComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AddedItemsDetailComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Service, otherT._Service)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.Equals(_Fee, otherT._Fee)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "service":
            if (_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["service"];
              return true;
            }
            value = _Service;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "fee":
            if (_Fee.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["fee"];
              return true;
            }
            value = _Fee;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "service":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Service = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["service"] = value;
            }
            else Service = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "fee":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Fee = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["fee"] = value;
            }
            else Fee = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Service is not null && !_Service.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("service",_Service);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_Fee is not null && !_Fee.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("fee",_Fee);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
      }

    }

    /// <summary>
    /// Payment (if paid)
    /// </summary>
    /// <remarks>
    /// Payment details for the claim if the claim has been paid.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.payment", IsBackboneType=true)]
    public partial class PaymentComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.payment";

      /// <summary>
      /// Partial or Complete.
      /// </summary>
      [FhirElement("type", Order=40)]
      [Binding("PaymentType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Payment adjustment for non-Claim issues.
      /// </summary>
      [FhirElement("adjustment", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Adjustment
      {
        get
        {
          if(_Adjustment.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["adjustment"]);
          return _Adjustment;
        }

        set
        {
          if (_Adjustment.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("adjustment");
          _Adjustment = value;
          OnPropertyChanged("Adjustment");
        }

      }

      private Hl7.Fhir.Model.Money? _Adjustment;

      /// <summary>
      /// Explanation for the non-claim adjustment.
      /// </summary>
      [FhirElement("adjustmentReason", Order=60)]
      [Binding("PaymentAdjustmentReason")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? AdjustmentReason
      {
        get
        {
          if(_AdjustmentReason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["adjustmentReason"]);
          return _AdjustmentReason;
        }

        set
        {
          if (_AdjustmentReason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("adjustmentReason");
          _AdjustmentReason = value;
          OnPropertyChanged("AdjustmentReason");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _AdjustmentReason;

      /// <summary>
      /// Expected date of Payment.
      /// </summary>
      [FhirElement("date", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Date? DateElement
      {
        get
        {
          if(_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Date), Overflow["date"]);
          return _DateElement;
        }

        set
        {
          if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            Overflow.Remove("date");
          _DateElement = value;
          OnPropertyChanged("DateElement");
        }

      }

      private Hl7.Fhir.Model.Date? _DateElement;

      /// <summary>
      /// Expected date of Payment
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Date
      {
        get => DateElement?.Value;
        set
        {
          DateElement = value is null ? null! : new Hl7.Fhir.Model.Date(value);
          OnPropertyChanged("Date");
        }
      }

      /// <summary>
      /// Payable amount after adjustment.
      /// </summary>
      [FhirElement("amount", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Amount
      {
        get
        {
          if(_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["amount"]);
          return _Amount;
        }

        set
        {
          if (_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("amount");
          _Amount = value;
          OnPropertyChanged("Amount");
        }

      }

      private Hl7.Fhir.Model.Money? _Amount;

      /// <summary>
      /// Identifier of the payment instrument.
      /// </summary>
      [FhirElement("identifier", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.Identifier? Identifier
      {
        get
        {
          if(_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["identifier"]);
          return _Identifier;
        }

        set
        {
          if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            Overflow.Remove("identifier");
          _Identifier = value;
          OnPropertyChanged("Identifier");
        }

      }

      private Hl7.Fhir.Model.Identifier? _Identifier;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PaymentComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Adjustment is not null) dest.Adjustment = (Hl7.Fhir.Model.Money)_Adjustment.DeepCopyInternal();
        if(_AdjustmentReason is not null) dest.AdjustmentReason = (Hl7.Fhir.Model.CodeableConcept)_AdjustmentReason.DeepCopyInternal();
        if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.Date)_DateElement.DeepCopyInternal();
        if(_Amount is not null) dest.Amount = (Hl7.Fhir.Model.Money)_Amount.DeepCopyInternal();
        if(_Identifier is not null) dest.Identifier = (Hl7.Fhir.Model.Identifier)_Identifier.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PaymentComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PaymentComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Adjustment, otherT._Adjustment)) return false;
        if(!comparer.Equals(_AdjustmentReason, otherT._AdjustmentReason)) return false;
        if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
        if(!comparer.Equals(_Amount, otherT._Amount)) return false;
        if(!comparer.Equals(_Identifier, otherT._Identifier)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "adjustment":
            if (_Adjustment.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["adjustment"];
              return true;
            }
            value = _Adjustment;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "adjustmentReason":
            if (_AdjustmentReason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["adjustmentReason"];
              return true;
            }
            value = _AdjustmentReason;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "date":
            if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            {
              value = Overflow["date"];
              return true;
            }
            value = _DateElement;
            return (value as Hl7.Fhir.Model.Date) is not null;
          case "amount":
            if (_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["amount"];
              return true;
            }
            value = _Amount;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "identifier":
            if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            {
              value = Overflow["identifier"];
              return true;
            }
            value = _Identifier;
            return (value as Hl7.Fhir.Model.Identifier) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "adjustment":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Adjustment = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["adjustment"] = value;
            }
            else Adjustment = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "adjustmentReason":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              AdjustmentReason = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["adjustmentReason"] = value;
            }
            else AdjustmentReason = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "date":
            if (value is not (Hl7.Fhir.Model.Date or null))
            {
              DateElement = OverflowNull<Hl7.Fhir.Model.Date>.INSTANCE;
              Overflow["date"] = value;
            }
            else DateElement = (Hl7.Fhir.Model.Date?)value;
            return this;
          case "amount":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Amount = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["amount"] = value;
            }
            else Amount = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "identifier":
            if (value is not (Hl7.Fhir.Model.Identifier or null))
            {
              Identifier = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
              Overflow["identifier"] = value;
            }
            else Identifier = (Hl7.Fhir.Model.Identifier?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Adjustment is not null && !_Adjustment.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("adjustment",_Adjustment);
        if (_AdjustmentReason is not null && !_AdjustmentReason.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("adjustmentReason",_AdjustmentReason);
        if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.Date>()) yield return new KeyValuePair<string,object>("date",_DateElement);
        if (_Amount is not null && !_Amount.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("amount",_Amount);
        if (_Identifier is not null && !_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      }

    }

    /// <summary>
    /// Processing notes
    /// </summary>
    /// <remarks>
    /// Note text.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.processNote", IsBackboneType=true)]
    public partial class NoteComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.processNote";

      /// <summary>
      /// Sequence number for this note.
      /// </summary>
      [FhirElement("number", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt? NumberElement
      {
        get
        {
          if(_NumberElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["number"]);
          return _NumberElement;
        }

        set
        {
          if (_NumberElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("number");
          _NumberElement = value;
          OnPropertyChanged("NumberElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _NumberElement;

      /// <summary>
      /// Sequence number for this note
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Number
      {
        get => NumberElement?.Value;
        set
        {
          NumberElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Number");
        }
      }

      /// <summary>
      /// display | print | printoper.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("NoteType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Note explanitory text.
      /// </summary>
      [FhirElement("text", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? TextElement
      {
        get
        {
          if(_TextElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["text"]);
          return _TextElement;
        }

        set
        {
          if (_TextElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("text");
          _TextElement = value;
          OnPropertyChanged("TextElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TextElement;

      /// <summary>
      /// Note explanitory text
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Text
      {
        get => TextElement?.Value;
        set
        {
          TextElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Text");
        }
      }

      /// <summary>
      /// Language if different from the resource.
      /// </summary>
      [FhirElement("language", Order=70)]
      [Binding("Language")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Language
      {
        get
        {
          if(_Language.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["language"]);
          return _Language;
        }

        set
        {
          if (_Language.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("language");
          _Language = value;
          OnPropertyChanged("Language");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Language;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not NoteComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_NumberElement is not null) dest.NumberElement = (Hl7.Fhir.Model.PositiveInt)_NumberElement.DeepCopyInternal();
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_TextElement is not null) dest.TextElement = (Hl7.Fhir.Model.FhirString)_TextElement.DeepCopyInternal();
        if(_Language is not null) dest.Language = (Hl7.Fhir.Model.CodeableConcept)_Language.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new NoteComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not NoteComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_NumberElement, otherT._NumberElement)) return false;
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_TextElement, otherT._TextElement)) return false;
        if(!comparer.Equals(_Language, otherT._Language)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "number":
            if (_NumberElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["number"];
              return true;
            }
            value = _NumberElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "text":
            if (_TextElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["text"];
              return true;
            }
            value = _TextElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "language":
            if (_Language.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["language"];
              return true;
            }
            value = _Language;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "number":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              NumberElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["number"] = value;
            }
            else NumberElement = (Hl7.Fhir.Model.PositiveInt?)value;
            return this;
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "text":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TextElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["text"] = value;
            }
            else TextElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "language":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Language = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["language"] = value;
            }
            else Language = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_NumberElement is not null && !_NumberElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("number",_NumberElement);
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_TextElement is not null && !_TextElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("text",_TextElement);
        if (_Language is not null && !_Language.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("language",_Language);
      }

    }

    /// <summary>
    /// Balance by Benefit Category
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.benefitBalance", IsBackboneType=true)]
    public partial class BenefitBalanceComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.benefitBalance";

      /// <summary>
      /// Type of services covered.
      /// </summary>
      [FhirElement("category", Order=40)]
      [Binding("BenefitCategory")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category!;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Detailed services covered within the type.
      /// </summary>
      [FhirElement("subCategory", Order=50)]
      [Binding("BenefitSubCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? SubCategory
      {
        get
        {
          if(_SubCategory.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["subCategory"]);
          return _SubCategory;
        }

        set
        {
          if (_SubCategory.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("subCategory");
          _SubCategory = value;
          OnPropertyChanged("SubCategory");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _SubCategory;

      /// <summary>
      /// Excluded from the plan.
      /// </summary>
      [FhirElement("excluded", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? ExcludedElement
      {
        get
        {
          if(_ExcludedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["excluded"]);
          return _ExcludedElement;
        }

        set
        {
          if (_ExcludedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("excluded");
          _ExcludedElement = value;
          OnPropertyChanged("ExcludedElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _ExcludedElement;

      /// <summary>
      /// Excluded from the plan
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Excluded
      {
        get => ExcludedElement?.Value;
        set
        {
          ExcludedElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Excluded");
        }
      }

      /// <summary>
      /// Short name for the benefit.
      /// </summary>
      [FhirElement("name", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// Short name for the benefit
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Description of the benefit or services covered.
      /// </summary>
      [FhirElement("description", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// Description of the benefit or services covered
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// In or out of network.
      /// </summary>
      [FhirElement("network", Order=90)]
      [Binding("BenefitNetwork")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Network
      {
        get
        {
          if(_Network.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["network"]);
          return _Network;
        }

        set
        {
          if (_Network.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("network");
          _Network = value;
          OnPropertyChanged("Network");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Network;

      /// <summary>
      /// Individual or family.
      /// </summary>
      [FhirElement("unit", Order=100)]
      [Binding("BenefitUnit")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Unit
      {
        get
        {
          if(_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["unit"]);
          return _Unit;
        }

        set
        {
          if (_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("unit");
          _Unit = value;
          OnPropertyChanged("Unit");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Unit;

      /// <summary>
      /// Annual or lifetime.
      /// </summary>
      [FhirElement("term", Order=110)]
      [Binding("BenefitTerm")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Term
      {
        get
        {
          if(_Term.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["term"]);
          return _Term;
        }

        set
        {
          if (_Term.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("term");
          _Term = value;
          OnPropertyChanged("Term");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Term;

      /// <summary>
      /// Benefit Summary.
      /// </summary>
      [FhirElement("financial", Order=120)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent> Financial
      {
        get
        {
          if(_Financial.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>), Overflow["financial"]);
          return _Financial ??= [];
        }

        set
        {
          if (_Financial.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>>())
            Overflow.Remove("financial");
          _Financial = value;
          OnPropertyChanged("Financial");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>? _Financial;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not BenefitBalanceComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_SubCategory is not null) dest.SubCategory = (Hl7.Fhir.Model.CodeableConcept)_SubCategory.DeepCopyInternal();
        if(_ExcludedElement is not null) dest.ExcludedElement = (Hl7.Fhir.Model.FhirBoolean)_ExcludedElement.DeepCopyInternal();
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
        if(_Network is not null) dest.Network = (Hl7.Fhir.Model.CodeableConcept)_Network.DeepCopyInternal();
        if(_Unit is not null) dest.Unit = (Hl7.Fhir.Model.CodeableConcept)_Unit.DeepCopyInternal();
        if(_Term is not null) dest.Term = (Hl7.Fhir.Model.CodeableConcept)_Term.DeepCopyInternal();
        if(_Financial is not null) dest.Financial = new List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>(_Financial.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new BenefitBalanceComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not BenefitBalanceComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_SubCategory, otherT._SubCategory)) return false;
        if(!comparer.Equals(_ExcludedElement, otherT._ExcludedElement)) return false;
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_Network, otherT._Network)) return false;
        if(!comparer.Equals(_Unit, otherT._Unit)) return false;
        if(!comparer.Equals(_Term, otherT._Term)) return false;
        if(!comparer.ListEquals(_Financial, otherT._Financial)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "subCategory":
            if (_SubCategory.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["subCategory"];
              return true;
            }
            value = _SubCategory;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "excluded":
            if (_ExcludedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["excluded"];
              return true;
            }
            value = _ExcludedElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "network":
            if (_Network.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["network"];
              return true;
            }
            value = _Network;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "unit":
            if (_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["unit"];
              return true;
            }
            value = _Unit;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "term":
            if (_Term.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["term"];
              return true;
            }
            value = _Term;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "financial":
            if (_Financial.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>>())
            {
              value = Overflow["financial"];
              return true;
            }
            value = _Financial;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "subCategory":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              SubCategory = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["subCategory"] = value;
            }
            else SubCategory = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "excluded":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              ExcludedElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["excluded"] = value;
            }
            else ExcludedElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "network":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Network = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["network"] = value;
            }
            else Network = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "unit":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Unit = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["unit"] = value;
            }
            else Unit = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "term":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Term = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["term"] = value;
            }
            else Term = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "financial":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent> or null))
            {
              Financial = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>>.INSTANCE;
              Overflow["financial"] = value;
            }
            else Financial = (List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_SubCategory is not null && !_SubCategory.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("subCategory",_SubCategory);
        if (_ExcludedElement is not null && !_ExcludedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("excluded",_ExcludedElement);
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_Network is not null && !_Network.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("network",_Network);
        if (_Unit is not null && !_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("unit",_Unit);
        if (_Term is not null && !_Term.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("term",_Term);
        if (_Financial?.Any() is true && !_Financial.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>>()) yield return new KeyValuePair<string,object>("financial",_Financial);
      }

    }

    /// <summary>
    /// Benefit Summary
    /// </summary>
    /// <remarks>
    /// Benefits Used to date.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.benefitBalance.financial", IsBackboneType=true)]
    public partial class BenefitComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.benefitBalance.financial";

      /// <summary>
      /// Deductable, visits, benefit amount.
      /// </summary>
      [FhirElement("type", Order=40)]
      [Binding("BenefitType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type!;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Benefits allowed.
      /// </summary>
      [FhirElement("allowed", Order=50, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.UnsignedInt),typeof(Hl7.Fhir.Model.FhirString),typeof(Hl7.Fhir.Model.Money))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Allowed
      {
        get
        {
          if(_Allowed.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["allowed"]);
          return _Allowed;
        }

        set
        {
          if (_Allowed.InOverflow<DynamicDataType>())
            Overflow.Remove("allowed");
          _Allowed = value;
          OnPropertyChanged("Allowed");
        }

      }

      private Hl7.Fhir.Model.DataType? _Allowed;

      /// <summary>
      /// Benefits used.
      /// </summary>
      [FhirElement("used", Order=60, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.UnsignedInt),typeof(Hl7.Fhir.Model.Money))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Used
      {
        get
        {
          if(_Used.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["used"]);
          return _Used;
        }

        set
        {
          if (_Used.InOverflow<DynamicDataType>())
            Overflow.Remove("used");
          _Used = value;
          OnPropertyChanged("Used");
        }

      }

      private Hl7.Fhir.Model.DataType? _Used;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not BenefitComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Allowed is not null) dest.Allowed = (Hl7.Fhir.Model.DataType)_Allowed.DeepCopyInternal();
        if(_Used is not null) dest.Used = (Hl7.Fhir.Model.DataType)_Used.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new BenefitComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not BenefitComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Allowed, otherT._Allowed)) return false;
        if(!comparer.Equals(_Used, otherT._Used)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "allowed":
            if (_Allowed.InOverflow<DynamicDataType>())
            {
              value = Overflow["allowed"];
              return true;
            }
            value = _Allowed;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "used":
            if (_Used.InOverflow<DynamicDataType>())
            {
              value = Overflow["used"];
              return true;
            }
            value = _Used;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "allowed":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Allowed = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["allowed"] = value;
            }
            else Allowed = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "used":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Used = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["used"] = value;
            }
            else Used = (Hl7.Fhir.Model.DataType?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Allowed is not null && !_Allowed.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("allowed",_Allowed);
        if (_Used is not null && !_Used.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("used",_Used);
      }

    }

    /// <summary>
    /// Business Identifier.
    /// </summary>
    [FhirElement("identifier", Order=90, FiveWs="id")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// active | cancelled | draft | entered-in-error.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=100, FiveWs="status")]
    [Binding("ExplanationOfBenefitStatus")]
    [DataMember]
    public Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>? StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>), Overflow["status"]);
        return _StatusElement;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>? _StatusElement;

    /// <summary>
    /// active | cancelled | draft | entered-in-error
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// Type or discipline.
    /// </summary>
    [FhirElement("type", Order=110, FiveWs="class")]
    [Binding("ClaimType")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Type
    {
      get
      {
        if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
        return _Type;
      }

      set
      {
        if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("type");
        _Type = value;
        OnPropertyChanged("Type");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Type;

    /// <summary>
    /// Finer grained claim type information.
    /// </summary>
    [FhirElement("subType", Order=120, FiveWs="class")]
    [Binding("ClaimSubType")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> SubType
    {
      get
      {
        if(_SubType.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["subType"]);
        return _SubType ??= [];
      }

      set
      {
        if (_SubType.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("subType");
        _SubType = value;
        OnPropertyChanged("SubType");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _SubType;

    /// <summary>
    /// The subject of the Products and Services.
    /// </summary>
    [FhirElement("patient", Order=130, FiveWs="who.focus")]
    [CLSCompliant(false)]
    [References("Patient")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Patient
    {
      get
      {
        if(_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["patient"]);
        return _Patient;
      }

      set
      {
        if (_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("patient");
        _Patient = value;
        OnPropertyChanged("Patient");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Patient;

    /// <summary>
    /// Period for charge submission.
    /// </summary>
    [FhirElement("billablePeriod", Order=140, FiveWs="when.done")]
    [DataMember]
    public Hl7.Fhir.Model.Period? BillablePeriod
    {
      get
      {
        if(_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["billablePeriod"]);
        return _BillablePeriod;
      }

      set
      {
        if (_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>())
          Overflow.Remove("billablePeriod");
        _BillablePeriod = value;
        OnPropertyChanged("BillablePeriod");
      }

    }

    private Hl7.Fhir.Model.Period? _BillablePeriod;

    /// <summary>
    /// Creation date.
    /// </summary>
    [FhirElement("created", Order=150, FiveWs="when.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? CreatedElement
    {
      get
      {
        if(_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["created"]);
        return _CreatedElement;
      }

      set
      {
        if (_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("created");
        _CreatedElement = value;
        OnPropertyChanged("CreatedElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _CreatedElement;

    /// <summary>
    /// Creation date
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Created
    {
      get => CreatedElement?.Value;
      set
      {
        CreatedElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("Created");
      }
    }

    /// <summary>
    /// Author.
    /// </summary>
    [FhirElement("enterer", Order=160, FiveWs="who.author")]
    [CLSCompliant(false)]
    [References("Practitioner")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Enterer
    {
      get
      {
        if(_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["enterer"]);
        return _Enterer;
      }

      set
      {
        if (_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("enterer");
        _Enterer = value;
        OnPropertyChanged("Enterer");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Enterer;

    /// <summary>
    /// Insurer responsible for the EOB.
    /// </summary>
    [FhirElement("insurer", Order=170, FiveWs="who.author")]
    [CLSCompliant(false)]
    [References("Organization")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Insurer
    {
      get
      {
        if(_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["insurer"]);
        return _Insurer;
      }

      set
      {
        if (_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("insurer");
        _Insurer = value;
        OnPropertyChanged("Insurer");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Insurer;

    /// <summary>
    /// Responsible provider for the claim.
    /// </summary>
    [FhirElement("provider", Order=180, FiveWs="who.source")]
    [CLSCompliant(false)]
    [References("Practitioner")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Provider
    {
      get
      {
        if(_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["provider"]);
        return _Provider;
      }

      set
      {
        if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("provider");
        _Provider = value;
        OnPropertyChanged("Provider");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Provider;

    /// <summary>
    /// Responsible organization for the claim.
    /// </summary>
    [FhirElement("organization", Order=190, FiveWs="who.source")]
    [CLSCompliant(false)]
    [References("Organization")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Organization
    {
      get
      {
        if(_Organization.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["organization"]);
        return _Organization;
      }

      set
      {
        if (_Organization.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("organization");
        _Organization = value;
        OnPropertyChanged("Organization");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Organization;

    /// <summary>
    /// Treatment Referral.
    /// </summary>
    [FhirElement("referral", Order=200, FiveWs="who.cause")]
    [CLSCompliant(false)]
    [References("ReferralRequest")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Referral
    {
      get
      {
        if(_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["referral"]);
        return _Referral;
      }

      set
      {
        if (_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("referral");
        _Referral = value;
        OnPropertyChanged("Referral");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Referral;

    /// <summary>
    /// Servicing Facility.
    /// </summary>
    [FhirElement("facility", Order=210, FiveWs="where")]
    [CLSCompliant(false)]
    [References("Location")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Facility
    {
      get
      {
        if(_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["facility"]);
        return _Facility;
      }

      set
      {
        if (_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("facility");
        _Facility = value;
        OnPropertyChanged("Facility");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Facility;

    /// <summary>
    /// Claim reference.
    /// </summary>
    [FhirElement("claim", Order=220, FiveWs="why")]
    [CLSCompliant(false)]
    [References("Claim")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Claim
    {
      get
      {
        if(_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["claim"]);
        return _Claim;
      }

      set
      {
        if (_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("claim");
        _Claim = value;
        OnPropertyChanged("Claim");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Claim;

    /// <summary>
    /// Claim response reference.
    /// </summary>
    [FhirElement("claimResponse", Order=230)]
    [CLSCompliant(false)]
    [References("ClaimResponse")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? ClaimResponse
    {
      get
      {
        if(_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["claimResponse"]);
        return _ClaimResponse;
      }

      set
      {
        if (_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("claimResponse");
        _ClaimResponse = value;
        OnPropertyChanged("ClaimResponse");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _ClaimResponse;

    /// <summary>
    /// complete | error | partial.
    /// </summary>
    [FhirElement("outcome", Order=240)]
    [Binding("RemittanceOutcome")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Outcome
    {
      get
      {
        if(_Outcome.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["outcome"]);
        return _Outcome;
      }

      set
      {
        if (_Outcome.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("outcome");
        _Outcome = value;
        OnPropertyChanged("Outcome");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Outcome;

    /// <summary>
    /// Disposition Message.
    /// </summary>
    [FhirElement("disposition", Order=250)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? DispositionElement
    {
      get
      {
        if(_DispositionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["disposition"]);
        return _DispositionElement;
      }

      set
      {
        if (_DispositionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("disposition");
        _DispositionElement = value;
        OnPropertyChanged("DispositionElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _DispositionElement;

    /// <summary>
    /// Disposition Message
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Disposition
    {
      get => DispositionElement?.Value;
      set
      {
        DispositionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Disposition");
      }
    }

    /// <summary>
    /// Related Claims which may be revelant to processing this claim.
    /// </summary>
    [FhirElement("related", Order=260)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent> Related
    {
      get
      {
        if(_Related.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>), Overflow["related"]);
        return _Related ??= [];
      }

      set
      {
        if (_Related.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>>())
          Overflow.Remove("related");
        _Related = value;
        OnPropertyChanged("Related");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>? _Related;

    /// <summary>
    /// Prescription authorizing services or products.
    /// </summary>
    [FhirElement("prescription", Order=270)]
    [CLSCompliant(false)]
    [References("MedicationRequest","VisionPrescription")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Prescription
    {
      get
      {
        if(_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["prescription"]);
        return _Prescription;
      }

      set
      {
        if (_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("prescription");
        _Prescription = value;
        OnPropertyChanged("Prescription");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Prescription;

    /// <summary>
    /// Original prescription if superceded by fulfiller.
    /// </summary>
    [FhirElement("originalPrescription", Order=280)]
    [CLSCompliant(false)]
    [References("MedicationRequest")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? OriginalPrescription
    {
      get
      {
        if(_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["originalPrescription"]);
        return _OriginalPrescription;
      }

      set
      {
        if (_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("originalPrescription");
        _OriginalPrescription = value;
        OnPropertyChanged("OriginalPrescription");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _OriginalPrescription;

    /// <summary>
    /// Party to be paid any benefits payable.
    /// </summary>
    [FhirElement("payee", Order=290)]
    [DataMember]
    public Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent? Payee
    {
      get
      {
        if(_Payee.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent), Overflow["payee"]);
        return _Payee;
      }

      set
      {
        if (_Payee.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent>())
          Overflow.Remove("payee");
        _Payee = value;
        OnPropertyChanged("Payee");
      }

    }

    private Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent? _Payee;

    /// <summary>
    /// Exceptions, special considerations, the condition, situation, prior or concurrent issues.
    /// </summary>
    [FhirElement("information", Order=300)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent> Information
    {
      get
      {
        if(_Information.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>), Overflow["information"]);
        return _Information ??= [];
      }

      set
      {
        if (_Information.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>>())
          Overflow.Remove("information");
        _Information = value;
        OnPropertyChanged("Information");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>? _Information;

    /// <summary>
    /// Care Team members.
    /// </summary>
    [FhirElement("careTeam", Order=310)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent> CareTeam
    {
      get
      {
        if(_CareTeam.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>), Overflow["careTeam"]);
        return _CareTeam ??= [];
      }

      set
      {
        if (_CareTeam.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>>())
          Overflow.Remove("careTeam");
        _CareTeam = value;
        OnPropertyChanged("CareTeam");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>? _CareTeam;

    /// <summary>
    /// List of Diagnosis.
    /// </summary>
    [FhirElement("diagnosis", Order=320)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent> Diagnosis
    {
      get
      {
        if(_Diagnosis.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>), Overflow["diagnosis"]);
        return _Diagnosis ??= [];
      }

      set
      {
        if (_Diagnosis.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>>())
          Overflow.Remove("diagnosis");
        _Diagnosis = value;
        OnPropertyChanged("Diagnosis");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>? _Diagnosis;

    /// <summary>
    /// Procedures performed.
    /// </summary>
    [FhirElement("procedure", Order=330)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent> Procedure
    {
      get
      {
        if(_Procedure.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>), Overflow["procedure"]);
        return _Procedure ??= [];
      }

      set
      {
        if (_Procedure.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>>())
          Overflow.Remove("procedure");
        _Procedure = value;
        OnPropertyChanged("Procedure");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>? _Procedure;

    /// <summary>
    /// Precedence (primary, secondary, etc.).
    /// </summary>
    [FhirElement("precedence", Order=340)]
    [DataMember]
    public Hl7.Fhir.Model.PositiveInt? PrecedenceElement
    {
      get
      {
        if(_PrecedenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["precedence"]);
        return _PrecedenceElement;
      }

      set
      {
        if (_PrecedenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
          Overflow.Remove("precedence");
        _PrecedenceElement = value;
        OnPropertyChanged("PrecedenceElement");
      }

    }

    private Hl7.Fhir.Model.PositiveInt? _PrecedenceElement;

    /// <summary>
    /// Precedence (primary, secondary, etc.)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public int? Precedence
    {
      get => PrecedenceElement?.Value;
      set
      {
        PrecedenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
        OnPropertyChanged("Precedence");
      }
    }

    /// <summary>
    /// Insurance or medical plan.
    /// </summary>
    [FhirElement("insurance", Order=350)]
    [DataMember]
    public Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent? Insurance
    {
      get
      {
        if(_Insurance.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent), Overflow["insurance"]);
        return _Insurance;
      }

      set
      {
        if (_Insurance.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>())
          Overflow.Remove("insurance");
        _Insurance = value;
        OnPropertyChanged("Insurance");
      }

    }

    private Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent? _Insurance;

    /// <summary>
    /// Details of an accident.
    /// </summary>
    [FhirElement("accident", Order=360)]
    [DataMember]
    public Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent? Accident
    {
      get
      {
        if(_Accident.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent), Overflow["accident"]);
        return _Accident;
      }

      set
      {
        if (_Accident.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent>())
          Overflow.Remove("accident");
        _Accident = value;
        OnPropertyChanged("Accident");
      }

    }

    private Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent? _Accident;

    /// <summary>
    /// Period unable to work.
    /// </summary>
    [FhirElement("employmentImpacted", Order=370)]
    [DataMember]
    public Hl7.Fhir.Model.Period? EmploymentImpacted
    {
      get
      {
        if(_EmploymentImpacted.InOverflow<Hl7.Fhir.Model.Period>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["employmentImpacted"]);
        return _EmploymentImpacted;
      }

      set
      {
        if (_EmploymentImpacted.InOverflow<Hl7.Fhir.Model.Period>())
          Overflow.Remove("employmentImpacted");
        _EmploymentImpacted = value;
        OnPropertyChanged("EmploymentImpacted");
      }

    }

    private Hl7.Fhir.Model.Period? _EmploymentImpacted;

    /// <summary>
    /// Period in hospital.
    /// </summary>
    [FhirElement("hospitalization", Order=380)]
    [DataMember]
    public Hl7.Fhir.Model.Period? Hospitalization
    {
      get
      {
        if(_Hospitalization.InOverflow<Hl7.Fhir.Model.Period>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["hospitalization"]);
        return _Hospitalization;
      }

      set
      {
        if (_Hospitalization.InOverflow<Hl7.Fhir.Model.Period>())
          Overflow.Remove("hospitalization");
        _Hospitalization = value;
        OnPropertyChanged("Hospitalization");
      }

    }

    private Hl7.Fhir.Model.Period? _Hospitalization;

    /// <summary>
    /// Goods and Services.
    /// </summary>
    [FhirElement("item", Order=390)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent> Item
    {
      get
      {
        if(_Item.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>), Overflow["item"]);
        return _Item ??= [];
      }

      set
      {
        if (_Item.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>>())
          Overflow.Remove("item");
        _Item = value;
        OnPropertyChanged("Item");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>? _Item;

    /// <summary>
    /// Insurer added line items.
    /// </summary>
    [FhirElement("addItem", Order=400)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent> AddItem
    {
      get
      {
        if(_AddItem.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>), Overflow["addItem"]);
        return _AddItem ??= [];
      }

      set
      {
        if (_AddItem.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>>())
          Overflow.Remove("addItem");
        _AddItem = value;
        OnPropertyChanged("AddItem");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>? _AddItem;

    /// <summary>
    /// Total Cost of service from the Claim.
    /// </summary>
    [FhirElement("totalCost", Order=410)]
    [DataMember]
    public Hl7.Fhir.Model.Money? TotalCost
    {
      get
      {
        if(_TotalCost.InOverflow<Hl7.Fhir.Model.Money>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["totalCost"]);
        return _TotalCost;
      }

      set
      {
        if (_TotalCost.InOverflow<Hl7.Fhir.Model.Money>())
          Overflow.Remove("totalCost");
        _TotalCost = value;
        OnPropertyChanged("TotalCost");
      }

    }

    private Hl7.Fhir.Model.Money? _TotalCost;

    /// <summary>
    /// Unallocated deductable.
    /// </summary>
    [FhirElement("unallocDeductable", Order=420)]
    [DataMember]
    public Hl7.Fhir.Model.Money? UnallocDeductable
    {
      get
      {
        if(_UnallocDeductable.InOverflow<Hl7.Fhir.Model.Money>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unallocDeductable"]);
        return _UnallocDeductable;
      }

      set
      {
        if (_UnallocDeductable.InOverflow<Hl7.Fhir.Model.Money>())
          Overflow.Remove("unallocDeductable");
        _UnallocDeductable = value;
        OnPropertyChanged("UnallocDeductable");
      }

    }

    private Hl7.Fhir.Model.Money? _UnallocDeductable;

    /// <summary>
    /// Total benefit payable for the Claim.
    /// </summary>
    [FhirElement("totalBenefit", Order=430)]
    [DataMember]
    public Hl7.Fhir.Model.Money? TotalBenefit
    {
      get
      {
        if(_TotalBenefit.InOverflow<Hl7.Fhir.Model.Money>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["totalBenefit"]);
        return _TotalBenefit;
      }

      set
      {
        if (_TotalBenefit.InOverflow<Hl7.Fhir.Model.Money>())
          Overflow.Remove("totalBenefit");
        _TotalBenefit = value;
        OnPropertyChanged("TotalBenefit");
      }

    }

    private Hl7.Fhir.Model.Money? _TotalBenefit;

    /// <summary>
    /// Payment (if paid).
    /// </summary>
    [FhirElement("payment", Order=440)]
    [DataMember]
    public Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent? Payment
    {
      get
      {
        if(_Payment.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent), Overflow["payment"]);
        return _Payment;
      }

      set
      {
        if (_Payment.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent>())
          Overflow.Remove("payment");
        _Payment = value;
        OnPropertyChanged("Payment");
      }

    }

    private Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent? _Payment;

    /// <summary>
    /// Printed Form Identifier.
    /// </summary>
    [FhirElement("form", Order=450)]
    [Binding("Forms")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Form
    {
      get
      {
        if(_Form.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["form"]);
        return _Form;
      }

      set
      {
        if (_Form.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("form");
        _Form = value;
        OnPropertyChanged("Form");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Form;

    /// <summary>
    /// Processing notes.
    /// </summary>
    [FhirElement("processNote", Order=460)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent> ProcessNote
    {
      get
      {
        if(_ProcessNote.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>), Overflow["processNote"]);
        return _ProcessNote ??= [];
      }

      set
      {
        if (_ProcessNote.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>>())
          Overflow.Remove("processNote");
        _ProcessNote = value;
        OnPropertyChanged("ProcessNote");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>? _ProcessNote;

    /// <summary>
    /// Balance by Benefit Category.
    /// </summary>
    [FhirElement("benefitBalance", Order=470)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent> BenefitBalance
    {
      get
      {
        if(_BenefitBalance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>), Overflow["benefitBalance"]);
        return _BenefitBalance ??= [];
      }

      set
      {
        if (_BenefitBalance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>>())
          Overflow.Remove("benefitBalance");
        _BenefitBalance = value;
        OnPropertyChanged("BenefitBalance");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>? _BenefitBalance;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not ExplanationOfBenefit dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>)_StatusElement.DeepCopyInternal();
      if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
      if(_SubType is not null) dest.SubType = new List<Hl7.Fhir.Model.CodeableConcept>(_SubType.DeepCopyInternal());
      if(_Patient is not null) dest.Patient = (Hl7.Fhir.Model.ResourceReference)_Patient.DeepCopyInternal();
      if(_BillablePeriod is not null) dest.BillablePeriod = (Hl7.Fhir.Model.Period)_BillablePeriod.DeepCopyInternal();
      if(_CreatedElement is not null) dest.CreatedElement = (Hl7.Fhir.Model.FhirDateTime)_CreatedElement.DeepCopyInternal();
      if(_Enterer is not null) dest.Enterer = (Hl7.Fhir.Model.ResourceReference)_Enterer.DeepCopyInternal();
      if(_Insurer is not null) dest.Insurer = (Hl7.Fhir.Model.ResourceReference)_Insurer.DeepCopyInternal();
      if(_Provider is not null) dest.Provider = (Hl7.Fhir.Model.ResourceReference)_Provider.DeepCopyInternal();
      if(_Organization is not null) dest.Organization = (Hl7.Fhir.Model.ResourceReference)_Organization.DeepCopyInternal();
      if(_Referral is not null) dest.Referral = (Hl7.Fhir.Model.ResourceReference)_Referral.DeepCopyInternal();
      if(_Facility is not null) dest.Facility = (Hl7.Fhir.Model.ResourceReference)_Facility.DeepCopyInternal();
      if(_Claim is not null) dest.Claim = (Hl7.Fhir.Model.ResourceReference)_Claim.DeepCopyInternal();
      if(_ClaimResponse is not null) dest.ClaimResponse = (Hl7.Fhir.Model.ResourceReference)_ClaimResponse.DeepCopyInternal();
      if(_Outcome is not null) dest.Outcome = (Hl7.Fhir.Model.CodeableConcept)_Outcome.DeepCopyInternal();
      if(_DispositionElement is not null) dest.DispositionElement = (Hl7.Fhir.Model.FhirString)_DispositionElement.DeepCopyInternal();
      if(_Related is not null) dest.Related = new List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>(_Related.DeepCopyInternal());
      if(_Prescription is not null) dest.Prescription = (Hl7.Fhir.Model.ResourceReference)_Prescription.DeepCopyInternal();
      if(_OriginalPrescription is not null) dest.OriginalPrescription = (Hl7.Fhir.Model.ResourceReference)_OriginalPrescription.DeepCopyInternal();
      if(_Payee is not null) dest.Payee = (Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent)_Payee.DeepCopyInternal();
      if(_Information is not null) dest.Information = new List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>(_Information.DeepCopyInternal());
      if(_CareTeam is not null) dest.CareTeam = new List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>(_CareTeam.DeepCopyInternal());
      if(_Diagnosis is not null) dest.Diagnosis = new List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>(_Diagnosis.DeepCopyInternal());
      if(_Procedure is not null) dest.Procedure = new List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>(_Procedure.DeepCopyInternal());
      if(_PrecedenceElement is not null) dest.PrecedenceElement = (Hl7.Fhir.Model.PositiveInt)_PrecedenceElement.DeepCopyInternal();
      if(_Insurance is not null) dest.Insurance = (Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent)_Insurance.DeepCopyInternal();
      if(_Accident is not null) dest.Accident = (Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent)_Accident.DeepCopyInternal();
      if(_EmploymentImpacted is not null) dest.EmploymentImpacted = (Hl7.Fhir.Model.Period)_EmploymentImpacted.DeepCopyInternal();
      if(_Hospitalization is not null) dest.Hospitalization = (Hl7.Fhir.Model.Period)_Hospitalization.DeepCopyInternal();
      if(_Item is not null) dest.Item = new List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>(_Item.DeepCopyInternal());
      if(_AddItem is not null) dest.AddItem = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>(_AddItem.DeepCopyInternal());
      if(_TotalCost is not null) dest.TotalCost = (Hl7.Fhir.Model.Money)_TotalCost.DeepCopyInternal();
      if(_UnallocDeductable is not null) dest.UnallocDeductable = (Hl7.Fhir.Model.Money)_UnallocDeductable.DeepCopyInternal();
      if(_TotalBenefit is not null) dest.TotalBenefit = (Hl7.Fhir.Model.Money)_TotalBenefit.DeepCopyInternal();
      if(_Payment is not null) dest.Payment = (Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent)_Payment.DeepCopyInternal();
      if(_Form is not null) dest.Form = (Hl7.Fhir.Model.CodeableConcept)_Form.DeepCopyInternal();
      if(_ProcessNote is not null) dest.ProcessNote = new List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>(_ProcessNote.DeepCopyInternal());
      if(_BenefitBalance is not null) dest.BenefitBalance = new List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>(_BenefitBalance.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new ExplanationOfBenefit();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not ExplanationOfBenefit otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_Type, otherT._Type)) return false;
      if(!comparer.ListEquals(_SubType, otherT._SubType)) return false;
      if(!comparer.Equals(_Patient, otherT._Patient)) return false;
      if(!comparer.Equals(_BillablePeriod, otherT._BillablePeriod)) return false;
      if(!comparer.Equals(_CreatedElement, otherT._CreatedElement)) return false;
      if(!comparer.Equals(_Enterer, otherT._Enterer)) return false;
      if(!comparer.Equals(_Insurer, otherT._Insurer)) return false;
      if(!comparer.Equals(_Provider, otherT._Provider)) return false;
      if(!comparer.Equals(_Organization, otherT._Organization)) return false;
      if(!comparer.Equals(_Referral, otherT._Referral)) return false;
      if(!comparer.Equals(_Facility, otherT._Facility)) return false;
      if(!comparer.Equals(_Claim, otherT._Claim)) return false;
      if(!comparer.Equals(_ClaimResponse, otherT._ClaimResponse)) return false;
      if(!comparer.Equals(_Outcome, otherT._Outcome)) return false;
      if(!comparer.Equals(_DispositionElement, otherT._DispositionElement)) return false;
      if(!comparer.ListEquals(_Related, otherT._Related)) return false;
      if(!comparer.Equals(_Prescription, otherT._Prescription)) return false;
      if(!comparer.Equals(_OriginalPrescription, otherT._OriginalPrescription)) return false;
      if(!comparer.Equals(_Payee, otherT._Payee)) return false;
      if(!comparer.ListEquals(_Information, otherT._Information)) return false;
      if(!comparer.ListEquals(_CareTeam, otherT._CareTeam)) return false;
      if(!comparer.ListEquals(_Diagnosis, otherT._Diagnosis)) return false;
      if(!comparer.ListEquals(_Procedure, otherT._Procedure)) return false;
      if(!comparer.Equals(_PrecedenceElement, otherT._PrecedenceElement)) return false;
      if(!comparer.Equals(_Insurance, otherT._Insurance)) return false;
      if(!comparer.Equals(_Accident, otherT._Accident)) return false;
      if(!comparer.Equals(_EmploymentImpacted, otherT._EmploymentImpacted)) return false;
      if(!comparer.Equals(_Hospitalization, otherT._Hospitalization)) return false;
      if(!comparer.ListEquals(_Item, otherT._Item)) return false;
      if(!comparer.ListEquals(_AddItem, otherT._AddItem)) return false;
      if(!comparer.Equals(_TotalCost, otherT._TotalCost)) return false;
      if(!comparer.Equals(_UnallocDeductable, otherT._UnallocDeductable)) return false;
      if(!comparer.Equals(_TotalBenefit, otherT._TotalBenefit)) return false;
      if(!comparer.Equals(_Payment, otherT._Payment)) return false;
      if(!comparer.Equals(_Form, otherT._Form)) return false;
      if(!comparer.ListEquals(_ProcessNote, otherT._ProcessNote)) return false;
      if(!comparer.ListEquals(_BenefitBalance, otherT._BenefitBalance)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>) is not null;
        case "type":
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["type"];
            return true;
          }
          value = _Type;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "subType":
          if (_SubType.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["subType"];
            return true;
          }
          value = _SubType;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "patient":
          if (_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["patient"];
            return true;
          }
          value = _Patient;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "billablePeriod":
          if (_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>())
          {
            value = Overflow["billablePeriod"];
            return true;
          }
          value = _BillablePeriod;
          return (value as Hl7.Fhir.Model.Period) is not null;
        case "created":
          if (_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["created"];
            return true;
          }
          value = _CreatedElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "enterer":
          if (_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["enterer"];
            return true;
          }
          value = _Enterer;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "insurer":
          if (_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["insurer"];
            return true;
          }
          value = _Insurer;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "provider":
          if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["provider"];
            return true;
          }
          value = _Provider;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "organization":
          if (_Organization.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["organization"];
            return true;
          }
          value = _Organization;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "referral":
          if (_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["referral"];
            return true;
          }
          value = _Referral;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "facility":
          if (_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["facility"];
            return true;
          }
          value = _Facility;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "claim":
          if (_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["claim"];
            return true;
          }
          value = _Claim;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "claimResponse":
          if (_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["claimResponse"];
            return true;
          }
          value = _ClaimResponse;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "outcome":
          if (_Outcome.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["outcome"];
            return true;
          }
          value = _Outcome;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "disposition":
          if (_DispositionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["disposition"];
            return true;
          }
          value = _DispositionElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "related":
          if (_Related.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>>())
          {
            value = Overflow["related"];
            return true;
          }
          value = _Related;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>)?.Any() is true;
        case "prescription":
          if (_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["prescription"];
            return true;
          }
          value = _Prescription;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "originalPrescription":
          if (_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["originalPrescription"];
            return true;
          }
          value = _OriginalPrescription;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "payee":
          if (_Payee.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent>())
          {
            value = Overflow["payee"];
            return true;
          }
          value = _Payee;
          return (value as Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent) is not null;
        case "information":
          if (_Information.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>>())
          {
            value = Overflow["information"];
            return true;
          }
          value = _Information;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>)?.Any() is true;
        case "careTeam":
          if (_CareTeam.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>>())
          {
            value = Overflow["careTeam"];
            return true;
          }
          value = _CareTeam;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>)?.Any() is true;
        case "diagnosis":
          if (_Diagnosis.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>>())
          {
            value = Overflow["diagnosis"];
            return true;
          }
          value = _Diagnosis;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>)?.Any() is true;
        case "procedure":
          if (_Procedure.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>>())
          {
            value = Overflow["procedure"];
            return true;
          }
          value = _Procedure;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>)?.Any() is true;
        case "precedence":
          if (_PrecedenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
          {
            value = Overflow["precedence"];
            return true;
          }
          value = _PrecedenceElement;
          return (value as Hl7.Fhir.Model.PositiveInt) is not null;
        case "insurance":
          if (_Insurance.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>())
          {
            value = Overflow["insurance"];
            return true;
          }
          value = _Insurance;
          return (value as Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent) is not null;
        case "accident":
          if (_Accident.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent>())
          {
            value = Overflow["accident"];
            return true;
          }
          value = _Accident;
          return (value as Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent) is not null;
        case "employmentImpacted":
          if (_EmploymentImpacted.InOverflow<Hl7.Fhir.Model.Period>())
          {
            value = Overflow["employmentImpacted"];
            return true;
          }
          value = _EmploymentImpacted;
          return (value as Hl7.Fhir.Model.Period) is not null;
        case "hospitalization":
          if (_Hospitalization.InOverflow<Hl7.Fhir.Model.Period>())
          {
            value = Overflow["hospitalization"];
            return true;
          }
          value = _Hospitalization;
          return (value as Hl7.Fhir.Model.Period) is not null;
        case "item":
          if (_Item.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>>())
          {
            value = Overflow["item"];
            return true;
          }
          value = _Item;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>)?.Any() is true;
        case "addItem":
          if (_AddItem.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>>())
          {
            value = Overflow["addItem"];
            return true;
          }
          value = _AddItem;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>)?.Any() is true;
        case "totalCost":
          if (_TotalCost.InOverflow<Hl7.Fhir.Model.Money>())
          {
            value = Overflow["totalCost"];
            return true;
          }
          value = _TotalCost;
          return (value as Hl7.Fhir.Model.Money) is not null;
        case "unallocDeductable":
          if (_UnallocDeductable.InOverflow<Hl7.Fhir.Model.Money>())
          {
            value = Overflow["unallocDeductable"];
            return true;
          }
          value = _UnallocDeductable;
          return (value as Hl7.Fhir.Model.Money) is not null;
        case "totalBenefit":
          if (_TotalBenefit.InOverflow<Hl7.Fhir.Model.Money>())
          {
            value = Overflow["totalBenefit"];
            return true;
          }
          value = _TotalBenefit;
          return (value as Hl7.Fhir.Model.Money) is not null;
        case "payment":
          if (_Payment.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent>())
          {
            value = Overflow["payment"];
            return true;
          }
          value = _Payment;
          return (value as Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent) is not null;
        case "form":
          if (_Form.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["form"];
            return true;
          }
          value = _Form;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "processNote":
          if (_ProcessNote.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>>())
          {
            value = Overflow["processNote"];
            return true;
          }
          value = _ProcessNote;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>)?.Any() is true;
        case "benefitBalance":
          if (_BenefitBalance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>>())
          {
            value = Overflow["benefitBalance"];
            return true;
          }
          value = _BenefitBalance;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>?)value;
          return this;
        case "type":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["type"] = value;
          }
          else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "subType":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            SubType = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["subType"] = value;
          }
          else SubType = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "patient":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Patient = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["patient"] = value;
          }
          else Patient = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "billablePeriod":
          if (value is not (Hl7.Fhir.Model.Period or null))
          {
            BillablePeriod = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
            Overflow["billablePeriod"] = value;
          }
          else BillablePeriod = (Hl7.Fhir.Model.Period?)value;
          return this;
        case "created":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            CreatedElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["created"] = value;
          }
          else CreatedElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "enterer":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Enterer = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["enterer"] = value;
          }
          else Enterer = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "insurer":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Insurer = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["insurer"] = value;
          }
          else Insurer = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "provider":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Provider = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["provider"] = value;
          }
          else Provider = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "organization":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Organization = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["organization"] = value;
          }
          else Organization = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "referral":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Referral = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["referral"] = value;
          }
          else Referral = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "facility":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Facility = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["facility"] = value;
          }
          else Facility = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "claim":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Claim = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["claim"] = value;
          }
          else Claim = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "claimResponse":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            ClaimResponse = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["claimResponse"] = value;
          }
          else ClaimResponse = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "outcome":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Outcome = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["outcome"] = value;
          }
          else Outcome = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "disposition":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            DispositionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["disposition"] = value;
          }
          else DispositionElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "related":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent> or null))
          {
            Related = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>>.INSTANCE;
            Overflow["related"] = value;
          }
          else Related = (List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>?)value!;
          return this;
        case "prescription":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Prescription = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["prescription"] = value;
          }
          else Prescription = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "originalPrescription":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            OriginalPrescription = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["originalPrescription"] = value;
          }
          else OriginalPrescription = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "payee":
          if (value is not (Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent or null))
          {
            Payee = OverflowNull<Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent>.INSTANCE;
            Overflow["payee"] = value;
          }
          else Payee = (Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent?)value;
          return this;
        case "information":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent> or null))
          {
            Information = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>>.INSTANCE;
            Overflow["information"] = value;
          }
          else Information = (List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>?)value!;
          return this;
        case "careTeam":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent> or null))
          {
            CareTeam = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>>.INSTANCE;
            Overflow["careTeam"] = value;
          }
          else CareTeam = (List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>?)value!;
          return this;
        case "diagnosis":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent> or null))
          {
            Diagnosis = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>>.INSTANCE;
            Overflow["diagnosis"] = value;
          }
          else Diagnosis = (List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>?)value!;
          return this;
        case "procedure":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent> or null))
          {
            Procedure = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>>.INSTANCE;
            Overflow["procedure"] = value;
          }
          else Procedure = (List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>?)value!;
          return this;
        case "precedence":
          if (value is not (Hl7.Fhir.Model.PositiveInt or null))
          {
            PrecedenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
            Overflow["precedence"] = value;
          }
          else PrecedenceElement = (Hl7.Fhir.Model.PositiveInt?)value;
          return this;
        case "insurance":
          if (value is not (Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent or null))
          {
            Insurance = OverflowNull<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>.INSTANCE;
            Overflow["insurance"] = value;
          }
          else Insurance = (Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent?)value;
          return this;
        case "accident":
          if (value is not (Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent or null))
          {
            Accident = OverflowNull<Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent>.INSTANCE;
            Overflow["accident"] = value;
          }
          else Accident = (Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent?)value;
          return this;
        case "employmentImpacted":
          if (value is not (Hl7.Fhir.Model.Period or null))
          {
            EmploymentImpacted = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
            Overflow["employmentImpacted"] = value;
          }
          else EmploymentImpacted = (Hl7.Fhir.Model.Period?)value;
          return this;
        case "hospitalization":
          if (value is not (Hl7.Fhir.Model.Period or null))
          {
            Hospitalization = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
            Overflow["hospitalization"] = value;
          }
          else Hospitalization = (Hl7.Fhir.Model.Period?)value;
          return this;
        case "item":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent> or null))
          {
            Item = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>>.INSTANCE;
            Overflow["item"] = value;
          }
          else Item = (List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>?)value!;
          return this;
        case "addItem":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent> or null))
          {
            AddItem = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>>.INSTANCE;
            Overflow["addItem"] = value;
          }
          else AddItem = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>?)value!;
          return this;
        case "totalCost":
          if (value is not (Hl7.Fhir.Model.Money or null))
          {
            TotalCost = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
            Overflow["totalCost"] = value;
          }
          else TotalCost = (Hl7.Fhir.Model.Money?)value;
          return this;
        case "unallocDeductable":
          if (value is not (Hl7.Fhir.Model.Money or null))
          {
            UnallocDeductable = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
            Overflow["unallocDeductable"] = value;
          }
          else UnallocDeductable = (Hl7.Fhir.Model.Money?)value;
          return this;
        case "totalBenefit":
          if (value is not (Hl7.Fhir.Model.Money or null))
          {
            TotalBenefit = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
            Overflow["totalBenefit"] = value;
          }
          else TotalBenefit = (Hl7.Fhir.Model.Money?)value;
          return this;
        case "payment":
          if (value is not (Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent or null))
          {
            Payment = OverflowNull<Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent>.INSTANCE;
            Overflow["payment"] = value;
          }
          else Payment = (Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent?)value;
          return this;
        case "form":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Form = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["form"] = value;
          }
          else Form = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "processNote":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent> or null))
          {
            ProcessNote = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>>.INSTANCE;
            Overflow["processNote"] = value;
          }
          else ProcessNote = (List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>?)value!;
          return this;
        case "benefitBalance":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent> or null))
          {
            BenefitBalance = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>>.INSTANCE;
            Overflow["benefitBalance"] = value;
          }
          else BenefitBalance = (List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
      if (_SubType?.Any() is true && !_SubType.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("subType",_SubType);
      if (_Patient is not null && !_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("patient",_Patient);
      if (_BillablePeriod is not null && !_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("billablePeriod",_BillablePeriod);
      if (_CreatedElement is not null && !_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("created",_CreatedElement);
      if (_Enterer is not null && !_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("enterer",_Enterer);
      if (_Insurer is not null && !_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("insurer",_Insurer);
      if (_Provider is not null && !_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("provider",_Provider);
      if (_Organization is not null && !_Organization.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("organization",_Organization);
      if (_Referral is not null && !_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("referral",_Referral);
      if (_Facility is not null && !_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("facility",_Facility);
      if (_Claim is not null && !_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("claim",_Claim);
      if (_ClaimResponse is not null && !_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("claimResponse",_ClaimResponse);
      if (_Outcome is not null && !_Outcome.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("outcome",_Outcome);
      if (_DispositionElement is not null && !_DispositionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("disposition",_DispositionElement);
      if (_Related?.Any() is true && !_Related.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>>()) yield return new KeyValuePair<string,object>("related",_Related);
      if (_Prescription is not null && !_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("prescription",_Prescription);
      if (_OriginalPrescription is not null && !_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("originalPrescription",_OriginalPrescription);
      if (_Payee is not null && !_Payee.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent>()) yield return new KeyValuePair<string,object>("payee",_Payee);
      if (_Information?.Any() is true && !_Information.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>>()) yield return new KeyValuePair<string,object>("information",_Information);
      if (_CareTeam?.Any() is true && !_CareTeam.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>>()) yield return new KeyValuePair<string,object>("careTeam",_CareTeam);
      if (_Diagnosis?.Any() is true && !_Diagnosis.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>>()) yield return new KeyValuePair<string,object>("diagnosis",_Diagnosis);
      if (_Procedure?.Any() is true && !_Procedure.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>>()) yield return new KeyValuePair<string,object>("procedure",_Procedure);
      if (_PrecedenceElement is not null && !_PrecedenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("precedence",_PrecedenceElement);
      if (_Insurance is not null && !_Insurance.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>()) yield return new KeyValuePair<string,object>("insurance",_Insurance);
      if (_Accident is not null && !_Accident.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent>()) yield return new KeyValuePair<string,object>("accident",_Accident);
      if (_EmploymentImpacted is not null && !_EmploymentImpacted.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("employmentImpacted",_EmploymentImpacted);
      if (_Hospitalization is not null && !_Hospitalization.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("hospitalization",_Hospitalization);
      if (_Item?.Any() is true && !_Item.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>>()) yield return new KeyValuePair<string,object>("item",_Item);
      if (_AddItem?.Any() is true && !_AddItem.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>>()) yield return new KeyValuePair<string,object>("addItem",_AddItem);
      if (_TotalCost is not null && !_TotalCost.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("totalCost",_TotalCost);
      if (_UnallocDeductable is not null && !_UnallocDeductable.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unallocDeductable",_UnallocDeductable);
      if (_TotalBenefit is not null && !_TotalBenefit.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("totalBenefit",_TotalBenefit);
      if (_Payment is not null && !_Payment.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent>()) yield return new KeyValuePair<string,object>("payment",_Payment);
      if (_Form is not null && !_Form.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("form",_Form);
      if (_ProcessNote?.Any() is true && !_ProcessNote.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>>()) yield return new KeyValuePair<string,object>("processNote",_ProcessNote);
      if (_BenefitBalance?.Any() is true && !_BenefitBalance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>>()) yield return new KeyValuePair<string,object>("benefitBalance",_BenefitBalance);
    }

  }

}

// end of file
