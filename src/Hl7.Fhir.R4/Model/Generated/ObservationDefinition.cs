// <auto-generated/>
// Contents of: hl7.fhir.r4.expansions@4.0.1, hl7.fhir.r4.core@4.0.1

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// Definition of an observation
  /// </summary>
  /// <remarks>
  /// Set of definitional characteristics for a kind of observation or measurement produced or consumed by an orderable health care service.
  /// An instance of this resource informs the consumer of a health-related service (such as a lab diagnostic test or panel) about how the observations used or produced by this service will look like.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("ObservationDefinition","http://hl7.org/fhir/StructureDefinition/ObservationDefinition")]
  public partial class ObservationDefinition : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>, ICoded<Hl7.Fhir.Model.CodeableConcept?>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "ObservationDefinition";

    /// <summary>
    /// Permitted data type for observation value.
    /// (url: http://hl7.org/fhir/ValueSet/permitted-data-type)
    /// (system: http://hl7.org/fhir/permitted-data-type)
    /// </summary>
    [FhirEnumeration("ObservationDataType", "http://hl7.org/fhir/ValueSet/permitted-data-type", "http://hl7.org/fhir/permitted-data-type")]
    public enum ObservationDataType
    {
      /// <summary>
      /// A measured amount.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("Quantity"), Description("Quantity")]
      Quantity,
      /// <summary>
      /// A coded concept from a reference terminology and/or text.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("CodeableConcept"), Description("CodeableConcept")]
      CodeableConcept,
      /// <summary>
      /// A sequence of Unicode characters.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("string"), Description("string")]
      String,
      /// <summary>
      /// true or false.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("boolean"), Description("boolean")]
      Boolean,
      /// <summary>
      /// A signed integer.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("integer"), Description("integer")]
      Integer,
      /// <summary>
      /// A set of values bounded by low and high.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("Range"), Description("Range")]
      Range,
      /// <summary>
      /// A ratio of two Quantity values - a numerator and a denominator.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("Ratio"), Description("Ratio")]
      Ratio,
      /// <summary>
      /// A series of measurements taken by a device.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("SampledData"), Description("SampledData")]
      SampledData,
      /// <summary>
      /// A time during the day, in the format hh:mm:ss.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("time"), Description("time")]
      Time,
      /// <summary>
      /// A date, date-time or partial date (e.g. just year or year + month) as used in human communication.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("dateTime"), Description("dateTime")]
      DateTime,
      /// <summary>
      /// A time range defined by start and end date/time.
      /// (system: http://hl7.org/fhir/permitted-data-type)
      /// </summary>
      [EnumLiteral("Period"), Description("Period")]
      Period,
    }

    /// <summary>
    /// Codes identifying the category of observation range.
    /// (url: http://hl7.org/fhir/ValueSet/observation-range-category)
    /// (system: http://hl7.org/fhir/observation-range-category)
    /// </summary>
    [FhirEnumeration("ObservationRangeCategory", "http://hl7.org/fhir/ValueSet/observation-range-category", "http://hl7.org/fhir/observation-range-category")]
    public enum ObservationRangeCategory
    {
      /// <summary>
      /// Reference (Normal) Range for Ordinal and Continuous Observations.
      /// (system: http://hl7.org/fhir/observation-range-category)
      /// </summary>
      [EnumLiteral("reference"), Description("reference range")]
      Reference,
      /// <summary>
      /// Critical Range for Ordinal and Continuous Observations.
      /// (system: http://hl7.org/fhir/observation-range-category)
      /// </summary>
      [EnumLiteral("critical"), Description("critical range")]
      Critical,
      /// <summary>
      /// Absolute Range for Ordinal and Continuous Observations. Results outside this range are not possible.
      /// (system: http://hl7.org/fhir/observation-range-category)
      /// </summary>
      [EnumLiteral("absolute"), Description("absolute range")]
      Absolute,
    }

    /// <summary>
    /// Characteristics of quantitative results
    /// </summary>
    /// <remarks>
    /// Characteristics for quantitative results of this observation.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ObservationDefinition.quantitativeDetails", IsBackboneType=true)]
    public partial class QuantitativeDetailsComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ObservationDefinition.quantitativeDetails";

      /// <summary>
      /// Customary unit for quantitative results.
      /// </summary>
      [FhirElement("customaryUnit", Order=40)]
      [Binding("ObservationUnit")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? CustomaryUnit
      {
        get
        {
          if(_CustomaryUnit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["customaryUnit"]);
          return _CustomaryUnit;
        }

        set
        {
          if (_CustomaryUnit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("customaryUnit");
          _CustomaryUnit = value;
          OnPropertyChanged("CustomaryUnit");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _CustomaryUnit;

      /// <summary>
      /// SI unit for quantitative results.
      /// </summary>
      [FhirElement("unit", Order=50)]
      [Binding("ObservationUnit")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Unit
      {
        get
        {
          if(_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["unit"]);
          return _Unit;
        }

        set
        {
          if (_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("unit");
          _Unit = value;
          OnPropertyChanged("Unit");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Unit;

      /// <summary>
      /// SI to Customary unit conversion factor.
      /// </summary>
      [FhirElement("conversionFactor", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? ConversionFactorElement
      {
        get
        {
          if(_ConversionFactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["conversionFactor"]);
          return _ConversionFactorElement;
        }

        set
        {
          if (_ConversionFactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("conversionFactor");
          _ConversionFactorElement = value;
          OnPropertyChanged("ConversionFactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _ConversionFactorElement;

      /// <summary>
      /// SI to Customary unit conversion factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? ConversionFactor
      {
        get => ConversionFactorElement?.Value;
        set
        {
          ConversionFactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("ConversionFactor");
        }
      }

      /// <summary>
      /// Decimal precision of observation quantitative results.
      /// </summary>
      [FhirElement("decimalPrecision", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Integer? DecimalPrecisionElement
      {
        get
        {
          if(_DecimalPrecisionElement.InOverflow<Hl7.Fhir.Model.Integer>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Integer), Overflow["decimalPrecision"]);
          return _DecimalPrecisionElement;
        }

        set
        {
          if (_DecimalPrecisionElement.InOverflow<Hl7.Fhir.Model.Integer>())
            Overflow.Remove("decimalPrecision");
          _DecimalPrecisionElement = value;
          OnPropertyChanged("DecimalPrecisionElement");
        }

      }

      private Hl7.Fhir.Model.Integer? _DecimalPrecisionElement;

      /// <summary>
      /// Decimal precision of observation quantitative results
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? DecimalPrecision
      {
        get => DecimalPrecisionElement?.Value;
        set
        {
          DecimalPrecisionElement = value is null ? null! : new Hl7.Fhir.Model.Integer(value);
          OnPropertyChanged("DecimalPrecision");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not QuantitativeDetailsComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_CustomaryUnit is not null) dest.CustomaryUnit = (Hl7.Fhir.Model.CodeableConcept)_CustomaryUnit.DeepCopyInternal();
        if(_Unit is not null) dest.Unit = (Hl7.Fhir.Model.CodeableConcept)_Unit.DeepCopyInternal();
        if(_ConversionFactorElement is not null) dest.ConversionFactorElement = (Hl7.Fhir.Model.FhirDecimal)_ConversionFactorElement.DeepCopyInternal();
        if(_DecimalPrecisionElement is not null) dest.DecimalPrecisionElement = (Hl7.Fhir.Model.Integer)_DecimalPrecisionElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new QuantitativeDetailsComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not QuantitativeDetailsComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_CustomaryUnit, otherT._CustomaryUnit)) return false;
        if(!comparer.Equals(_Unit, otherT._Unit)) return false;
        if(!comparer.Equals(_ConversionFactorElement, otherT._ConversionFactorElement)) return false;
        if(!comparer.Equals(_DecimalPrecisionElement, otherT._DecimalPrecisionElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "customaryUnit":
            if (_CustomaryUnit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["customaryUnit"];
              return true;
            }
            value = _CustomaryUnit;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "unit":
            if (_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["unit"];
              return true;
            }
            value = _Unit;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "conversionFactor":
            if (_ConversionFactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["conversionFactor"];
              return true;
            }
            value = _ConversionFactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "decimalPrecision":
            if (_DecimalPrecisionElement.InOverflow<Hl7.Fhir.Model.Integer>())
            {
              value = Overflow["decimalPrecision"];
              return true;
            }
            value = _DecimalPrecisionElement;
            return (value as Hl7.Fhir.Model.Integer) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "customaryUnit":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              CustomaryUnit = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["customaryUnit"] = value;
            }
            else CustomaryUnit = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "unit":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Unit = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["unit"] = value;
            }
            else Unit = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "conversionFactor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              ConversionFactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["conversionFactor"] = value;
            }
            else ConversionFactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "decimalPrecision":
            if (value is not (Hl7.Fhir.Model.Integer or null))
            {
              DecimalPrecisionElement = OverflowNull<Hl7.Fhir.Model.Integer>.INSTANCE;
              Overflow["decimalPrecision"] = value;
            }
            else DecimalPrecisionElement = (Hl7.Fhir.Model.Integer?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_CustomaryUnit is not null && !_CustomaryUnit.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("customaryUnit",_CustomaryUnit);
        if (_Unit is not null && !_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("unit",_Unit);
        if (_ConversionFactorElement is not null && !_ConversionFactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("conversionFactor",_ConversionFactorElement);
        if (_DecimalPrecisionElement is not null && !_DecimalPrecisionElement.InOverflow<Hl7.Fhir.Model.Integer>()) yield return new KeyValuePair<string,object>("decimalPrecision",_DecimalPrecisionElement);
      }

    }

    /// <summary>
    /// Qualified range for continuous and ordinal observation results
    /// </summary>
    /// <remarks>
    /// Multiple  ranges of results qualified by different contexts for ordinal or continuous observations conforming to this ObservationDefinition.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ObservationDefinition.qualifiedInterval", IsBackboneType=true)]
    public partial class QualifiedIntervalComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ObservationDefinition.qualifiedInterval";

      /// <summary>
      /// reference | critical | absolute.
      /// </summary>
      [FhirElement("category", Order=40)]
      [Binding("ObservationRangeCategory")]
      [DataMember]
      public Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>? CategoryElement
      {
        get
        {
          if(_CategoryElement.InOverflow<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>), Overflow["category"]);
          return _CategoryElement;
        }

        set
        {
          if (_CategoryElement.InOverflow<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>>())
            Overflow.Remove("category");
          _CategoryElement = value;
          OnPropertyChanged("CategoryElement");
        }

      }

      private Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>? _CategoryElement;

      /// <summary>
      /// reference | critical | absolute
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory? Category
      {
        get => CategoryElement?.Value;
        set
        {
          CategoryElement = value is null ? null! : new Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>(value);
          OnPropertyChanged("Category");
        }
      }

      /// <summary>
      /// The interval itself, for continuous or ordinal observations.
      /// </summary>
      [FhirElement("range", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Range? Range
      {
        get
        {
          if(_Range.InOverflow<Hl7.Fhir.Model.Range>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Range), Overflow["range"]);
          return _Range;
        }

        set
        {
          if (_Range.InOverflow<Hl7.Fhir.Model.Range>())
            Overflow.Remove("range");
          _Range = value;
          OnPropertyChanged("Range");
        }

      }

      private Hl7.Fhir.Model.Range? _Range;

      /// <summary>
      /// Range context qualifier.
      /// </summary>
      [FhirElement("context", Order=60)]
      [Binding("ObservationRangeMeaning")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Context
      {
        get
        {
          if(_Context.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["context"]);
          return _Context;
        }

        set
        {
          if (_Context.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("context");
          _Context = value;
          OnPropertyChanged("Context");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Context;

      /// <summary>
      /// Targetted population of the range.
      /// </summary>
      [FhirElement("appliesTo", Order=70)]
      [Binding("ObservationRangeAppliesTo")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> AppliesTo
      {
        get
        {
          if(_AppliesTo.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["appliesTo"]);
          return _AppliesTo ??= [];
        }

        set
        {
          if (_AppliesTo.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("appliesTo");
          _AppliesTo = value;
          OnPropertyChanged("AppliesTo");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _AppliesTo;

      /// <summary>
      /// male | female | other | unknown.
      /// </summary>
      [FhirElement("gender", Order=80)]
      [Binding("AdministrativeGender")]
      [DataMember]
      public Code<Hl7.Fhir.Model.AdministrativeGender>? GenderElement
      {
        get
        {
          if(_GenderElement.InOverflow<Code<Hl7.Fhir.Model.AdministrativeGender>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.AdministrativeGender>), Overflow["gender"]);
          return _GenderElement;
        }

        set
        {
          if (_GenderElement.InOverflow<Code<Hl7.Fhir.Model.AdministrativeGender>>())
            Overflow.Remove("gender");
          _GenderElement = value;
          OnPropertyChanged("GenderElement");
        }

      }

      private Code<Hl7.Fhir.Model.AdministrativeGender>? _GenderElement;

      /// <summary>
      /// male | female | other | unknown
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.AdministrativeGender? Gender
      {
        get => GenderElement?.Value;
        set
        {
          GenderElement = value is null ? null! : new Code<Hl7.Fhir.Model.AdministrativeGender>(value);
          OnPropertyChanged("Gender");
        }
      }

      /// <summary>
      /// Applicable age range, if relevant.
      /// </summary>
      [FhirElement("age", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.Range? Age
      {
        get
        {
          if(_Age.InOverflow<Hl7.Fhir.Model.Range>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Range), Overflow["age"]);
          return _Age;
        }

        set
        {
          if (_Age.InOverflow<Hl7.Fhir.Model.Range>())
            Overflow.Remove("age");
          _Age = value;
          OnPropertyChanged("Age");
        }

      }

      private Hl7.Fhir.Model.Range? _Age;

      /// <summary>
      /// Applicable gestational age range, if relevant.
      /// </summary>
      [FhirElement("gestationalAge", Order=100)]
      [DataMember]
      public Hl7.Fhir.Model.Range? GestationalAge
      {
        get
        {
          if(_GestationalAge.InOverflow<Hl7.Fhir.Model.Range>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Range), Overflow["gestationalAge"]);
          return _GestationalAge;
        }

        set
        {
          if (_GestationalAge.InOverflow<Hl7.Fhir.Model.Range>())
            Overflow.Remove("gestationalAge");
          _GestationalAge = value;
          OnPropertyChanged("GestationalAge");
        }

      }

      private Hl7.Fhir.Model.Range? _GestationalAge;

      /// <summary>
      /// Condition associated with the reference range.
      /// </summary>
      [FhirElement("condition", Order=110)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ConditionElement
      {
        get
        {
          if(_ConditionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["condition"]);
          return _ConditionElement;
        }

        set
        {
          if (_ConditionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("condition");
          _ConditionElement = value;
          OnPropertyChanged("ConditionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ConditionElement;

      /// <summary>
      /// Condition associated with the reference range
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Condition
      {
        get => ConditionElement?.Value;
        set
        {
          ConditionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Condition");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not QualifiedIntervalComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_CategoryElement is not null) dest.CategoryElement = (Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>)_CategoryElement.DeepCopyInternal();
        if(_Range is not null) dest.Range = (Hl7.Fhir.Model.Range)_Range.DeepCopyInternal();
        if(_Context is not null) dest.Context = (Hl7.Fhir.Model.CodeableConcept)_Context.DeepCopyInternal();
        if(_AppliesTo is not null) dest.AppliesTo = new List<Hl7.Fhir.Model.CodeableConcept>(_AppliesTo.DeepCopyInternal());
        if(_GenderElement is not null) dest.GenderElement = (Code<Hl7.Fhir.Model.AdministrativeGender>)_GenderElement.DeepCopyInternal();
        if(_Age is not null) dest.Age = (Hl7.Fhir.Model.Range)_Age.DeepCopyInternal();
        if(_GestationalAge is not null) dest.GestationalAge = (Hl7.Fhir.Model.Range)_GestationalAge.DeepCopyInternal();
        if(_ConditionElement is not null) dest.ConditionElement = (Hl7.Fhir.Model.FhirString)_ConditionElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new QualifiedIntervalComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not QualifiedIntervalComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_CategoryElement, otherT._CategoryElement)) return false;
        if(!comparer.Equals(_Range, otherT._Range)) return false;
        if(!comparer.Equals(_Context, otherT._Context)) return false;
        if(!comparer.ListEquals(_AppliesTo, otherT._AppliesTo)) return false;
        if(!comparer.Equals(_GenderElement, otherT._GenderElement)) return false;
        if(!comparer.Equals(_Age, otherT._Age)) return false;
        if(!comparer.Equals(_GestationalAge, otherT._GestationalAge)) return false;
        if(!comparer.Equals(_ConditionElement, otherT._ConditionElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "category":
            if (_CategoryElement.InOverflow<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _CategoryElement;
            return (value as Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>) is not null;
          case "range":
            if (_Range.InOverflow<Hl7.Fhir.Model.Range>())
            {
              value = Overflow["range"];
              return true;
            }
            value = _Range;
            return (value as Hl7.Fhir.Model.Range) is not null;
          case "context":
            if (_Context.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["context"];
              return true;
            }
            value = _Context;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "appliesTo":
            if (_AppliesTo.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["appliesTo"];
              return true;
            }
            value = _AppliesTo;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "gender":
            if (_GenderElement.InOverflow<Code<Hl7.Fhir.Model.AdministrativeGender>>())
            {
              value = Overflow["gender"];
              return true;
            }
            value = _GenderElement;
            return (value as Code<Hl7.Fhir.Model.AdministrativeGender>) is not null;
          case "age":
            if (_Age.InOverflow<Hl7.Fhir.Model.Range>())
            {
              value = Overflow["age"];
              return true;
            }
            value = _Age;
            return (value as Hl7.Fhir.Model.Range) is not null;
          case "gestationalAge":
            if (_GestationalAge.InOverflow<Hl7.Fhir.Model.Range>())
            {
              value = Overflow["gestationalAge"];
              return true;
            }
            value = _GestationalAge;
            return (value as Hl7.Fhir.Model.Range) is not null;
          case "condition":
            if (_ConditionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["condition"];
              return true;
            }
            value = _ConditionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "category":
            if (value is not (Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory> or null))
            {
              CategoryElement = OverflowNull<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>>.INSTANCE;
              Overflow["category"] = value;
            }
            else CategoryElement = (Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>?)value;
            return this;
          case "range":
            if (value is not (Hl7.Fhir.Model.Range or null))
            {
              Range = OverflowNull<Hl7.Fhir.Model.Range>.INSTANCE;
              Overflow["range"] = value;
            }
            else Range = (Hl7.Fhir.Model.Range?)value;
            return this;
          case "context":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Context = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["context"] = value;
            }
            else Context = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "appliesTo":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              AppliesTo = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["appliesTo"] = value;
            }
            else AppliesTo = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "gender":
            if (value is not (Code<Hl7.Fhir.Model.AdministrativeGender> or null))
            {
              GenderElement = OverflowNull<Code<Hl7.Fhir.Model.AdministrativeGender>>.INSTANCE;
              Overflow["gender"] = value;
            }
            else GenderElement = (Code<Hl7.Fhir.Model.AdministrativeGender>?)value;
            return this;
          case "age":
            if (value is not (Hl7.Fhir.Model.Range or null))
            {
              Age = OverflowNull<Hl7.Fhir.Model.Range>.INSTANCE;
              Overflow["age"] = value;
            }
            else Age = (Hl7.Fhir.Model.Range?)value;
            return this;
          case "gestationalAge":
            if (value is not (Hl7.Fhir.Model.Range or null))
            {
              GestationalAge = OverflowNull<Hl7.Fhir.Model.Range>.INSTANCE;
              Overflow["gestationalAge"] = value;
            }
            else GestationalAge = (Hl7.Fhir.Model.Range?)value;
            return this;
          case "condition":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ConditionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["condition"] = value;
            }
            else ConditionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_CategoryElement is not null && !_CategoryElement.InOverflow<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationRangeCategory>>()) yield return new KeyValuePair<string,object>("category",_CategoryElement);
        if (_Range is not null && !_Range.InOverflow<Hl7.Fhir.Model.Range>()) yield return new KeyValuePair<string,object>("range",_Range);
        if (_Context is not null && !_Context.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("context",_Context);
        if (_AppliesTo?.Any() is true && !_AppliesTo.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("appliesTo",_AppliesTo);
        if (_GenderElement is not null && !_GenderElement.InOverflow<Code<Hl7.Fhir.Model.AdministrativeGender>>()) yield return new KeyValuePair<string,object>("gender",_GenderElement);
        if (_Age is not null && !_Age.InOverflow<Hl7.Fhir.Model.Range>()) yield return new KeyValuePair<string,object>("age",_Age);
        if (_GestationalAge is not null && !_GestationalAge.InOverflow<Hl7.Fhir.Model.Range>()) yield return new KeyValuePair<string,object>("gestationalAge",_GestationalAge);
        if (_ConditionElement is not null && !_ConditionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("condition",_ConditionElement);
      }

    }

    /// <summary>
    /// Category of observation.
    /// </summary>
    [FhirElement("category", InSummary=true, Order=90, FiveWs="FiveWs.class")]
    [Binding("ObservationCategory")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Category
    {
      get
      {
        if(_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["category"]);
        return _Category ??= [];
      }

      set
      {
        if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("category");
        _Category = value;
        OnPropertyChanged("Category");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Category;

    /// <summary>
    /// Type of observation (code / type).
    /// </summary>
    [FhirElement("code", InSummary=true, Order=100, FiveWs="FiveWs.what[x]")]
    [Binding("ObservationCode")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept Code
    {
      get
      {
        if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
        return _Code!;
      }

      set
      {
        if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("code");
        _Code = value;
        OnPropertyChanged("Code");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Code;

    /// <summary>
    /// Business identifier for this ObservationDefinition instance.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=110)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// Quantity | CodeableConcept | string | boolean | integer | Range | Ratio | SampledData | time | dateTime | Period.
    /// </summary>
    [FhirElement("permittedDataType", Order=120)]
    [Binding("ObservationDataType")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>> PermittedDataTypeElement
    {
      get
      {
        if(_PermittedDataTypeElement.InOverflow<List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>>())
          throw CodedValidationException.FromTypes(typeof(List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>), Overflow["permittedDataType"]);
        return _PermittedDataTypeElement ??= [];
      }

      set
      {
        if (_PermittedDataTypeElement.InOverflow<List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>>())
          Overflow.Remove("permittedDataType");
        _PermittedDataTypeElement = value;
        OnPropertyChanged("PermittedDataTypeElement");
      }

    }

    private List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>? _PermittedDataTypeElement;

    /// <summary>
    /// Quantity | CodeableConcept | string | boolean | integer | Range | Ratio | SampledData | time | dateTime | Period
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public IEnumerable<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType?> PermittedDataType
    {
      get => _PermittedDataTypeElement?.Select(elem => elem.Value) ?? [];
      set
      {
        if (value == null)
          PermittedDataTypeElement = null!;
        else
          PermittedDataTypeElement = new List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>(value.Select(elem=>new Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>(elem)));
        OnPropertyChanged("PermittedDataType");
      }
    }

    /// <summary>
    /// Multiple results allowed.
    /// </summary>
    [FhirElement("multipleResultsAllowed", Order=130)]
    [DataMember]
    public Hl7.Fhir.Model.FhirBoolean? MultipleResultsAllowedElement
    {
      get
      {
        if(_MultipleResultsAllowedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["multipleResultsAllowed"]);
        return _MultipleResultsAllowedElement;
      }

      set
      {
        if (_MultipleResultsAllowedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          Overflow.Remove("multipleResultsAllowed");
        _MultipleResultsAllowedElement = value;
        OnPropertyChanged("MultipleResultsAllowedElement");
      }

    }

    private Hl7.Fhir.Model.FhirBoolean? _MultipleResultsAllowedElement;

    /// <summary>
    /// Multiple results allowed
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public bool? MultipleResultsAllowed
    {
      get => MultipleResultsAllowedElement?.Value;
      set
      {
        MultipleResultsAllowedElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
        OnPropertyChanged("MultipleResultsAllowed");
      }
    }

    /// <summary>
    /// Method used to produce the observation.
    /// </summary>
    [FhirElement("method", Order=140)]
    [Binding("ObservationMethod")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Method
    {
      get
      {
        if(_Method.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["method"]);
        return _Method;
      }

      set
      {
        if (_Method.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("method");
        _Method = value;
        OnPropertyChanged("Method");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Method;

    /// <summary>
    /// Preferred report name.
    /// </summary>
    [FhirElement("preferredReportName", Order=150)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? PreferredReportNameElement
    {
      get
      {
        if(_PreferredReportNameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["preferredReportName"]);
        return _PreferredReportNameElement;
      }

      set
      {
        if (_PreferredReportNameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("preferredReportName");
        _PreferredReportNameElement = value;
        OnPropertyChanged("PreferredReportNameElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _PreferredReportNameElement;

    /// <summary>
    /// Preferred report name
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? PreferredReportName
    {
      get => PreferredReportNameElement?.Value;
      set
      {
        PreferredReportNameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("PreferredReportName");
      }
    }

    /// <summary>
    /// Characteristics of quantitative results.
    /// </summary>
    [FhirElement("quantitativeDetails", Order=160)]
    [DataMember]
    public Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent? QuantitativeDetails
    {
      get
      {
        if(_QuantitativeDetails.InOverflow<Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent), Overflow["quantitativeDetails"]);
        return _QuantitativeDetails;
      }

      set
      {
        if (_QuantitativeDetails.InOverflow<Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent>())
          Overflow.Remove("quantitativeDetails");
        _QuantitativeDetails = value;
        OnPropertyChanged("QuantitativeDetails");
      }

    }

    private Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent? _QuantitativeDetails;

    /// <summary>
    /// Qualified range for continuous and ordinal observation results.
    /// </summary>
    [FhirElement("qualifiedInterval", Order=170)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent> QualifiedInterval
    {
      get
      {
        if(_QualifiedInterval.InOverflow<List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent>), Overflow["qualifiedInterval"]);
        return _QualifiedInterval ??= [];
      }

      set
      {
        if (_QualifiedInterval.InOverflow<List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent>>())
          Overflow.Remove("qualifiedInterval");
        _QualifiedInterval = value;
        OnPropertyChanged("QualifiedInterval");
      }

    }

    private List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent>? _QualifiedInterval;

    /// <summary>
    /// Value set of valid coded values for the observations conforming to this ObservationDefinition.
    /// </summary>
    [FhirElement("validCodedValueSet", Order=180)]
    [CLSCompliant(false)]
    [References("ValueSet")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? ValidCodedValueSet
    {
      get
      {
        if(_ValidCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["validCodedValueSet"]);
        return _ValidCodedValueSet;
      }

      set
      {
        if (_ValidCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("validCodedValueSet");
        _ValidCodedValueSet = value;
        OnPropertyChanged("ValidCodedValueSet");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _ValidCodedValueSet;

    /// <summary>
    /// Value set of normal coded values for the observations conforming to this ObservationDefinition.
    /// </summary>
    [FhirElement("normalCodedValueSet", Order=190)]
    [CLSCompliant(false)]
    [References("ValueSet")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? NormalCodedValueSet
    {
      get
      {
        if(_NormalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["normalCodedValueSet"]);
        return _NormalCodedValueSet;
      }

      set
      {
        if (_NormalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("normalCodedValueSet");
        _NormalCodedValueSet = value;
        OnPropertyChanged("NormalCodedValueSet");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _NormalCodedValueSet;

    /// <summary>
    /// Value set of abnormal coded values for the observations conforming to this ObservationDefinition.
    /// </summary>
    [FhirElement("abnormalCodedValueSet", Order=200)]
    [CLSCompliant(false)]
    [References("ValueSet")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? AbnormalCodedValueSet
    {
      get
      {
        if(_AbnormalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["abnormalCodedValueSet"]);
        return _AbnormalCodedValueSet;
      }

      set
      {
        if (_AbnormalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("abnormalCodedValueSet");
        _AbnormalCodedValueSet = value;
        OnPropertyChanged("AbnormalCodedValueSet");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _AbnormalCodedValueSet;

    /// <summary>
    /// Value set of critical coded values for the observations conforming to this ObservationDefinition.
    /// </summary>
    [FhirElement("criticalCodedValueSet", Order=210)]
    [CLSCompliant(false)]
    [References("ValueSet")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? CriticalCodedValueSet
    {
      get
      {
        if(_CriticalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["criticalCodedValueSet"]);
        return _CriticalCodedValueSet;
      }

      set
      {
        if (_CriticalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("criticalCodedValueSet");
        _CriticalCodedValueSet = value;
        OnPropertyChanged("CriticalCodedValueSet");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _CriticalCodedValueSet;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    Hl7.Fhir.Model.CodeableConcept? ICoded<Hl7.Fhir.Model.CodeableConcept?>.Code { get => Code; set => Code = value!; }
    IReadOnlyCollection<Coding> ICoded.ToCodings() => Code?.ToCodings() ?? [];

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not ObservationDefinition dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Category is not null) dest.Category = new List<Hl7.Fhir.Model.CodeableConcept>(_Category.DeepCopyInternal());
      if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_PermittedDataTypeElement is not null) dest.PermittedDataTypeElement = new List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>(_PermittedDataTypeElement.DeepCopyInternal());
      if(_MultipleResultsAllowedElement is not null) dest.MultipleResultsAllowedElement = (Hl7.Fhir.Model.FhirBoolean)_MultipleResultsAllowedElement.DeepCopyInternal();
      if(_Method is not null) dest.Method = (Hl7.Fhir.Model.CodeableConcept)_Method.DeepCopyInternal();
      if(_PreferredReportNameElement is not null) dest.PreferredReportNameElement = (Hl7.Fhir.Model.FhirString)_PreferredReportNameElement.DeepCopyInternal();
      if(_QuantitativeDetails is not null) dest.QuantitativeDetails = (Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent)_QuantitativeDetails.DeepCopyInternal();
      if(_QualifiedInterval is not null) dest.QualifiedInterval = new List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent>(_QualifiedInterval.DeepCopyInternal());
      if(_ValidCodedValueSet is not null) dest.ValidCodedValueSet = (Hl7.Fhir.Model.ResourceReference)_ValidCodedValueSet.DeepCopyInternal();
      if(_NormalCodedValueSet is not null) dest.NormalCodedValueSet = (Hl7.Fhir.Model.ResourceReference)_NormalCodedValueSet.DeepCopyInternal();
      if(_AbnormalCodedValueSet is not null) dest.AbnormalCodedValueSet = (Hl7.Fhir.Model.ResourceReference)_AbnormalCodedValueSet.DeepCopyInternal();
      if(_CriticalCodedValueSet is not null) dest.CriticalCodedValueSet = (Hl7.Fhir.Model.ResourceReference)_CriticalCodedValueSet.DeepCopyInternal();
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new ObservationDefinition();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not ObservationDefinition otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Category, otherT._Category)) return false;
      if(!comparer.Equals(_Code, otherT._Code)) return false;
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.ListEquals(_PermittedDataTypeElement, otherT._PermittedDataTypeElement)) return false;
      if(!comparer.Equals(_MultipleResultsAllowedElement, otherT._MultipleResultsAllowedElement)) return false;
      if(!comparer.Equals(_Method, otherT._Method)) return false;
      if(!comparer.Equals(_PreferredReportNameElement, otherT._PreferredReportNameElement)) return false;
      if(!comparer.Equals(_QuantitativeDetails, otherT._QuantitativeDetails)) return false;
      if(!comparer.ListEquals(_QualifiedInterval, otherT._QualifiedInterval)) return false;
      if(!comparer.Equals(_ValidCodedValueSet, otherT._ValidCodedValueSet)) return false;
      if(!comparer.Equals(_NormalCodedValueSet, otherT._NormalCodedValueSet)) return false;
      if(!comparer.Equals(_AbnormalCodedValueSet, otherT._AbnormalCodedValueSet)) return false;
      if(!comparer.Equals(_CriticalCodedValueSet, otherT._CriticalCodedValueSet)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "category":
          if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["category"];
            return true;
          }
          value = _Category;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "code":
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["code"];
            return true;
          }
          value = _Code;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "permittedDataType":
          if (_PermittedDataTypeElement.InOverflow<List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>>())
          {
            value = Overflow["permittedDataType"];
            return true;
          }
          value = _PermittedDataTypeElement;
          return (value as List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>)?.Any() is true;
        case "multipleResultsAllowed":
          if (_MultipleResultsAllowedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          {
            value = Overflow["multipleResultsAllowed"];
            return true;
          }
          value = _MultipleResultsAllowedElement;
          return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
        case "method":
          if (_Method.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["method"];
            return true;
          }
          value = _Method;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "preferredReportName":
          if (_PreferredReportNameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["preferredReportName"];
            return true;
          }
          value = _PreferredReportNameElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "quantitativeDetails":
          if (_QuantitativeDetails.InOverflow<Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent>())
          {
            value = Overflow["quantitativeDetails"];
            return true;
          }
          value = _QuantitativeDetails;
          return (value as Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent) is not null;
        case "qualifiedInterval":
          if (_QualifiedInterval.InOverflow<List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent>>())
          {
            value = Overflow["qualifiedInterval"];
            return true;
          }
          value = _QualifiedInterval;
          return (value as List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent>)?.Any() is true;
        case "validCodedValueSet":
          if (_ValidCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["validCodedValueSet"];
            return true;
          }
          value = _ValidCodedValueSet;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "normalCodedValueSet":
          if (_NormalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["normalCodedValueSet"];
            return true;
          }
          value = _NormalCodedValueSet;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "abnormalCodedValueSet":
          if (_AbnormalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["abnormalCodedValueSet"];
            return true;
          }
          value = _AbnormalCodedValueSet;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "criticalCodedValueSet":
          if (_CriticalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["criticalCodedValueSet"];
            return true;
          }
          value = _CriticalCodedValueSet;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "category":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Category = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["category"] = value;
          }
          else Category = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "code":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["code"] = value;
          }
          else Code = (Hl7.Fhir.Model.CodeableConcept?)value!;
          return this;
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "permittedDataType":
          if (value is not (List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>> or null))
          {
            PermittedDataTypeElement = OverflowNull<List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>>.INSTANCE;
            Overflow["permittedDataType"] = value;
          }
          else PermittedDataTypeElement = (List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>?)value!;
          return this;
        case "multipleResultsAllowed":
          if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
          {
            MultipleResultsAllowedElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
            Overflow["multipleResultsAllowed"] = value;
          }
          else MultipleResultsAllowedElement = (Hl7.Fhir.Model.FhirBoolean?)value;
          return this;
        case "method":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Method = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["method"] = value;
          }
          else Method = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "preferredReportName":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            PreferredReportNameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["preferredReportName"] = value;
          }
          else PreferredReportNameElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "quantitativeDetails":
          if (value is not (Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent or null))
          {
            QuantitativeDetails = OverflowNull<Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent>.INSTANCE;
            Overflow["quantitativeDetails"] = value;
          }
          else QuantitativeDetails = (Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent?)value;
          return this;
        case "qualifiedInterval":
          if (value is not (List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent> or null))
          {
            QualifiedInterval = OverflowNull<List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent>>.INSTANCE;
            Overflow["qualifiedInterval"] = value;
          }
          else QualifiedInterval = (List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent>?)value!;
          return this;
        case "validCodedValueSet":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            ValidCodedValueSet = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["validCodedValueSet"] = value;
          }
          else ValidCodedValueSet = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "normalCodedValueSet":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            NormalCodedValueSet = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["normalCodedValueSet"] = value;
          }
          else NormalCodedValueSet = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "abnormalCodedValueSet":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            AbnormalCodedValueSet = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["abnormalCodedValueSet"] = value;
          }
          else AbnormalCodedValueSet = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "criticalCodedValueSet":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            CriticalCodedValueSet = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["criticalCodedValueSet"] = value;
          }
          else CriticalCodedValueSet = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Category?.Any() is true && !_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("category",_Category);
      if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_PermittedDataTypeElement?.Any() is true && !_PermittedDataTypeElement.InOverflow<List<Code<Hl7.Fhir.Model.ObservationDefinition.ObservationDataType>>>()) yield return new KeyValuePair<string,object>("permittedDataType",_PermittedDataTypeElement);
      if (_MultipleResultsAllowedElement is not null && !_MultipleResultsAllowedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("multipleResultsAllowed",_MultipleResultsAllowedElement);
      if (_Method is not null && !_Method.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("method",_Method);
      if (_PreferredReportNameElement is not null && !_PreferredReportNameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("preferredReportName",_PreferredReportNameElement);
      if (_QuantitativeDetails is not null && !_QuantitativeDetails.InOverflow<Hl7.Fhir.Model.ObservationDefinition.QuantitativeDetailsComponent>()) yield return new KeyValuePair<string,object>("quantitativeDetails",_QuantitativeDetails);
      if (_QualifiedInterval?.Any() is true && !_QualifiedInterval.InOverflow<List<Hl7.Fhir.Model.ObservationDefinition.QualifiedIntervalComponent>>()) yield return new KeyValuePair<string,object>("qualifiedInterval",_QualifiedInterval);
      if (_ValidCodedValueSet is not null && !_ValidCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("validCodedValueSet",_ValidCodedValueSet);
      if (_NormalCodedValueSet is not null && !_NormalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("normalCodedValueSet",_NormalCodedValueSet);
      if (_AbnormalCodedValueSet is not null && !_AbnormalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("abnormalCodedValueSet",_AbnormalCodedValueSet);
      if (_CriticalCodedValueSet is not null && !_CriticalCodedValueSet.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("criticalCodedValueSet",_CriticalCodedValueSet);
    }

  }

}

// end of file
