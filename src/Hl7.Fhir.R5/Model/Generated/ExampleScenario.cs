// <auto-generated/>
// Contents of: hl7.fhir.r5.expansions@5.0.0, hl7.fhir.r5.core@5.0.0

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// Example of workflow instance
  /// </summary>
  [Serializable]
  [DataContract]
  [FhirType("ExampleScenario","http://hl7.org/fhir/StructureDefinition/ExampleScenario")]
  public partial class ExampleScenario : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "ExampleScenario";

    /// <summary>
    /// Individual involved in exchange
    /// </summary>
    /// <remarks>
    /// A system or person who shares or receives an instance within the scenario.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.actor", IsBackboneType=true)]
    public partial class ActorComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.actor";

      /// <summary>
      /// ID or acronym of the actor.
      /// </summary>
      [FhirElement("key", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString KeyElement
      {
        get
        {
          if(_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["key"]);
          return _KeyElement!;
        }

        set
        {
          if (_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("key");
          _KeyElement = value;
          OnPropertyChanged("KeyElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _KeyElement;

      /// <summary>
      /// ID or acronym of the actor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Key
      {
        get => KeyElement?.Value;
        set
        {
          KeyElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Key");
        }
      }

      /// <summary>
      /// person | system.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("ExampleScenarioActorType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.ExampleScenarioActorType> TypeElement
      {
        get
        {
          if(_TypeElement.InOverflow<Code<Hl7.Fhir.Model.ExampleScenarioActorType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ExampleScenarioActorType>), Overflow["type"]);
          return _TypeElement!;
        }

        set
        {
          if (_TypeElement.InOverflow<Code<Hl7.Fhir.Model.ExampleScenarioActorType>>())
            Overflow.Remove("type");
          _TypeElement = value;
          OnPropertyChanged("TypeElement");
        }

      }

      private Code<Hl7.Fhir.Model.ExampleScenarioActorType>? _TypeElement;

      /// <summary>
      /// person | system
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.ExampleScenarioActorType? Type
      {
        get => TypeElement?.Value;
        set
        {
          TypeElement = value is null ? null! : new Code<Hl7.Fhir.Model.ExampleScenarioActorType>(value);
          OnPropertyChanged("Type");
        }
      }

      /// <summary>
      /// Label for actor when rendering.
      /// </summary>
      [FhirElement("title", Order=60)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString TitleElement
      {
        get
        {
          if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
          return _TitleElement!;
        }

        set
        {
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("title");
          _TitleElement = value;
          OnPropertyChanged("TitleElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TitleElement;

      /// <summary>
      /// Label for actor when rendering
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Title
      {
        get => TitleElement?.Value;
        set
        {
          TitleElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Title");
        }
      }

      /// <summary>
      /// Details about actor.
      /// </summary>
      [FhirElement("description", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// Details about actor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ActorComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_KeyElement is not null) dest.KeyElement = (Hl7.Fhir.Model.FhirString)_KeyElement.DeepCopyInternal();
        if(_TypeElement is not null) dest.TypeElement = (Code<Hl7.Fhir.Model.ExampleScenarioActorType>)_TypeElement.DeepCopyInternal();
        if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ActorComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ActorComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_KeyElement, otherT._KeyElement)) return false;
        if(!comparer.Equals(_TypeElement, otherT._TypeElement)) return false;
        if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "key":
            if (_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["key"];
              return true;
            }
            value = _KeyElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "type":
            if (_TypeElement.InOverflow<Code<Hl7.Fhir.Model.ExampleScenarioActorType>>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _TypeElement;
            return (value as Code<Hl7.Fhir.Model.ExampleScenarioActorType>) is not null;
          case "title":
            if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["title"];
              return true;
            }
            value = _TitleElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "key":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              KeyElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["key"] = value;
            }
            else KeyElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "type":
            if (value is not (Code<Hl7.Fhir.Model.ExampleScenarioActorType> or null))
            {
              TypeElement = OverflowNull<Code<Hl7.Fhir.Model.ExampleScenarioActorType>>.INSTANCE;
              Overflow["type"] = value;
            }
            else TypeElement = (Code<Hl7.Fhir.Model.ExampleScenarioActorType>?)value!;
            return this;
          case "title":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["title"] = value;
            }
            else TitleElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_KeyElement is not null && !_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("key",_KeyElement);
        if (_TypeElement is not null && !_TypeElement.InOverflow<Code<Hl7.Fhir.Model.ExampleScenarioActorType>>()) yield return new KeyValuePair<string,object>("type",_TypeElement);
        if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      }

    }

    /// <summary>
    /// Data used in the scenario
    /// </summary>
    /// <remarks>
    /// A single data collection that is shared as part of the scenario.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.instance", IsBackboneType=true)]
    public partial class InstanceComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.instance";

      /// <summary>
      /// ID or acronym of the instance.
      /// </summary>
      [FhirElement("key", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString KeyElement
      {
        get
        {
          if(_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["key"]);
          return _KeyElement!;
        }

        set
        {
          if (_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("key");
          _KeyElement = value;
          OnPropertyChanged("KeyElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _KeyElement;

      /// <summary>
      /// ID or acronym of the instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Key
      {
        get => KeyElement?.Value;
        set
        {
          KeyElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Key");
        }
      }

      /// <summary>
      /// Data structure for example.
      /// </summary>
      [FhirElement("structureType", Order=50)]
      [Binding("InstanceType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Coding StructureType
      {
        get
        {
          if(_StructureType.InOverflow<Hl7.Fhir.Model.Coding>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Coding), Overflow["structureType"]);
          return _StructureType!;
        }

        set
        {
          if (_StructureType.InOverflow<Hl7.Fhir.Model.Coding>())
            Overflow.Remove("structureType");
          _StructureType = value;
          OnPropertyChanged("StructureType");
        }

      }

      private Hl7.Fhir.Model.Coding? _StructureType;

      /// <summary>
      /// E.g. 4.0.1.
      /// </summary>
      [FhirElement("structureVersion", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? StructureVersionElement
      {
        get
        {
          if(_StructureVersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["structureVersion"]);
          return _StructureVersionElement;
        }

        set
        {
          if (_StructureVersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("structureVersion");
          _StructureVersionElement = value;
          OnPropertyChanged("StructureVersionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _StructureVersionElement;

      /// <summary>
      /// E.g. 4.0.1
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? StructureVersion
      {
        get => StructureVersionElement?.Value;
        set
        {
          StructureVersionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("StructureVersion");
        }
      }

      /// <summary>
      /// Rules instance adheres to.
      /// </summary>
      [FhirElement("structureProfile", Order=70, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Canonical),typeof(Hl7.Fhir.Model.FhirUri))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? StructureProfile
      {
        get
        {
          if(_StructureProfile.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["structureProfile"]);
          return _StructureProfile;
        }

        set
        {
          if (_StructureProfile.InOverflow<DynamicDataType>())
            Overflow.Remove("structureProfile");
          _StructureProfile = value;
          OnPropertyChanged("StructureProfile");
        }

      }

      private Hl7.Fhir.Model.DataType? _StructureProfile;

      /// <summary>
      /// Label for instance.
      /// </summary>
      [FhirElement("title", Order=80)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString TitleElement
      {
        get
        {
          if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
          return _TitleElement!;
        }

        set
        {
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("title");
          _TitleElement = value;
          OnPropertyChanged("TitleElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TitleElement;

      /// <summary>
      /// Label for instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Title
      {
        get => TitleElement?.Value;
        set
        {
          TitleElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Title");
        }
      }

      /// <summary>
      /// Human-friendly description of the instance.
      /// </summary>
      [FhirElement("description", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// Human-friendly description of the instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// Example instance data.
      /// </summary>
      [FhirElement("content", Order=100)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Content
      {
        get
        {
          if(_Content.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["content"]);
          return _Content;
        }

        set
        {
          if (_Content.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("content");
          _Content = value;
          OnPropertyChanged("Content");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Content;

      /// <summary>
      /// Snapshot of instance that changes.
      /// </summary>
      [FhirElement("version", Order=110)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.VersionComponent> Version
      {
        get
        {
          if(_Version.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>), Overflow["version"]);
          return _Version ??= [];
        }

        set
        {
          if (_Version.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>>())
            Overflow.Remove("version");
          _Version = value;
          OnPropertyChanged("Version");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>? _Version;

      /// <summary>
      /// Resources contained in the instance.
      /// </summary>
      [FhirElement("containedInstance", Order=120)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent> ContainedInstance
      {
        get
        {
          if(_ContainedInstance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>), Overflow["containedInstance"]);
          return _ContainedInstance ??= [];
        }

        set
        {
          if (_ContainedInstance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>>())
            Overflow.Remove("containedInstance");
          _ContainedInstance = value;
          OnPropertyChanged("ContainedInstance");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>? _ContainedInstance;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not InstanceComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_KeyElement is not null) dest.KeyElement = (Hl7.Fhir.Model.FhirString)_KeyElement.DeepCopyInternal();
        if(_StructureType is not null) dest.StructureType = (Hl7.Fhir.Model.Coding)_StructureType.DeepCopyInternal();
        if(_StructureVersionElement is not null) dest.StructureVersionElement = (Hl7.Fhir.Model.FhirString)_StructureVersionElement.DeepCopyInternal();
        if(_StructureProfile is not null) dest.StructureProfile = (Hl7.Fhir.Model.DataType)_StructureProfile.DeepCopyInternal();
        if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
        if(_Content is not null) dest.Content = (Hl7.Fhir.Model.ResourceReference)_Content.DeepCopyInternal();
        if(_Version is not null) dest.Version = new List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>(_Version.DeepCopyInternal());
        if(_ContainedInstance is not null) dest.ContainedInstance = new List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>(_ContainedInstance.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new InstanceComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not InstanceComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_KeyElement, otherT._KeyElement)) return false;
        if(!comparer.Equals(_StructureType, otherT._StructureType)) return false;
        if(!comparer.Equals(_StructureVersionElement, otherT._StructureVersionElement)) return false;
        if(!comparer.Equals(_StructureProfile, otherT._StructureProfile)) return false;
        if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_Content, otherT._Content)) return false;
        if(!comparer.ListEquals(_Version, otherT._Version)) return false;
        if(!comparer.ListEquals(_ContainedInstance, otherT._ContainedInstance)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "key":
            if (_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["key"];
              return true;
            }
            value = _KeyElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "structureType":
            if (_StructureType.InOverflow<Hl7.Fhir.Model.Coding>())
            {
              value = Overflow["structureType"];
              return true;
            }
            value = _StructureType;
            return (value as Hl7.Fhir.Model.Coding) is not null;
          case "structureVersion":
            if (_StructureVersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["structureVersion"];
              return true;
            }
            value = _StructureVersionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "structureProfile":
            if (_StructureProfile.InOverflow<DynamicDataType>())
            {
              value = Overflow["structureProfile"];
              return true;
            }
            value = _StructureProfile;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "title":
            if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["title"];
              return true;
            }
            value = _TitleElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "content":
            if (_Content.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["content"];
              return true;
            }
            value = _Content;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "version":
            if (_Version.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>>())
            {
              value = Overflow["version"];
              return true;
            }
            value = _Version;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>)?.Any() is true;
          case "containedInstance":
            if (_ContainedInstance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>>())
            {
              value = Overflow["containedInstance"];
              return true;
            }
            value = _ContainedInstance;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "key":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              KeyElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["key"] = value;
            }
            else KeyElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "structureType":
            if (value is not (Hl7.Fhir.Model.Coding or null))
            {
              StructureType = OverflowNull<Hl7.Fhir.Model.Coding>.INSTANCE;
              Overflow["structureType"] = value;
            }
            else StructureType = (Hl7.Fhir.Model.Coding?)value!;
            return this;
          case "structureVersion":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              StructureVersionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["structureVersion"] = value;
            }
            else StructureVersionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "structureProfile":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              StructureProfile = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["structureProfile"] = value;
            }
            else StructureProfile = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "title":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["title"] = value;
            }
            else TitleElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "content":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Content = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["content"] = value;
            }
            else Content = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          case "version":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.VersionComponent> or null))
            {
              Version = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>>.INSTANCE;
              Overflow["version"] = value;
            }
            else Version = (List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>?)value!;
            return this;
          case "containedInstance":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent> or null))
            {
              ContainedInstance = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>>.INSTANCE;
              Overflow["containedInstance"] = value;
            }
            else ContainedInstance = (List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_KeyElement is not null && !_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("key",_KeyElement);
        if (_StructureType is not null && !_StructureType.InOverflow<Hl7.Fhir.Model.Coding>()) yield return new KeyValuePair<string,object>("structureType",_StructureType);
        if (_StructureVersionElement is not null && !_StructureVersionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("structureVersion",_StructureVersionElement);
        if (_StructureProfile is not null && !_StructureProfile.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("structureProfile",_StructureProfile);
        if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_Content is not null && !_Content.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("content",_Content);
        if (_Version?.Any() is true && !_Version.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>>()) yield return new KeyValuePair<string,object>("version",_Version);
        if (_ContainedInstance?.Any() is true && !_ContainedInstance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>>()) yield return new KeyValuePair<string,object>("containedInstance",_ContainedInstance);
      }

    }

    /// <summary>
    /// Snapshot of instance that changes
    /// </summary>
    /// <remarks>
    /// Represents the instance as it was at a specific time-point.
    /// Not used if an instance doesn't change
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.instance.version", IsBackboneType=true)]
    public partial class VersionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.instance.version";

      /// <summary>
      /// ID or acronym of the version.
      /// </summary>
      [FhirElement("key", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString KeyElement
      {
        get
        {
          if(_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["key"]);
          return _KeyElement!;
        }

        set
        {
          if (_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("key");
          _KeyElement = value;
          OnPropertyChanged("KeyElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _KeyElement;

      /// <summary>
      /// ID or acronym of the version
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Key
      {
        get => KeyElement?.Value;
        set
        {
          KeyElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Key");
        }
      }

      /// <summary>
      /// Label for instance version.
      /// </summary>
      [FhirElement("title", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString TitleElement
      {
        get
        {
          if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
          return _TitleElement!;
        }

        set
        {
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("title");
          _TitleElement = value;
          OnPropertyChanged("TitleElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TitleElement;

      /// <summary>
      /// Label for instance version
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Title
      {
        get => TitleElement?.Value;
        set
        {
          TitleElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Title");
        }
      }

      /// <summary>
      /// Details about version.
      /// </summary>
      [FhirElement("description", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// Details about version
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// Example instance version data.
      /// </summary>
      [FhirElement("content", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Content
      {
        get
        {
          if(_Content.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["content"]);
          return _Content;
        }

        set
        {
          if (_Content.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("content");
          _Content = value;
          OnPropertyChanged("Content");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Content;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not VersionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_KeyElement is not null) dest.KeyElement = (Hl7.Fhir.Model.FhirString)_KeyElement.DeepCopyInternal();
        if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
        if(_Content is not null) dest.Content = (Hl7.Fhir.Model.ResourceReference)_Content.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new VersionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not VersionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_KeyElement, otherT._KeyElement)) return false;
        if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_Content, otherT._Content)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "key":
            if (_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["key"];
              return true;
            }
            value = _KeyElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "title":
            if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["title"];
              return true;
            }
            value = _TitleElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "content":
            if (_Content.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["content"];
              return true;
            }
            value = _Content;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "key":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              KeyElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["key"] = value;
            }
            else KeyElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "title":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["title"] = value;
            }
            else TitleElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "content":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Content = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["content"] = value;
            }
            else Content = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_KeyElement is not null && !_KeyElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("key",_KeyElement);
        if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_Content is not null && !_Content.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("content",_Content);
      }

    }

    /// <summary>
    /// Resources contained in the instance
    /// </summary>
    /// <remarks>
    /// References to other instances that can be found within this instance (e.g. the observations contained in a bundle).
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.instance.containedInstance", IsBackboneType=true)]
    public partial class ContainedInstanceComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.instance.containedInstance";

      /// <summary>
      /// Key of contained instance.
      /// </summary>
      [FhirElement("instanceReference", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString InstanceReferenceElement
      {
        get
        {
          if(_InstanceReferenceElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["instanceReference"]);
          return _InstanceReferenceElement!;
        }

        set
        {
          if (_InstanceReferenceElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("instanceReference");
          _InstanceReferenceElement = value;
          OnPropertyChanged("InstanceReferenceElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _InstanceReferenceElement;

      /// <summary>
      /// Key of contained instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? InstanceReference
      {
        get => InstanceReferenceElement?.Value;
        set
        {
          InstanceReferenceElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("InstanceReference");
        }
      }

      /// <summary>
      /// Key of contained instance version.
      /// </summary>
      [FhirElement("versionReference", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? VersionReferenceElement
      {
        get
        {
          if(_VersionReferenceElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["versionReference"]);
          return _VersionReferenceElement;
        }

        set
        {
          if (_VersionReferenceElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("versionReference");
          _VersionReferenceElement = value;
          OnPropertyChanged("VersionReferenceElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _VersionReferenceElement;

      /// <summary>
      /// Key of contained instance version
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? VersionReference
      {
        get => VersionReferenceElement?.Value;
        set
        {
          VersionReferenceElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("VersionReference");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ContainedInstanceComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_InstanceReferenceElement is not null) dest.InstanceReferenceElement = (Hl7.Fhir.Model.FhirString)_InstanceReferenceElement.DeepCopyInternal();
        if(_VersionReferenceElement is not null) dest.VersionReferenceElement = (Hl7.Fhir.Model.FhirString)_VersionReferenceElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ContainedInstanceComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ContainedInstanceComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_InstanceReferenceElement, otherT._InstanceReferenceElement)) return false;
        if(!comparer.Equals(_VersionReferenceElement, otherT._VersionReferenceElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "instanceReference":
            if (_InstanceReferenceElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["instanceReference"];
              return true;
            }
            value = _InstanceReferenceElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "versionReference":
            if (_VersionReferenceElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["versionReference"];
              return true;
            }
            value = _VersionReferenceElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "instanceReference":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              InstanceReferenceElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["instanceReference"] = value;
            }
            else InstanceReferenceElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "versionReference":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              VersionReferenceElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["versionReference"] = value;
            }
            else VersionReferenceElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_InstanceReferenceElement is not null && !_InstanceReferenceElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("instanceReference",_InstanceReferenceElement);
        if (_VersionReferenceElement is not null && !_VersionReferenceElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("versionReference",_VersionReferenceElement);
      }

    }

    /// <summary>
    /// Major process within scenario
    /// </summary>
    /// <remarks>
    /// A group of operations that represents a significant step within a scenario.
    /// Some scenarios might describe only one process.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.process", IsBackboneType=true)]
    public partial class ProcessComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.process";

      /// <summary>
      /// Label for procss.
      /// </summary>
      [FhirElement("title", InSummary=true, Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString TitleElement
      {
        get
        {
          if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
          return _TitleElement!;
        }

        set
        {
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("title");
          _TitleElement = value;
          OnPropertyChanged("TitleElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TitleElement;

      /// <summary>
      /// Label for procss
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Title
      {
        get => TitleElement?.Value;
        set
        {
          TitleElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Title");
        }
      }

      /// <summary>
      /// Human-friendly description of the process.
      /// </summary>
      [FhirElement("description", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// Human-friendly description of the process
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// Status before process starts.
      /// </summary>
      [FhirElement("preConditions", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? PreConditionsElement
      {
        get
        {
          if(_PreConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["preConditions"]);
          return _PreConditionsElement;
        }

        set
        {
          if (_PreConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("preConditions");
          _PreConditionsElement = value;
          OnPropertyChanged("PreConditionsElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _PreConditionsElement;

      /// <summary>
      /// Status before process starts
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? PreConditions
      {
        get => PreConditionsElement?.Value;
        set
        {
          PreConditionsElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("PreConditions");
        }
      }

      /// <summary>
      /// Status after successful completion.
      /// </summary>
      [FhirElement("postConditions", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? PostConditionsElement
      {
        get
        {
          if(_PostConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["postConditions"]);
          return _PostConditionsElement;
        }

        set
        {
          if (_PostConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("postConditions");
          _PostConditionsElement = value;
          OnPropertyChanged("PostConditionsElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _PostConditionsElement;

      /// <summary>
      /// Status after successful completion
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? PostConditions
      {
        get => PostConditionsElement?.Value;
        set
        {
          PostConditionsElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("PostConditions");
        }
      }

      /// <summary>
      /// Event within of the process.
      /// </summary>
      [FhirElement("step", Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.StepComponent> Step
      {
        get
        {
          if(_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.StepComponent>), Overflow["step"]);
          return _Step ??= [];
        }

        set
        {
          if (_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            Overflow.Remove("step");
          _Step = value;
          OnPropertyChanged("Step");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.StepComponent>? _Step;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ProcessComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
        if(_PreConditionsElement is not null) dest.PreConditionsElement = (Hl7.Fhir.Model.Markdown)_PreConditionsElement.DeepCopyInternal();
        if(_PostConditionsElement is not null) dest.PostConditionsElement = (Hl7.Fhir.Model.Markdown)_PostConditionsElement.DeepCopyInternal();
        if(_Step is not null) dest.Step = new List<Hl7.Fhir.Model.ExampleScenario.StepComponent>(_Step.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ProcessComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ProcessComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_PreConditionsElement, otherT._PreConditionsElement)) return false;
        if(!comparer.Equals(_PostConditionsElement, otherT._PostConditionsElement)) return false;
        if(!comparer.ListEquals(_Step, otherT._Step)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "title":
            if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["title"];
              return true;
            }
            value = _TitleElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "preConditions":
            if (_PreConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["preConditions"];
              return true;
            }
            value = _PreConditionsElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "postConditions":
            if (_PostConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["postConditions"];
              return true;
            }
            value = _PostConditionsElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "step":
            if (_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            {
              value = Overflow["step"];
              return true;
            }
            value = _Step;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.StepComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "title":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["title"] = value;
            }
            else TitleElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "preConditions":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              PreConditionsElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["preConditions"] = value;
            }
            else PreConditionsElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "postConditions":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              PostConditionsElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["postConditions"] = value;
            }
            else PostConditionsElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "step":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.StepComponent> or null))
            {
              Step = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>.INSTANCE;
              Overflow["step"] = value;
            }
            else Step = (List<Hl7.Fhir.Model.ExampleScenario.StepComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_PreConditionsElement is not null && !_PreConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("preConditions",_PreConditionsElement);
        if (_PostConditionsElement is not null && !_PostConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("postConditions",_PostConditionsElement);
        if (_Step?.Any() is true && !_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>()) yield return new KeyValuePair<string,object>("step",_Step);
      }

    }

    /// <summary>
    /// Event within of the process
    /// </summary>
    /// <remarks>
    /// A significant action that occurs as part of the process.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.process.step", IsBackboneType=true)]
    public partial class StepComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.process.step";

      /// <summary>
      /// Sequential number of the step.
      /// </summary>
      [FhirElement("number", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NumberElement
      {
        get
        {
          if(_NumberElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["number"]);
          return _NumberElement;
        }

        set
        {
          if (_NumberElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("number");
          _NumberElement = value;
          OnPropertyChanged("NumberElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NumberElement;

      /// <summary>
      /// Sequential number of the step
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Number
      {
        get => NumberElement?.Value;
        set
        {
          NumberElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Number");
        }
      }

      /// <summary>
      /// Step is nested process.
      /// </summary>
      [FhirElement("process", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.ExampleScenario.ProcessComponent? Process
      {
        get
        {
          if(_Process.InOverflow<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExampleScenario.ProcessComponent), Overflow["process"]);
          return _Process;
        }

        set
        {
          if (_Process.InOverflow<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>())
            Overflow.Remove("process");
          _Process = value;
          OnPropertyChanged("Process");
        }

      }

      private Hl7.Fhir.Model.ExampleScenario.ProcessComponent? _Process;

      /// <summary>
      /// Step is nested workflow.
      /// </summary>
      [FhirElement("workflow", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Canonical? WorkflowElement
      {
        get
        {
          if(_WorkflowElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Canonical), Overflow["workflow"]);
          return _WorkflowElement;
        }

        set
        {
          if (_WorkflowElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            Overflow.Remove("workflow");
          _WorkflowElement = value;
          OnPropertyChanged("WorkflowElement");
        }

      }

      private Hl7.Fhir.Model.Canonical? _WorkflowElement;

      /// <summary>
      /// Step is nested workflow
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Workflow
      {
        get => WorkflowElement?.Value;
        set
        {
          WorkflowElement = value is null ? null! : new Hl7.Fhir.Model.Canonical(value);
          OnPropertyChanged("Workflow");
        }
      }

      /// <summary>
      /// Step is simple action.
      /// </summary>
      [FhirElement("operation", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.ExampleScenario.OperationComponent? Operation
      {
        get
        {
          if(_Operation.InOverflow<Hl7.Fhir.Model.ExampleScenario.OperationComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExampleScenario.OperationComponent), Overflow["operation"]);
          return _Operation;
        }

        set
        {
          if (_Operation.InOverflow<Hl7.Fhir.Model.ExampleScenario.OperationComponent>())
            Overflow.Remove("operation");
          _Operation = value;
          OnPropertyChanged("Operation");
        }

      }

      private Hl7.Fhir.Model.ExampleScenario.OperationComponent? _Operation;

      /// <summary>
      /// Alternate non-typical step action.
      /// </summary>
      [FhirElement("alternative", Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent> Alternative
      {
        get
        {
          if(_Alternative.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>), Overflow["alternative"]);
          return _Alternative ??= [];
        }

        set
        {
          if (_Alternative.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>>())
            Overflow.Remove("alternative");
          _Alternative = value;
          OnPropertyChanged("Alternative");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>? _Alternative;

      /// <summary>
      /// Pause in the flow?.
      /// </summary>
      [FhirElement("pause", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? PauseElement
      {
        get
        {
          if(_PauseElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["pause"]);
          return _PauseElement;
        }

        set
        {
          if (_PauseElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("pause");
          _PauseElement = value;
          OnPropertyChanged("PauseElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _PauseElement;

      /// <summary>
      /// Pause in the flow?
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Pause
      {
        get => PauseElement?.Value;
        set
        {
          PauseElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Pause");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not StepComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_NumberElement is not null) dest.NumberElement = (Hl7.Fhir.Model.FhirString)_NumberElement.DeepCopyInternal();
        if(_Process is not null) dest.Process = (Hl7.Fhir.Model.ExampleScenario.ProcessComponent)_Process.DeepCopyInternal();
        if(_WorkflowElement is not null) dest.WorkflowElement = (Hl7.Fhir.Model.Canonical)_WorkflowElement.DeepCopyInternal();
        if(_Operation is not null) dest.Operation = (Hl7.Fhir.Model.ExampleScenario.OperationComponent)_Operation.DeepCopyInternal();
        if(_Alternative is not null) dest.Alternative = new List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>(_Alternative.DeepCopyInternal());
        if(_PauseElement is not null) dest.PauseElement = (Hl7.Fhir.Model.FhirBoolean)_PauseElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new StepComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not StepComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_NumberElement, otherT._NumberElement)) return false;
        if(!comparer.Equals(_Process, otherT._Process)) return false;
        if(!comparer.Equals(_WorkflowElement, otherT._WorkflowElement)) return false;
        if(!comparer.Equals(_Operation, otherT._Operation)) return false;
        if(!comparer.ListEquals(_Alternative, otherT._Alternative)) return false;
        if(!comparer.Equals(_PauseElement, otherT._PauseElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "number":
            if (_NumberElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["number"];
              return true;
            }
            value = _NumberElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "process":
            if (_Process.InOverflow<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>())
            {
              value = Overflow["process"];
              return true;
            }
            value = _Process;
            return (value as Hl7.Fhir.Model.ExampleScenario.ProcessComponent) is not null;
          case "workflow":
            if (_WorkflowElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            {
              value = Overflow["workflow"];
              return true;
            }
            value = _WorkflowElement;
            return (value as Hl7.Fhir.Model.Canonical) is not null;
          case "operation":
            if (_Operation.InOverflow<Hl7.Fhir.Model.ExampleScenario.OperationComponent>())
            {
              value = Overflow["operation"];
              return true;
            }
            value = _Operation;
            return (value as Hl7.Fhir.Model.ExampleScenario.OperationComponent) is not null;
          case "alternative":
            if (_Alternative.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>>())
            {
              value = Overflow["alternative"];
              return true;
            }
            value = _Alternative;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>)?.Any() is true;
          case "pause":
            if (_PauseElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["pause"];
              return true;
            }
            value = _PauseElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "number":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NumberElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["number"] = value;
            }
            else NumberElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "process":
            if (value is not (Hl7.Fhir.Model.ExampleScenario.ProcessComponent or null))
            {
              Process = OverflowNull<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>.INSTANCE;
              Overflow["process"] = value;
            }
            else Process = (Hl7.Fhir.Model.ExampleScenario.ProcessComponent?)value;
            return this;
          case "workflow":
            if (value is not (Hl7.Fhir.Model.Canonical or null))
            {
              WorkflowElement = OverflowNull<Hl7.Fhir.Model.Canonical>.INSTANCE;
              Overflow["workflow"] = value;
            }
            else WorkflowElement = (Hl7.Fhir.Model.Canonical?)value;
            return this;
          case "operation":
            if (value is not (Hl7.Fhir.Model.ExampleScenario.OperationComponent or null))
            {
              Operation = OverflowNull<Hl7.Fhir.Model.ExampleScenario.OperationComponent>.INSTANCE;
              Overflow["operation"] = value;
            }
            else Operation = (Hl7.Fhir.Model.ExampleScenario.OperationComponent?)value;
            return this;
          case "alternative":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent> or null))
            {
              Alternative = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>>.INSTANCE;
              Overflow["alternative"] = value;
            }
            else Alternative = (List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>?)value!;
            return this;
          case "pause":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              PauseElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["pause"] = value;
            }
            else PauseElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_NumberElement is not null && !_NumberElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("number",_NumberElement);
        if (_Process is not null && !_Process.InOverflow<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>()) yield return new KeyValuePair<string,object>("process",_Process);
        if (_WorkflowElement is not null && !_WorkflowElement.InOverflow<Hl7.Fhir.Model.Canonical>()) yield return new KeyValuePair<string,object>("workflow",_WorkflowElement);
        if (_Operation is not null && !_Operation.InOverflow<Hl7.Fhir.Model.ExampleScenario.OperationComponent>()) yield return new KeyValuePair<string,object>("operation",_Operation);
        if (_Alternative?.Any() is true && !_Alternative.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>>()) yield return new KeyValuePair<string,object>("alternative",_Alternative);
        if (_PauseElement is not null && !_PauseElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("pause",_PauseElement);
      }

    }

    /// <summary>
    /// Step is simple action
    /// </summary>
    /// <remarks>
    /// The step represents a single operation invoked on receiver by sender.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.process.step.operation", IsBackboneType=true)]
    public partial class OperationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.process.step.operation";

      /// <summary>
      /// Kind of action.
      /// </summary>
      [FhirElement("type", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.Coding? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.Coding>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Coding), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.Coding>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.Coding? _Type;

      /// <summary>
      /// Label for step.
      /// </summary>
      [FhirElement("title", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString TitleElement
      {
        get
        {
          if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
          return _TitleElement!;
        }

        set
        {
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("title");
          _TitleElement = value;
          OnPropertyChanged("TitleElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TitleElement;

      /// <summary>
      /// Label for step
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Title
      {
        get => TitleElement?.Value;
        set
        {
          TitleElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Title");
        }
      }

      /// <summary>
      /// Who starts the operation.
      /// </summary>
      [FhirElement("initiator", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? InitiatorElement
      {
        get
        {
          if(_InitiatorElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["initiator"]);
          return _InitiatorElement;
        }

        set
        {
          if (_InitiatorElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("initiator");
          _InitiatorElement = value;
          OnPropertyChanged("InitiatorElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _InitiatorElement;

      /// <summary>
      /// Who starts the operation
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Initiator
      {
        get => InitiatorElement?.Value;
        set
        {
          InitiatorElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Initiator");
        }
      }

      /// <summary>
      /// Who receives the operation.
      /// </summary>
      [FhirElement("receiver", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ReceiverElement
      {
        get
        {
          if(_ReceiverElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["receiver"]);
          return _ReceiverElement;
        }

        set
        {
          if (_ReceiverElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("receiver");
          _ReceiverElement = value;
          OnPropertyChanged("ReceiverElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ReceiverElement;

      /// <summary>
      /// Who receives the operation
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Receiver
      {
        get => ReceiverElement?.Value;
        set
        {
          ReceiverElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Receiver");
        }
      }

      /// <summary>
      /// Human-friendly description of the operation.
      /// </summary>
      [FhirElement("description", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// Human-friendly description of the operation
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// Initiator stays active?.
      /// </summary>
      [FhirElement("initiatorActive", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? InitiatorActiveElement
      {
        get
        {
          if(_InitiatorActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["initiatorActive"]);
          return _InitiatorActiveElement;
        }

        set
        {
          if (_InitiatorActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("initiatorActive");
          _InitiatorActiveElement = value;
          OnPropertyChanged("InitiatorActiveElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _InitiatorActiveElement;

      /// <summary>
      /// Initiator stays active?
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? InitiatorActive
      {
        get => InitiatorActiveElement?.Value;
        set
        {
          InitiatorActiveElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("InitiatorActive");
        }
      }

      /// <summary>
      /// Receiver stays active?.
      /// </summary>
      [FhirElement("receiverActive", Order=100)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? ReceiverActiveElement
      {
        get
        {
          if(_ReceiverActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["receiverActive"]);
          return _ReceiverActiveElement;
        }

        set
        {
          if (_ReceiverActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("receiverActive");
          _ReceiverActiveElement = value;
          OnPropertyChanged("ReceiverActiveElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _ReceiverActiveElement;

      /// <summary>
      /// Receiver stays active?
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? ReceiverActive
      {
        get => ReceiverActiveElement?.Value;
        set
        {
          ReceiverActiveElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("ReceiverActive");
        }
      }

      /// <summary>
      /// Instance transmitted on invocation.
      /// </summary>
      [FhirElement("request", Order=110)]
      [DataMember]
      public Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent? Request
      {
        get
        {
          if(_Request.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent), Overflow["request"]);
          return _Request;
        }

        set
        {
          if (_Request.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            Overflow.Remove("request");
          _Request = value;
          OnPropertyChanged("Request");
        }

      }

      private Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent? _Request;

      /// <summary>
      /// Instance transmitted on invocation response.
      /// </summary>
      [FhirElement("response", Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent? Response
      {
        get
        {
          if(_Response.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent), Overflow["response"]);
          return _Response;
        }

        set
        {
          if (_Response.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            Overflow.Remove("response");
          _Response = value;
          OnPropertyChanged("Response");
        }

      }

      private Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent? _Response;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not OperationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.Coding)_Type.DeepCopyInternal();
        if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
        if(_InitiatorElement is not null) dest.InitiatorElement = (Hl7.Fhir.Model.FhirString)_InitiatorElement.DeepCopyInternal();
        if(_ReceiverElement is not null) dest.ReceiverElement = (Hl7.Fhir.Model.FhirString)_ReceiverElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
        if(_InitiatorActiveElement is not null) dest.InitiatorActiveElement = (Hl7.Fhir.Model.FhirBoolean)_InitiatorActiveElement.DeepCopyInternal();
        if(_ReceiverActiveElement is not null) dest.ReceiverActiveElement = (Hl7.Fhir.Model.FhirBoolean)_ReceiverActiveElement.DeepCopyInternal();
        if(_Request is not null) dest.Request = (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent)_Request.DeepCopyInternal();
        if(_Response is not null) dest.Response = (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent)_Response.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new OperationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not OperationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
        if(!comparer.Equals(_InitiatorElement, otherT._InitiatorElement)) return false;
        if(!comparer.Equals(_ReceiverElement, otherT._ReceiverElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_InitiatorActiveElement, otherT._InitiatorActiveElement)) return false;
        if(!comparer.Equals(_ReceiverActiveElement, otherT._ReceiverActiveElement)) return false;
        if(!comparer.Equals(_Request, otherT._Request)) return false;
        if(!comparer.Equals(_Response, otherT._Response)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.Coding>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.Coding) is not null;
          case "title":
            if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["title"];
              return true;
            }
            value = _TitleElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "initiator":
            if (_InitiatorElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["initiator"];
              return true;
            }
            value = _InitiatorElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "receiver":
            if (_ReceiverElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["receiver"];
              return true;
            }
            value = _ReceiverElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "initiatorActive":
            if (_InitiatorActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["initiatorActive"];
              return true;
            }
            value = _InitiatorActiveElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "receiverActive":
            if (_ReceiverActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["receiverActive"];
              return true;
            }
            value = _ReceiverActiveElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "request":
            if (_Request.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            {
              value = Overflow["request"];
              return true;
            }
            value = _Request;
            return (value as Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent) is not null;
          case "response":
            if (_Response.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            {
              value = Overflow["response"];
              return true;
            }
            value = _Response;
            return (value as Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.Coding or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.Coding>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.Coding?)value;
            return this;
          case "title":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["title"] = value;
            }
            else TitleElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "initiator":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              InitiatorElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["initiator"] = value;
            }
            else InitiatorElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "receiver":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ReceiverElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["receiver"] = value;
            }
            else ReceiverElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "initiatorActive":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              InitiatorActiveElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["initiatorActive"] = value;
            }
            else InitiatorActiveElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "receiverActive":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              ReceiverActiveElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["receiverActive"] = value;
            }
            else ReceiverActiveElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "request":
            if (value is not (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent or null))
            {
              Request = OverflowNull<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>.INSTANCE;
              Overflow["request"] = value;
            }
            else Request = (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent?)value;
            return this;
          case "response":
            if (value is not (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent or null))
            {
              Response = OverflowNull<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>.INSTANCE;
              Overflow["response"] = value;
            }
            else Response = (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.Coding>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
        if (_InitiatorElement is not null && !_InitiatorElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("initiator",_InitiatorElement);
        if (_ReceiverElement is not null && !_ReceiverElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("receiver",_ReceiverElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_InitiatorActiveElement is not null && !_InitiatorActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("initiatorActive",_InitiatorActiveElement);
        if (_ReceiverActiveElement is not null && !_ReceiverActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("receiverActive",_ReceiverActiveElement);
        if (_Request is not null && !_Request.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>()) yield return new KeyValuePair<string,object>("request",_Request);
        if (_Response is not null && !_Response.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>()) yield return new KeyValuePair<string,object>("response",_Response);
      }

    }

    /// <summary>
    /// Alternate non-typical step action
    /// </summary>
    /// <remarks>
    /// Indicates an alternative step that can be taken instead of the sub-process, scenario or operation.  E.g. to represent non-happy-path/exceptional/atypical circumstances.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.process.step.alternative", IsBackboneType=true)]
    public partial class AlternativeComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.process.step.alternative";

      /// <summary>
      /// Label for alternative.
      /// </summary>
      [FhirElement("title", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString TitleElement
      {
        get
        {
          if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
          return _TitleElement!;
        }

        set
        {
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("title");
          _TitleElement = value;
          OnPropertyChanged("TitleElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TitleElement;

      /// <summary>
      /// Label for alternative
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Title
      {
        get => TitleElement?.Value;
        set
        {
          TitleElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Title");
        }
      }

      /// <summary>
      /// Human-readable description of option.
      /// </summary>
      [FhirElement("description", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// Human-readable description of option
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// Alternative action(s).
      /// </summary>
      [FhirElement("step", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.StepComponent> Step
      {
        get
        {
          if(_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.StepComponent>), Overflow["step"]);
          return _Step ??= [];
        }

        set
        {
          if (_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            Overflow.Remove("step");
          _Step = value;
          OnPropertyChanged("Step");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.StepComponent>? _Step;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AlternativeComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
        if(_Step is not null) dest.Step = new List<Hl7.Fhir.Model.ExampleScenario.StepComponent>(_Step.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AlternativeComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AlternativeComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.ListEquals(_Step, otherT._Step)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "title":
            if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["title"];
              return true;
            }
            value = _TitleElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "step":
            if (_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            {
              value = Overflow["step"];
              return true;
            }
            value = _Step;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.StepComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "title":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["title"] = value;
            }
            else TitleElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "step":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.StepComponent> or null))
            {
              Step = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>.INSTANCE;
              Overflow["step"] = value;
            }
            else Step = (List<Hl7.Fhir.Model.ExampleScenario.StepComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_Step?.Any() is true && !_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>()) yield return new KeyValuePair<string,object>("step",_Step);
      }

    }

    /// <summary>
    /// Canonical identifier for this example scenario, represented as a URI (globally unique).
    /// </summary>
    [FhirElement("url", InSummary=true, Order=90, FiveWs="FiveWs.identifier")]
    [DataMember]
    public Hl7.Fhir.Model.FhirUri? UrlElement
    {
      get
      {
        if(_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["url"]);
        return _UrlElement;
      }

      set
      {
        if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
          Overflow.Remove("url");
        _UrlElement = value;
        OnPropertyChanged("UrlElement");
      }

    }

    private Hl7.Fhir.Model.FhirUri? _UrlElement;

    /// <summary>
    /// Canonical identifier for this example scenario, represented as a URI (globally unique)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Url
    {
      get => UrlElement?.Value;
      set
      {
        UrlElement = value is null ? null! : new Hl7.Fhir.Model.FhirUri(value);
        OnPropertyChanged("Url");
      }
    }

    /// <summary>
    /// Additional identifier for the example scenario.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=100, FiveWs="FiveWs.identifier")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// Business version of the example scenario.
    /// </summary>
    [FhirElement("version", InSummary=true, Order=110, FiveWs="FiveWs.version")]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? VersionElement
    {
      get
      {
        if(_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["version"]);
        return _VersionElement;
      }

      set
      {
        if (_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("version");
        _VersionElement = value;
        OnPropertyChanged("VersionElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _VersionElement;

    /// <summary>
    /// Business version of the example scenario
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Version
    {
      get => VersionElement?.Value;
      set
      {
        VersionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Version");
      }
    }

    /// <summary>
    /// How to compare versions.
    /// </summary>
    [FhirElement("versionAlgorithm", InSummary=true, Order=120, Choice=ChoiceType.DatatypeChoice)]
    [CLSCompliant(false)]
    [AllowedTypes(typeof(Hl7.Fhir.Model.FhirString),typeof(Hl7.Fhir.Model.Coding))]
    [DataMember]
    public Hl7.Fhir.Model.DataType? VersionAlgorithm
    {
      get
      {
        if(_VersionAlgorithm.InOverflow<DynamicDataType>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["versionAlgorithm"]);
        return _VersionAlgorithm;
      }

      set
      {
        if (_VersionAlgorithm.InOverflow<DynamicDataType>())
          Overflow.Remove("versionAlgorithm");
        _VersionAlgorithm = value;
        OnPropertyChanged("VersionAlgorithm");
      }

    }

    private Hl7.Fhir.Model.DataType? _VersionAlgorithm;

    /// <summary>
    /// To be removed?.
    /// </summary>
    [FhirElement("name", InSummary=true, Order=130)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? NameElement
    {
      get
      {
        if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
        return _NameElement;
      }

      set
      {
        if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("name");
        _NameElement = value;
        OnPropertyChanged("NameElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _NameElement;

    /// <summary>
    /// To be removed?
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Name
    {
      get => NameElement?.Value;
      set
      {
        NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Name");
      }
    }

    /// <summary>
    /// Name for this example scenario (human friendly).
    /// </summary>
    [FhirElement("title", InSummary=true, Order=140)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? TitleElement
    {
      get
      {
        if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
        return _TitleElement;
      }

      set
      {
        if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("title");
        _TitleElement = value;
        OnPropertyChanged("TitleElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _TitleElement;

    /// <summary>
    /// Name for this example scenario (human friendly)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Title
    {
      get => TitleElement?.Value;
      set
      {
        TitleElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Title");
      }
    }

    /// <summary>
    /// draft | active | retired | unknown.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=150, FiveWs="FiveWs.status")]
    [Binding("PublicationStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.PublicationStatus> StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.PublicationStatus>), Overflow["status"]);
        return _StatusElement!;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.PublicationStatus>? _StatusElement;

    /// <summary>
    /// draft | active | retired | unknown
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.PublicationStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.PublicationStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// For testing purposes, not real usage.
    /// </summary>
    [FhirElement("experimental", InSummary=true, Order=160, FiveWs="FiveWs.class")]
    [DataMember]
    public Hl7.Fhir.Model.FhirBoolean? ExperimentalElement
    {
      get
      {
        if(_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["experimental"]);
        return _ExperimentalElement;
      }

      set
      {
        if (_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          Overflow.Remove("experimental");
        _ExperimentalElement = value;
        OnPropertyChanged("ExperimentalElement");
      }

    }

    private Hl7.Fhir.Model.FhirBoolean? _ExperimentalElement;

    /// <summary>
    /// For testing purposes, not real usage
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public bool? Experimental
    {
      get => ExperimentalElement?.Value;
      set
      {
        ExperimentalElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
        OnPropertyChanged("Experimental");
      }
    }

    /// <summary>
    /// Date last changed.
    /// </summary>
    [FhirElement("date", InSummary=true, Order=170, FiveWs="FiveWs.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? DateElement
    {
      get
      {
        if(_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["date"]);
        return _DateElement;
      }

      set
      {
        if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("date");
        _DateElement = value;
        OnPropertyChanged("DateElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _DateElement;

    /// <summary>
    /// Date last changed
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Date
    {
      get => DateElement?.Value;
      set
      {
        DateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("Date");
      }
    }

    /// <summary>
    /// Name of the publisher/steward (organization or individual).
    /// </summary>
    [FhirElement("publisher", InSummary=true, Order=180, FiveWs="FiveWs.witness")]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? PublisherElement
    {
      get
      {
        if(_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["publisher"]);
        return _PublisherElement;
      }

      set
      {
        if (_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("publisher");
        _PublisherElement = value;
        OnPropertyChanged("PublisherElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _PublisherElement;

    /// <summary>
    /// Name of the publisher/steward (organization or individual)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Publisher
    {
      get => PublisherElement?.Value;
      set
      {
        PublisherElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Publisher");
      }
    }

    /// <summary>
    /// Contact details for the publisher.
    /// </summary>
    [FhirElement("contact", InSummary=true, Order=190)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ContactDetail> Contact
    {
      get
      {
        if(_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ContactDetail>), Overflow["contact"]);
        return _Contact ??= [];
      }

      set
      {
        if (_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>())
          Overflow.Remove("contact");
        _Contact = value;
        OnPropertyChanged("Contact");
      }

    }

    private List<Hl7.Fhir.Model.ContactDetail>? _Contact;

    /// <summary>
    /// Natural language description of the ExampleScenario.
    /// </summary>
    [FhirElement("description", InSummary=true, Order=200)]
    [DataMember]
    public Hl7.Fhir.Model.Markdown? DescriptionElement
    {
      get
      {
        if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
        return _DescriptionElement;
      }

      set
      {
        if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          Overflow.Remove("description");
        _DescriptionElement = value;
        OnPropertyChanged("DescriptionElement");
      }

    }

    private Hl7.Fhir.Model.Markdown? _DescriptionElement;

    /// <summary>
    /// Natural language description of the ExampleScenario
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Description
    {
      get => DescriptionElement?.Value;
      set
      {
        DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
        OnPropertyChanged("Description");
      }
    }

    /// <summary>
    /// The context that the content is intended to support.
    /// </summary>
    [FhirElement("useContext", InSummary=true, Order=210)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.UsageContext> UseContext
    {
      get
      {
        if(_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.UsageContext>), Overflow["useContext"]);
        return _UseContext ??= [];
      }

      set
      {
        if (_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>())
          Overflow.Remove("useContext");
        _UseContext = value;
        OnPropertyChanged("UseContext");
      }

    }

    private List<Hl7.Fhir.Model.UsageContext>? _UseContext;

    /// <summary>
    /// Intended jurisdiction for example scenario (if applicable).
    /// </summary>
    [FhirElement("jurisdiction", InSummary=true, Order=220)]
    [Binding("Jurisdiction")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Jurisdiction
    {
      get
      {
        if(_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["jurisdiction"]);
        return _Jurisdiction ??= [];
      }

      set
      {
        if (_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("jurisdiction");
        _Jurisdiction = value;
        OnPropertyChanged("Jurisdiction");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Jurisdiction;

    /// <summary>
    /// The purpose of the example, e.g. to illustrate a scenario.
    /// </summary>
    [FhirElement("purpose", Order=230, FiveWs="FiveWs.why[x]")]
    [DataMember]
    public Hl7.Fhir.Model.Markdown? PurposeElement
    {
      get
      {
        if(_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["purpose"]);
        return _PurposeElement;
      }

      set
      {
        if (_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          Overflow.Remove("purpose");
        _PurposeElement = value;
        OnPropertyChanged("PurposeElement");
      }

    }

    private Hl7.Fhir.Model.Markdown? _PurposeElement;

    /// <summary>
    /// The purpose of the example, e.g. to illustrate a scenario
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Purpose
    {
      get => PurposeElement?.Value;
      set
      {
        PurposeElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
        OnPropertyChanged("Purpose");
      }
    }

    /// <summary>
    /// Use and/or publishing restrictions.
    /// </summary>
    [FhirElement("copyright", Order=240)]
    [DataMember]
    public Hl7.Fhir.Model.Markdown? CopyrightElement
    {
      get
      {
        if(_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["copyright"]);
        return _CopyrightElement;
      }

      set
      {
        if (_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          Overflow.Remove("copyright");
        _CopyrightElement = value;
        OnPropertyChanged("CopyrightElement");
      }

    }

    private Hl7.Fhir.Model.Markdown? _CopyrightElement;

    /// <summary>
    /// Use and/or publishing restrictions
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Copyright
    {
      get => CopyrightElement?.Value;
      set
      {
        CopyrightElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
        OnPropertyChanged("Copyright");
      }
    }

    /// <summary>
    /// Copyright holder and year(s).
    /// </summary>
    [FhirElement("copyrightLabel", Order=250)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? CopyrightLabelElement
    {
      get
      {
        if(_CopyrightLabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["copyrightLabel"]);
        return _CopyrightLabelElement;
      }

      set
      {
        if (_CopyrightLabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("copyrightLabel");
        _CopyrightLabelElement = value;
        OnPropertyChanged("CopyrightLabelElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _CopyrightLabelElement;

    /// <summary>
    /// Copyright holder and year(s)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? CopyrightLabel
    {
      get => CopyrightLabelElement?.Value;
      set
      {
        CopyrightLabelElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("CopyrightLabel");
      }
    }

    /// <summary>
    /// Individual involved in exchange.
    /// </summary>
    [FhirElement("actor", Order=260, FiveWs="FiveWs.who")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExampleScenario.ActorComponent> Actor
    {
      get
      {
        if(_Actor.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>), Overflow["actor"]);
        return _Actor ??= [];
      }

      set
      {
        if (_Actor.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>>())
          Overflow.Remove("actor");
        _Actor = value;
        OnPropertyChanged("Actor");
      }

    }

    private List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>? _Actor;

    /// <summary>
    /// Data used in the scenario.
    /// </summary>
    [FhirElement("instance", Order=270, FiveWs="FiveWs.what[x]")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent> Instance
    {
      get
      {
        if(_Instance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>), Overflow["instance"]);
        return _Instance ??= [];
      }

      set
      {
        if (_Instance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>>())
          Overflow.Remove("instance");
        _Instance = value;
        OnPropertyChanged("Instance");
      }

    }

    private List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>? _Instance;

    /// <summary>
    /// Major process within scenario.
    /// </summary>
    [FhirElement("process", Order=280)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent> Process
    {
      get
      {
        if(_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>), Overflow["process"]);
        return _Process ??= [];
      }

      set
      {
        if (_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>())
          Overflow.Remove("process");
        _Process = value;
        OnPropertyChanged("Process");
      }

    }

    private List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>? _Process;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not ExampleScenario dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_UrlElement is not null) dest.UrlElement = (Hl7.Fhir.Model.FhirUri)_UrlElement.DeepCopyInternal();
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_VersionElement is not null) dest.VersionElement = (Hl7.Fhir.Model.FhirString)_VersionElement.DeepCopyInternal();
      if(_VersionAlgorithm is not null) dest.VersionAlgorithm = (Hl7.Fhir.Model.DataType)_VersionAlgorithm.DeepCopyInternal();
      if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
      if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.PublicationStatus>)_StatusElement.DeepCopyInternal();
      if(_ExperimentalElement is not null) dest.ExperimentalElement = (Hl7.Fhir.Model.FhirBoolean)_ExperimentalElement.DeepCopyInternal();
      if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.FhirDateTime)_DateElement.DeepCopyInternal();
      if(_PublisherElement is not null) dest.PublisherElement = (Hl7.Fhir.Model.FhirString)_PublisherElement.DeepCopyInternal();
      if(_Contact is not null) dest.Contact = new List<Hl7.Fhir.Model.ContactDetail>(_Contact.DeepCopyInternal());
      if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
      if(_UseContext is not null) dest.UseContext = new List<Hl7.Fhir.Model.UsageContext>(_UseContext.DeepCopyInternal());
      if(_Jurisdiction is not null) dest.Jurisdiction = new List<Hl7.Fhir.Model.CodeableConcept>(_Jurisdiction.DeepCopyInternal());
      if(_PurposeElement is not null) dest.PurposeElement = (Hl7.Fhir.Model.Markdown)_PurposeElement.DeepCopyInternal();
      if(_CopyrightElement is not null) dest.CopyrightElement = (Hl7.Fhir.Model.Markdown)_CopyrightElement.DeepCopyInternal();
      if(_CopyrightLabelElement is not null) dest.CopyrightLabelElement = (Hl7.Fhir.Model.FhirString)_CopyrightLabelElement.DeepCopyInternal();
      if(_Actor is not null) dest.Actor = new List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>(_Actor.DeepCopyInternal());
      if(_Instance is not null) dest.Instance = new List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>(_Instance.DeepCopyInternal());
      if(_Process is not null) dest.Process = new List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>(_Process.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new ExampleScenario();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not ExampleScenario otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.Equals(_UrlElement, otherT._UrlElement)) return false;
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_VersionElement, otherT._VersionElement)) return false;
      if(!comparer.Equals(_VersionAlgorithm, otherT._VersionAlgorithm)) return false;
      if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
      if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_ExperimentalElement, otherT._ExperimentalElement)) return false;
      if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
      if(!comparer.Equals(_PublisherElement, otherT._PublisherElement)) return false;
      if(!comparer.ListEquals(_Contact, otherT._Contact)) return false;
      if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
      if(!comparer.ListEquals(_UseContext, otherT._UseContext)) return false;
      if(!comparer.ListEquals(_Jurisdiction, otherT._Jurisdiction)) return false;
      if(!comparer.Equals(_PurposeElement, otherT._PurposeElement)) return false;
      if(!comparer.Equals(_CopyrightElement, otherT._CopyrightElement)) return false;
      if(!comparer.Equals(_CopyrightLabelElement, otherT._CopyrightLabelElement)) return false;
      if(!comparer.ListEquals(_Actor, otherT._Actor)) return false;
      if(!comparer.ListEquals(_Instance, otherT._Instance)) return false;
      if(!comparer.ListEquals(_Process, otherT._Process)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "url":
          if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
          {
            value = Overflow["url"];
            return true;
          }
          value = _UrlElement;
          return (value as Hl7.Fhir.Model.FhirUri) is not null;
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "version":
          if (_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["version"];
            return true;
          }
          value = _VersionElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "versionAlgorithm":
          if (_VersionAlgorithm.InOverflow<DynamicDataType>())
          {
            value = Overflow["versionAlgorithm"];
            return true;
          }
          value = _VersionAlgorithm;
          return (value as Hl7.Fhir.Model.DataType) is not null;
        case "name":
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["name"];
            return true;
          }
          value = _NameElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "title":
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["title"];
            return true;
          }
          value = _TitleElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.PublicationStatus>) is not null;
        case "experimental":
          if (_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          {
            value = Overflow["experimental"];
            return true;
          }
          value = _ExperimentalElement;
          return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
        case "date":
          if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["date"];
            return true;
          }
          value = _DateElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "publisher":
          if (_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["publisher"];
            return true;
          }
          value = _PublisherElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "contact":
          if (_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>())
          {
            value = Overflow["contact"];
            return true;
          }
          value = _Contact;
          return (value as List<Hl7.Fhir.Model.ContactDetail>)?.Any() is true;
        case "description":
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          {
            value = Overflow["description"];
            return true;
          }
          value = _DescriptionElement;
          return (value as Hl7.Fhir.Model.Markdown) is not null;
        case "useContext":
          if (_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>())
          {
            value = Overflow["useContext"];
            return true;
          }
          value = _UseContext;
          return (value as List<Hl7.Fhir.Model.UsageContext>)?.Any() is true;
        case "jurisdiction":
          if (_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["jurisdiction"];
            return true;
          }
          value = _Jurisdiction;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "purpose":
          if (_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          {
            value = Overflow["purpose"];
            return true;
          }
          value = _PurposeElement;
          return (value as Hl7.Fhir.Model.Markdown) is not null;
        case "copyright":
          if (_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          {
            value = Overflow["copyright"];
            return true;
          }
          value = _CopyrightElement;
          return (value as Hl7.Fhir.Model.Markdown) is not null;
        case "copyrightLabel":
          if (_CopyrightLabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["copyrightLabel"];
            return true;
          }
          value = _CopyrightLabelElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "actor":
          if (_Actor.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>>())
          {
            value = Overflow["actor"];
            return true;
          }
          value = _Actor;
          return (value as List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>)?.Any() is true;
        case "instance":
          if (_Instance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>>())
          {
            value = Overflow["instance"];
            return true;
          }
          value = _Instance;
          return (value as List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>)?.Any() is true;
        case "process":
          if (_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>())
          {
            value = Overflow["process"];
            return true;
          }
          value = _Process;
          return (value as List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "url":
          if (value is not (Hl7.Fhir.Model.FhirUri or null))
          {
            UrlElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
            Overflow["url"] = value;
          }
          else UrlElement = (Hl7.Fhir.Model.FhirUri?)value;
          return this;
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "version":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            VersionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["version"] = value;
          }
          else VersionElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "versionAlgorithm":
          if (value is not (Hl7.Fhir.Model.DataType or null))
          {
            VersionAlgorithm = OverflowNull<DynamicDataType>.INSTANCE;
            Overflow["versionAlgorithm"] = value;
          }
          else VersionAlgorithm = (Hl7.Fhir.Model.DataType?)value;
          return this;
        case "name":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["name"] = value;
          }
          else NameElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "title":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["title"] = value;
          }
          else TitleElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.PublicationStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.PublicationStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.PublicationStatus>?)value!;
          return this;
        case "experimental":
          if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
          {
            ExperimentalElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
            Overflow["experimental"] = value;
          }
          else ExperimentalElement = (Hl7.Fhir.Model.FhirBoolean?)value;
          return this;
        case "date":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            DateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["date"] = value;
          }
          else DateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "publisher":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            PublisherElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["publisher"] = value;
          }
          else PublisherElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "contact":
          if (value is not (List<Hl7.Fhir.Model.ContactDetail> or null))
          {
            Contact = OverflowNull<List<Hl7.Fhir.Model.ContactDetail>>.INSTANCE;
            Overflow["contact"] = value;
          }
          else Contact = (List<Hl7.Fhir.Model.ContactDetail>?)value!;
          return this;
        case "description":
          if (value is not (Hl7.Fhir.Model.Markdown or null))
          {
            DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
            Overflow["description"] = value;
          }
          else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
          return this;
        case "useContext":
          if (value is not (List<Hl7.Fhir.Model.UsageContext> or null))
          {
            UseContext = OverflowNull<List<Hl7.Fhir.Model.UsageContext>>.INSTANCE;
            Overflow["useContext"] = value;
          }
          else UseContext = (List<Hl7.Fhir.Model.UsageContext>?)value!;
          return this;
        case "jurisdiction":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Jurisdiction = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["jurisdiction"] = value;
          }
          else Jurisdiction = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "purpose":
          if (value is not (Hl7.Fhir.Model.Markdown or null))
          {
            PurposeElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
            Overflow["purpose"] = value;
          }
          else PurposeElement = (Hl7.Fhir.Model.Markdown?)value;
          return this;
        case "copyright":
          if (value is not (Hl7.Fhir.Model.Markdown or null))
          {
            CopyrightElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
            Overflow["copyright"] = value;
          }
          else CopyrightElement = (Hl7.Fhir.Model.Markdown?)value;
          return this;
        case "copyrightLabel":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            CopyrightLabelElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["copyrightLabel"] = value;
          }
          else CopyrightLabelElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "actor":
          if (value is not (List<Hl7.Fhir.Model.ExampleScenario.ActorComponent> or null))
          {
            Actor = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>>.INSTANCE;
            Overflow["actor"] = value;
          }
          else Actor = (List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>?)value!;
          return this;
        case "instance":
          if (value is not (List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent> or null))
          {
            Instance = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>>.INSTANCE;
            Overflow["instance"] = value;
          }
          else Instance = (List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>?)value!;
          return this;
        case "process":
          if (value is not (List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent> or null))
          {
            Process = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>.INSTANCE;
            Overflow["process"] = value;
          }
          else Process = (List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_UrlElement is not null && !_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("url",_UrlElement);
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_VersionElement is not null && !_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("version",_VersionElement);
      if (_VersionAlgorithm is not null && !_VersionAlgorithm.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("versionAlgorithm",_VersionAlgorithm);
      if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
      if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_ExperimentalElement is not null && !_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("experimental",_ExperimentalElement);
      if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("date",_DateElement);
      if (_PublisherElement is not null && !_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("publisher",_PublisherElement);
      if (_Contact?.Any() is true && !_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>()) yield return new KeyValuePair<string,object>("contact",_Contact);
      if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      if (_UseContext?.Any() is true && !_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>()) yield return new KeyValuePair<string,object>("useContext",_UseContext);
      if (_Jurisdiction?.Any() is true && !_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("jurisdiction",_Jurisdiction);
      if (_PurposeElement is not null && !_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("purpose",_PurposeElement);
      if (_CopyrightElement is not null && !_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("copyright",_CopyrightElement);
      if (_CopyrightLabelElement is not null && !_CopyrightLabelElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("copyrightLabel",_CopyrightLabelElement);
      if (_Actor?.Any() is true && !_Actor.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>>()) yield return new KeyValuePair<string,object>("actor",_Actor);
      if (_Instance?.Any() is true && !_Instance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>>()) yield return new KeyValuePair<string,object>("instance",_Instance);
      if (_Process?.Any() is true && !_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>()) yield return new KeyValuePair<string,object>("process",_Process);
    }

  }

}

// end of file
