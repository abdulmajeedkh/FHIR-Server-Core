// <auto-generated/>
// Contents of: hl7.fhir.r4b.expansions@4.3.0, hl7.fhir.r4b.core@4.3.0

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// A healthcare consumer's  choices to permit or deny recipients or roles to perform actions for specific purposes and periods of time
  /// </summary>
  /// <remarks>
  /// A record of a healthcare consumerâ€™s  choices, which permits or denies identified recipient(s) or recipient role(s) to perform one or more actions within a given policy context, for specific purposes and periods of time.
  /// Broadly, there are 3 key areas of consent for patients: Consent around sharing information (aka Privacy Consent Directive - Authorization to Collect, Use, or Disclose information), consent for specific treatment, or kinds of treatment, and general advance care directives.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("Consent","http://hl7.org/fhir/StructureDefinition/Consent")]
  public partial class Consent : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "Consent";

    /// <summary>
    /// Indicates the state of the consent.
    /// (url: http://hl7.org/fhir/ValueSet/consent-state-codes)
    /// (system: http://hl7.org/fhir/consent-state-codes)
    /// </summary>
    [FhirEnumeration("ConsentState", "http://hl7.org/fhir/ValueSet/consent-state-codes", "http://hl7.org/fhir/consent-state-codes")]
    public enum ConsentState
    {
      /// <summary>
      /// The consent is in development or awaiting use but is not yet intended to be acted upon.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("draft"), Description("Pending")]
      Draft,
      /// <summary>
      /// The consent has been proposed but not yet agreed to by all parties. The negotiation stage.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("proposed"), Description("Proposed")]
      Proposed,
      /// <summary>
      /// The consent is to be followed and enforced.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("active"), Description("Active")]
      Active,
      /// <summary>
      /// The consent has been rejected by one or more of the parties.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("rejected"), Description("Rejected")]
      Rejected,
      /// <summary>
      /// The consent is terminated or replaced.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("inactive"), Description("Inactive")]
      Inactive,
      /// <summary>
      /// The consent was created wrongly (e.g. wrong patient) and should be ignored.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("entered-in-error"), Description("Entered in Error")]
      EnteredInError,
    }

    /// <summary>
    /// How a rule statement is applied, such as adding additional consent or removing consent.
    /// (url: http://hl7.org/fhir/ValueSet/consent-provision-type)
    /// (system: http://hl7.org/fhir/consent-provision-type)
    /// </summary>
    [FhirEnumeration("ConsentProvisionType", "http://hl7.org/fhir/ValueSet/consent-provision-type", "http://hl7.org/fhir/consent-provision-type")]
    public enum ConsentProvisionType
    {
      /// <summary>
      /// Consent is denied for actions meeting these rules.
      /// (system: http://hl7.org/fhir/consent-provision-type)
      /// </summary>
      [EnumLiteral("deny"), Description("Opt Out")]
      Deny,
      /// <summary>
      /// Consent is provided for actions meeting these rules.
      /// (system: http://hl7.org/fhir/consent-provision-type)
      /// </summary>
      [EnumLiteral("permit"), Description("Opt In")]
      Permit,
    }

    /// <summary>
    /// How a resource reference is interpreted when testing consent restrictions.
    /// (url: http://hl7.org/fhir/ValueSet/consent-data-meaning)
    /// (system: http://hl7.org/fhir/consent-data-meaning)
    /// </summary>
    [FhirEnumeration("ConsentDataMeaning", "http://hl7.org/fhir/ValueSet/consent-data-meaning", "http://hl7.org/fhir/consent-data-meaning")]
    public enum ConsentDataMeaning
    {
      /// <summary>
      /// The consent applies directly to the instance of the resource.
      /// (system: http://hl7.org/fhir/consent-data-meaning)
      /// </summary>
      [EnumLiteral("instance"), Description("Instance")]
      Instance,
      /// <summary>
      /// The consent applies directly to the instance of the resource and instances it refers to.
      /// (system: http://hl7.org/fhir/consent-data-meaning)
      /// </summary>
      [EnumLiteral("related"), Description("Related")]
      Related,
      /// <summary>
      /// The consent applies directly to the instance of the resource and instances that refer to it.
      /// (system: http://hl7.org/fhir/consent-data-meaning)
      /// </summary>
      [EnumLiteral("dependents"), Description("Dependents")]
      Dependents,
      /// <summary>
      /// The consent applies to instances of resources that are authored by.
      /// (system: http://hl7.org/fhir/consent-data-meaning)
      /// </summary>
      [EnumLiteral("authoredby"), Description("AuthoredBy")]
      Authoredby,
    }

    /// <summary>
    /// Policies covered by this consent
    /// </summary>
    /// <remarks>
    /// The references to the policies that are included in this consent scope. Policies may be organizational, but are often defined jurisdictionally, or in law.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Consent.policy", IsBackboneType=true)]
    public partial class PolicyComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Consent.policy";

      /// <summary>
      /// Enforcement source for policy.
      /// </summary>
      [FhirElement("authority", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.FhirUri? AuthorityElement
      {
        get
        {
          if(_AuthorityElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["authority"]);
          return _AuthorityElement;
        }

        set
        {
          if (_AuthorityElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            Overflow.Remove("authority");
          _AuthorityElement = value;
          OnPropertyChanged("AuthorityElement");
        }

      }

      private Hl7.Fhir.Model.FhirUri? _AuthorityElement;

      /// <summary>
      /// Enforcement source for policy
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Authority
      {
        get => AuthorityElement?.Value;
        set
        {
          AuthorityElement = value is null ? null! : new Hl7.Fhir.Model.FhirUri(value);
          OnPropertyChanged("Authority");
        }
      }

      /// <summary>
      /// Specific policy covered by this consent.
      /// </summary>
      [FhirElement("uri", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirUri? UriElement
      {
        get
        {
          if(_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["uri"]);
          return _UriElement;
        }

        set
        {
          if (_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            Overflow.Remove("uri");
          _UriElement = value;
          OnPropertyChanged("UriElement");
        }

      }

      private Hl7.Fhir.Model.FhirUri? _UriElement;

      /// <summary>
      /// Specific policy covered by this consent
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Uri
      {
        get => UriElement?.Value;
        set
        {
          UriElement = value is null ? null! : new Hl7.Fhir.Model.FhirUri(value);
          OnPropertyChanged("Uri");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PolicyComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_AuthorityElement is not null) dest.AuthorityElement = (Hl7.Fhir.Model.FhirUri)_AuthorityElement.DeepCopyInternal();
        if(_UriElement is not null) dest.UriElement = (Hl7.Fhir.Model.FhirUri)_UriElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PolicyComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PolicyComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_AuthorityElement, otherT._AuthorityElement)) return false;
        if(!comparer.Equals(_UriElement, otherT._UriElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "authority":
            if (_AuthorityElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            {
              value = Overflow["authority"];
              return true;
            }
            value = _AuthorityElement;
            return (value as Hl7.Fhir.Model.FhirUri) is not null;
          case "uri":
            if (_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            {
              value = Overflow["uri"];
              return true;
            }
            value = _UriElement;
            return (value as Hl7.Fhir.Model.FhirUri) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "authority":
            if (value is not (Hl7.Fhir.Model.FhirUri or null))
            {
              AuthorityElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
              Overflow["authority"] = value;
            }
            else AuthorityElement = (Hl7.Fhir.Model.FhirUri?)value;
            return this;
          case "uri":
            if (value is not (Hl7.Fhir.Model.FhirUri or null))
            {
              UriElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
              Overflow["uri"] = value;
            }
            else UriElement = (Hl7.Fhir.Model.FhirUri?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_AuthorityElement is not null && !_AuthorityElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("authority",_AuthorityElement);
        if (_UriElement is not null && !_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("uri",_UriElement);
      }

    }

    /// <summary>
    /// Consent Verified by patient or family
    /// </summary>
    /// <remarks>
    /// Whether a treatment instruction (e.g. artificial respiration yes or no) was verified with the patient, his/her family or another authorized person.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Consent.verification", IsBackboneType=true)]
    public partial class VerificationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Consent.verification";

      /// <summary>
      /// Has been verified.
      /// </summary>
      [FhirElement("verified", InSummary=true, Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean VerifiedElement
      {
        get
        {
          if(_VerifiedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["verified"]);
          return _VerifiedElement!;
        }

        set
        {
          if (_VerifiedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("verified");
          _VerifiedElement = value;
          OnPropertyChanged("VerifiedElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _VerifiedElement;

      /// <summary>
      /// Has been verified
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Verified
      {
        get => VerifiedElement?.Value;
        set
        {
          VerifiedElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Verified");
        }
      }

      /// <summary>
      /// Person who verified.
      /// </summary>
      [FhirElement("verifiedWith", Order=50)]
      [CLSCompliant(false)]
      [References("Patient","RelatedPerson")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? VerifiedWith
      {
        get
        {
          if(_VerifiedWith.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["verifiedWith"]);
          return _VerifiedWith;
        }

        set
        {
          if (_VerifiedWith.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("verifiedWith");
          _VerifiedWith = value;
          OnPropertyChanged("VerifiedWith");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _VerifiedWith;

      /// <summary>
      /// When consent verified.
      /// </summary>
      [FhirElement("verificationDate", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDateTime? VerificationDateElement
      {
        get
        {
          if(_VerificationDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["verificationDate"]);
          return _VerificationDateElement;
        }

        set
        {
          if (_VerificationDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            Overflow.Remove("verificationDate");
          _VerificationDateElement = value;
          OnPropertyChanged("VerificationDateElement");
        }

      }

      private Hl7.Fhir.Model.FhirDateTime? _VerificationDateElement;

      /// <summary>
      /// When consent verified
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? VerificationDate
      {
        get => VerificationDateElement?.Value;
        set
        {
          VerificationDateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
          OnPropertyChanged("VerificationDate");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not VerificationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_VerifiedElement is not null) dest.VerifiedElement = (Hl7.Fhir.Model.FhirBoolean)_VerifiedElement.DeepCopyInternal();
        if(_VerifiedWith is not null) dest.VerifiedWith = (Hl7.Fhir.Model.ResourceReference)_VerifiedWith.DeepCopyInternal();
        if(_VerificationDateElement is not null) dest.VerificationDateElement = (Hl7.Fhir.Model.FhirDateTime)_VerificationDateElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new VerificationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not VerificationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_VerifiedElement, otherT._VerifiedElement)) return false;
        if(!comparer.Equals(_VerifiedWith, otherT._VerifiedWith)) return false;
        if(!comparer.Equals(_VerificationDateElement, otherT._VerificationDateElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "verified":
            if (_VerifiedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["verified"];
              return true;
            }
            value = _VerifiedElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "verifiedWith":
            if (_VerifiedWith.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["verifiedWith"];
              return true;
            }
            value = _VerifiedWith;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "verificationDate":
            if (_VerificationDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            {
              value = Overflow["verificationDate"];
              return true;
            }
            value = _VerificationDateElement;
            return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "verified":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              VerifiedElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["verified"] = value;
            }
            else VerifiedElement = (Hl7.Fhir.Model.FhirBoolean?)value!;
            return this;
          case "verifiedWith":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              VerifiedWith = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["verifiedWith"] = value;
            }
            else VerifiedWith = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          case "verificationDate":
            if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
            {
              VerificationDateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
              Overflow["verificationDate"] = value;
            }
            else VerificationDateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_VerifiedElement is not null && !_VerifiedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("verified",_VerifiedElement);
        if (_VerifiedWith is not null && !_VerifiedWith.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("verifiedWith",_VerifiedWith);
        if (_VerificationDateElement is not null && !_VerificationDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("verificationDate",_VerificationDateElement);
      }

    }

    /// <summary>
    /// Constraints to the base Consent.policyRule
    /// </summary>
    /// <remarks>
    /// An exception to the base policy of this consent. An exception can be an addition or removal of access permissions.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Consent.provision", IsBackboneType=true)]
    public partial class provisionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Consent.provision";

      /// <summary>
      /// deny | permit.
      /// </summary>
      [FhirElement("type", InSummary=true, Order=40)]
      [Binding("ConsentProvisionType")]
      [DataMember]
      public Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>? TypeElement
      {
        get
        {
          if(_TypeElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>), Overflow["type"]);
          return _TypeElement;
        }

        set
        {
          if (_TypeElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>>())
            Overflow.Remove("type");
          _TypeElement = value;
          OnPropertyChanged("TypeElement");
        }

      }

      private Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>? _TypeElement;

      /// <summary>
      /// deny | permit
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.Consent.ConsentProvisionType? Type
      {
        get => TypeElement?.Value;
        set
        {
          TypeElement = value is null ? null! : new Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>(value);
          OnPropertyChanged("Type");
        }
      }

      /// <summary>
      /// Timeframe for this rule.
      /// </summary>
      [FhirElement("period", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Period? Period
      {
        get
        {
          if(_Period.InOverflow<Hl7.Fhir.Model.Period>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["period"]);
          return _Period;
        }

        set
        {
          if (_Period.InOverflow<Hl7.Fhir.Model.Period>())
            Overflow.Remove("period");
          _Period = value;
          OnPropertyChanged("Period");
        }

      }

      private Hl7.Fhir.Model.Period? _Period;

      /// <summary>
      /// Who|what controlled by this rule (or group, by role).
      /// </summary>
      [FhirElement("actor", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Consent.provisionActorComponent> Actor
      {
        get
        {
          if(_Actor.InOverflow<List<Hl7.Fhir.Model.Consent.provisionActorComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Consent.provisionActorComponent>), Overflow["actor"]);
          return _Actor ??= [];
        }

        set
        {
          if (_Actor.InOverflow<List<Hl7.Fhir.Model.Consent.provisionActorComponent>>())
            Overflow.Remove("actor");
          _Actor = value;
          OnPropertyChanged("Actor");
        }

      }

      private List<Hl7.Fhir.Model.Consent.provisionActorComponent>? _Actor;

      /// <summary>
      /// Actions controlled by this rule.
      /// </summary>
      [FhirElement("action", InSummary=true, Order=70)]
      [Binding("ConsentAction")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Action
      {
        get
        {
          if(_Action.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["action"]);
          return _Action ??= [];
        }

        set
        {
          if (_Action.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("action");
          _Action = value;
          OnPropertyChanged("Action");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Action;

      /// <summary>
      /// Security Labels that define affected resources.
      /// </summary>
      [FhirElement("securityLabel", InSummary=true, Order=80)]
      [Binding("SecurityLabels")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Coding> SecurityLabel
      {
        get
        {
          if(_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Coding>), Overflow["securityLabel"]);
          return _SecurityLabel ??= [];
        }

        set
        {
          if (_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            Overflow.Remove("securityLabel");
          _SecurityLabel = value;
          OnPropertyChanged("SecurityLabel");
        }

      }

      private List<Hl7.Fhir.Model.Coding>? _SecurityLabel;

      /// <summary>
      /// Context of activities covered by this rule.
      /// </summary>
      [FhirElement("purpose", InSummary=true, Order=90)]
      [Binding("PurposeOfUse")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Coding> Purpose
      {
        get
        {
          if(_Purpose.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Coding>), Overflow["purpose"]);
          return _Purpose ??= [];
        }

        set
        {
          if (_Purpose.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            Overflow.Remove("purpose");
          _Purpose = value;
          OnPropertyChanged("Purpose");
        }

      }

      private List<Hl7.Fhir.Model.Coding>? _Purpose;

      /// <summary>
      /// e.g. Resource Type, Profile, CDA, etc.
      /// </summary>
      [FhirElement("class", InSummary=true, Order=100)]
      [Binding("ConsentContentClass")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Coding> Class
      {
        get
        {
          if(_Class.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Coding>), Overflow["class"]);
          return _Class ??= [];
        }

        set
        {
          if (_Class.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            Overflow.Remove("class");
          _Class = value;
          OnPropertyChanged("Class");
        }

      }

      private List<Hl7.Fhir.Model.Coding>? _Class;

      /// <summary>
      /// e.g. LOINC or SNOMED CT code, etc. in the content.
      /// </summary>
      [FhirElement("code", InSummary=true, Order=110)]
      [Binding("ConsentContentCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Code
      {
        get
        {
          if(_Code.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["code"]);
          return _Code ??= [];
        }

        set
        {
          if (_Code.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("code");
          _Code = value;
          OnPropertyChanged("Code");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Code;

      /// <summary>
      /// Timeframe for data controlled by this rule.
      /// </summary>
      [FhirElement("dataPeriod", InSummary=true, Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.Period? DataPeriod
      {
        get
        {
          if(_DataPeriod.InOverflow<Hl7.Fhir.Model.Period>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["dataPeriod"]);
          return _DataPeriod;
        }

        set
        {
          if (_DataPeriod.InOverflow<Hl7.Fhir.Model.Period>())
            Overflow.Remove("dataPeriod");
          _DataPeriod = value;
          OnPropertyChanged("DataPeriod");
        }

      }

      private Hl7.Fhir.Model.Period? _DataPeriod;

      /// <summary>
      /// Data controlled by this rule.
      /// </summary>
      [FhirElement("data", InSummary=true, Order=130)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Consent.provisionDataComponent> Data
      {
        get
        {
          if(_Data.InOverflow<List<Hl7.Fhir.Model.Consent.provisionDataComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Consent.provisionDataComponent>), Overflow["data"]);
          return _Data ??= [];
        }

        set
        {
          if (_Data.InOverflow<List<Hl7.Fhir.Model.Consent.provisionDataComponent>>())
            Overflow.Remove("data");
          _Data = value;
          OnPropertyChanged("Data");
        }

      }

      private List<Hl7.Fhir.Model.Consent.provisionDataComponent>? _Data;

      /// <summary>
      /// Nested Exception Rules.
      /// </summary>
      [FhirElement("provision", Order=140)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Consent.provisionComponent> Provision
      {
        get
        {
          if(_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Consent.provisionComponent>), Overflow["provision"]);
          return _Provision ??= [];
        }

        set
        {
          if (_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>())
            Overflow.Remove("provision");
          _Provision = value;
          OnPropertyChanged("Provision");
        }

      }

      private List<Hl7.Fhir.Model.Consent.provisionComponent>? _Provision;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not provisionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_TypeElement is not null) dest.TypeElement = (Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>)_TypeElement.DeepCopyInternal();
        if(_Period is not null) dest.Period = (Hl7.Fhir.Model.Period)_Period.DeepCopyInternal();
        if(_Actor is not null) dest.Actor = new List<Hl7.Fhir.Model.Consent.provisionActorComponent>(_Actor.DeepCopyInternal());
        if(_Action is not null) dest.Action = new List<Hl7.Fhir.Model.CodeableConcept>(_Action.DeepCopyInternal());
        if(_SecurityLabel is not null) dest.SecurityLabel = new List<Hl7.Fhir.Model.Coding>(_SecurityLabel.DeepCopyInternal());
        if(_Purpose is not null) dest.Purpose = new List<Hl7.Fhir.Model.Coding>(_Purpose.DeepCopyInternal());
        if(_Class is not null) dest.Class = new List<Hl7.Fhir.Model.Coding>(_Class.DeepCopyInternal());
        if(_Code is not null) dest.Code = new List<Hl7.Fhir.Model.CodeableConcept>(_Code.DeepCopyInternal());
        if(_DataPeriod is not null) dest.DataPeriod = (Hl7.Fhir.Model.Period)_DataPeriod.DeepCopyInternal();
        if(_Data is not null) dest.Data = new List<Hl7.Fhir.Model.Consent.provisionDataComponent>(_Data.DeepCopyInternal());
        if(_Provision is not null) dest.Provision = new List<Hl7.Fhir.Model.Consent.provisionComponent>(_Provision.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new provisionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not provisionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_TypeElement, otherT._TypeElement)) return false;
        if(!comparer.Equals(_Period, otherT._Period)) return false;
        if(!comparer.ListEquals(_Actor, otherT._Actor)) return false;
        if(!comparer.ListEquals(_Action, otherT._Action)) return false;
        if(!comparer.ListEquals(_SecurityLabel, otherT._SecurityLabel)) return false;
        if(!comparer.ListEquals(_Purpose, otherT._Purpose)) return false;
        if(!comparer.ListEquals(_Class, otherT._Class)) return false;
        if(!comparer.ListEquals(_Code, otherT._Code)) return false;
        if(!comparer.Equals(_DataPeriod, otherT._DataPeriod)) return false;
        if(!comparer.ListEquals(_Data, otherT._Data)) return false;
        if(!comparer.ListEquals(_Provision, otherT._Provision)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_TypeElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _TypeElement;
            return (value as Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>) is not null;
          case "period":
            if (_Period.InOverflow<Hl7.Fhir.Model.Period>())
            {
              value = Overflow["period"];
              return true;
            }
            value = _Period;
            return (value as Hl7.Fhir.Model.Period) is not null;
          case "actor":
            if (_Actor.InOverflow<List<Hl7.Fhir.Model.Consent.provisionActorComponent>>())
            {
              value = Overflow["actor"];
              return true;
            }
            value = _Actor;
            return (value as List<Hl7.Fhir.Model.Consent.provisionActorComponent>)?.Any() is true;
          case "action":
            if (_Action.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["action"];
              return true;
            }
            value = _Action;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "securityLabel":
            if (_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            {
              value = Overflow["securityLabel"];
              return true;
            }
            value = _SecurityLabel;
            return (value as List<Hl7.Fhir.Model.Coding>)?.Any() is true;
          case "purpose":
            if (_Purpose.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            {
              value = Overflow["purpose"];
              return true;
            }
            value = _Purpose;
            return (value as List<Hl7.Fhir.Model.Coding>)?.Any() is true;
          case "class":
            if (_Class.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            {
              value = Overflow["class"];
              return true;
            }
            value = _Class;
            return (value as List<Hl7.Fhir.Model.Coding>)?.Any() is true;
          case "code":
            if (_Code.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _Code;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "dataPeriod":
            if (_DataPeriod.InOverflow<Hl7.Fhir.Model.Period>())
            {
              value = Overflow["dataPeriod"];
              return true;
            }
            value = _DataPeriod;
            return (value as Hl7.Fhir.Model.Period) is not null;
          case "data":
            if (_Data.InOverflow<List<Hl7.Fhir.Model.Consent.provisionDataComponent>>())
            {
              value = Overflow["data"];
              return true;
            }
            value = _Data;
            return (value as List<Hl7.Fhir.Model.Consent.provisionDataComponent>)?.Any() is true;
          case "provision":
            if (_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>())
            {
              value = Overflow["provision"];
              return true;
            }
            value = _Provision;
            return (value as List<Hl7.Fhir.Model.Consent.provisionComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Code<Hl7.Fhir.Model.Consent.ConsentProvisionType> or null))
            {
              TypeElement = OverflowNull<Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>>.INSTANCE;
              Overflow["type"] = value;
            }
            else TypeElement = (Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>?)value;
            return this;
          case "period":
            if (value is not (Hl7.Fhir.Model.Period or null))
            {
              Period = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
              Overflow["period"] = value;
            }
            else Period = (Hl7.Fhir.Model.Period?)value;
            return this;
          case "actor":
            if (value is not (List<Hl7.Fhir.Model.Consent.provisionActorComponent> or null))
            {
              Actor = OverflowNull<List<Hl7.Fhir.Model.Consent.provisionActorComponent>>.INSTANCE;
              Overflow["actor"] = value;
            }
            else Actor = (List<Hl7.Fhir.Model.Consent.provisionActorComponent>?)value!;
            return this;
          case "action":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Action = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["action"] = value;
            }
            else Action = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "securityLabel":
            if (value is not (List<Hl7.Fhir.Model.Coding> or null))
            {
              SecurityLabel = OverflowNull<List<Hl7.Fhir.Model.Coding>>.INSTANCE;
              Overflow["securityLabel"] = value;
            }
            else SecurityLabel = (List<Hl7.Fhir.Model.Coding>?)value!;
            return this;
          case "purpose":
            if (value is not (List<Hl7.Fhir.Model.Coding> or null))
            {
              Purpose = OverflowNull<List<Hl7.Fhir.Model.Coding>>.INSTANCE;
              Overflow["purpose"] = value;
            }
            else Purpose = (List<Hl7.Fhir.Model.Coding>?)value!;
            return this;
          case "class":
            if (value is not (List<Hl7.Fhir.Model.Coding> or null))
            {
              Class = OverflowNull<List<Hl7.Fhir.Model.Coding>>.INSTANCE;
              Overflow["class"] = value;
            }
            else Class = (List<Hl7.Fhir.Model.Coding>?)value!;
            return this;
          case "code":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Code = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["code"] = value;
            }
            else Code = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "dataPeriod":
            if (value is not (Hl7.Fhir.Model.Period or null))
            {
              DataPeriod = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
              Overflow["dataPeriod"] = value;
            }
            else DataPeriod = (Hl7.Fhir.Model.Period?)value;
            return this;
          case "data":
            if (value is not (List<Hl7.Fhir.Model.Consent.provisionDataComponent> or null))
            {
              Data = OverflowNull<List<Hl7.Fhir.Model.Consent.provisionDataComponent>>.INSTANCE;
              Overflow["data"] = value;
            }
            else Data = (List<Hl7.Fhir.Model.Consent.provisionDataComponent>?)value!;
            return this;
          case "provision":
            if (value is not (List<Hl7.Fhir.Model.Consent.provisionComponent> or null))
            {
              Provision = OverflowNull<List<Hl7.Fhir.Model.Consent.provisionComponent>>.INSTANCE;
              Overflow["provision"] = value;
            }
            else Provision = (List<Hl7.Fhir.Model.Consent.provisionComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_TypeElement is not null && !_TypeElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentProvisionType>>()) yield return new KeyValuePair<string,object>("type",_TypeElement);
        if (_Period is not null && !_Period.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("period",_Period);
        if (_Actor?.Any() is true && !_Actor.InOverflow<List<Hl7.Fhir.Model.Consent.provisionActorComponent>>()) yield return new KeyValuePair<string,object>("actor",_Actor);
        if (_Action?.Any() is true && !_Action.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("action",_Action);
        if (_SecurityLabel?.Any() is true && !_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.Coding>>()) yield return new KeyValuePair<string,object>("securityLabel",_SecurityLabel);
        if (_Purpose?.Any() is true && !_Purpose.InOverflow<List<Hl7.Fhir.Model.Coding>>()) yield return new KeyValuePair<string,object>("purpose",_Purpose);
        if (_Class?.Any() is true && !_Class.InOverflow<List<Hl7.Fhir.Model.Coding>>()) yield return new KeyValuePair<string,object>("class",_Class);
        if (_Code?.Any() is true && !_Code.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("code",_Code);
        if (_DataPeriod is not null && !_DataPeriod.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("dataPeriod",_DataPeriod);
        if (_Data?.Any() is true && !_Data.InOverflow<List<Hl7.Fhir.Model.Consent.provisionDataComponent>>()) yield return new KeyValuePair<string,object>("data",_Data);
        if (_Provision?.Any() is true && !_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>()) yield return new KeyValuePair<string,object>("provision",_Provision);
      }

    }

    /// <summary>
    /// Who|what controlled by this rule (or group, by role)
    /// </summary>
    /// <remarks>
    /// Who or what is controlled by this rule. Use group to identify a set of actors by some property they share (e.g. 'admitting officers').
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Consent.provision.actor", IsBackboneType=true)]
    public partial class provisionActorComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Consent.provision.actor";

      /// <summary>
      /// How the actor is involved.
      /// </summary>
      [FhirElement("role", Order=40)]
      [Binding("ConsentActorRole")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Role
      {
        get
        {
          if(_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["role"]);
          return _Role!;
        }

        set
        {
          if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("role");
          _Role = value;
          OnPropertyChanged("Role");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Role;

      /// <summary>
      /// Resource for the actor (or group, by role).
      /// </summary>
      [FhirElement("reference", Order=50)]
      [CLSCompliant(false)]
      [References("Device","Group","CareTeam","Organization","Patient","Practitioner","RelatedPerson","PractitionerRole")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference Reference
      {
        get
        {
          if(_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["reference"]);
          return _Reference!;
        }

        set
        {
          if (_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("reference");
          _Reference = value;
          OnPropertyChanged("Reference");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Reference;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not provisionActorComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Role is not null) dest.Role = (Hl7.Fhir.Model.CodeableConcept)_Role.DeepCopyInternal();
        if(_Reference is not null) dest.Reference = (Hl7.Fhir.Model.ResourceReference)_Reference.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new provisionActorComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not provisionActorComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Role, otherT._Role)) return false;
        if(!comparer.Equals(_Reference, otherT._Reference)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "role":
            if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["role"];
              return true;
            }
            value = _Role;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "reference":
            if (_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["reference"];
              return true;
            }
            value = _Reference;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "role":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Role = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["role"] = value;
            }
            else Role = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "reference":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Reference = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["reference"] = value;
            }
            else Reference = (Hl7.Fhir.Model.ResourceReference?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Role is not null && !_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("role",_Role);
        if (_Reference is not null && !_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("reference",_Reference);
      }

    }

    /// <summary>
    /// Data controlled by this rule
    /// </summary>
    /// <remarks>
    /// The resources controlled by this rule if specific resources are referenced.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Consent.provision.data", IsBackboneType=true)]
    public partial class provisionDataComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Consent.provision.data";

      /// <summary>
      /// instance | related | dependents | authoredby.
      /// </summary>
      [FhirElement("meaning", InSummary=true, Order=40)]
      [Binding("ConsentDataMeaning")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning> MeaningElement
      {
        get
        {
          if(_MeaningElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>), Overflow["meaning"]);
          return _MeaningElement!;
        }

        set
        {
          if (_MeaningElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>>())
            Overflow.Remove("meaning");
          _MeaningElement = value;
          OnPropertyChanged("MeaningElement");
        }

      }

      private Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>? _MeaningElement;

      /// <summary>
      /// instance | related | dependents | authoredby
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.Consent.ConsentDataMeaning? Meaning
      {
        get => MeaningElement?.Value;
        set
        {
          MeaningElement = value is null ? null! : new Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>(value);
          OnPropertyChanged("Meaning");
        }
      }

      /// <summary>
      /// The actual data reference.
      /// </summary>
      [FhirElement("reference", InSummary=true, Order=50)]
      [CLSCompliant(false)]
      [References("Resource")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference Reference
      {
        get
        {
          if(_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["reference"]);
          return _Reference!;
        }

        set
        {
          if (_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("reference");
          _Reference = value;
          OnPropertyChanged("Reference");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Reference;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not provisionDataComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_MeaningElement is not null) dest.MeaningElement = (Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>)_MeaningElement.DeepCopyInternal();
        if(_Reference is not null) dest.Reference = (Hl7.Fhir.Model.ResourceReference)_Reference.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new provisionDataComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not provisionDataComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_MeaningElement, otherT._MeaningElement)) return false;
        if(!comparer.Equals(_Reference, otherT._Reference)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "meaning":
            if (_MeaningElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>>())
            {
              value = Overflow["meaning"];
              return true;
            }
            value = _MeaningElement;
            return (value as Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>) is not null;
          case "reference":
            if (_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["reference"];
              return true;
            }
            value = _Reference;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "meaning":
            if (value is not (Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning> or null))
            {
              MeaningElement = OverflowNull<Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>>.INSTANCE;
              Overflow["meaning"] = value;
            }
            else MeaningElement = (Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>?)value!;
            return this;
          case "reference":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Reference = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["reference"] = value;
            }
            else Reference = (Hl7.Fhir.Model.ResourceReference?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_MeaningElement is not null && !_MeaningElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentDataMeaning>>()) yield return new KeyValuePair<string,object>("meaning",_MeaningElement);
        if (_Reference is not null && !_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("reference",_Reference);
      }

    }

    /// <summary>
    /// Identifier for this record (external references).
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=90, FiveWs="FiveWs.identifier")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// draft | proposed | active | rejected | inactive | entered-in-error.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=100, FiveWs="FiveWs.status")]
    [Binding("ConsentState")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.Consent.ConsentState> StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentState>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.Consent.ConsentState>), Overflow["status"]);
        return _StatusElement!;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentState>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.Consent.ConsentState>? _StatusElement;

    /// <summary>
    /// draft | proposed | active | rejected | inactive | entered-in-error
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.Consent.ConsentState? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.Consent.ConsentState>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// Which of the four areas this resource covers (extensible).
    /// </summary>
    [FhirElement("scope", InSummary=true, IsModifier=true, Order=110)]
    [Binding("ConsentScope")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept Scope
    {
      get
      {
        if(_Scope.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["scope"]);
        return _Scope!;
      }

      set
      {
        if (_Scope.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("scope");
        _Scope = value;
        OnPropertyChanged("Scope");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Scope;

    /// <summary>
    /// Classification of the consent statement - for indexing/retrieval.
    /// </summary>
    [FhirElement("category", InSummary=true, Order=120, FiveWs="FiveWs.class")]
    [Binding("ConsentCategory")]
    [Cardinality(Min=1,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Category
    {
      get
      {
        if(_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["category"]);
        return _Category ??= [];
      }

      set
      {
        if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("category");
        _Category = value;
        OnPropertyChanged("Category");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Category;

    /// <summary>
    /// Who the consent applies to.
    /// </summary>
    [FhirElement("patient", InSummary=true, Order=130, FiveWs="FiveWs.subject")]
    [CLSCompliant(false)]
    [References("Patient")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Patient
    {
      get
      {
        if(_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["patient"]);
        return _Patient;
      }

      set
      {
        if (_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("patient");
        _Patient = value;
        OnPropertyChanged("Patient");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Patient;

    /// <summary>
    /// When this Consent was created or indexed.
    /// </summary>
    [FhirElement("dateTime", InSummary=true, Order=140, FiveWs="FiveWs.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? DateTimeElement
    {
      get
      {
        if(_DateTimeElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["dateTime"]);
        return _DateTimeElement;
      }

      set
      {
        if (_DateTimeElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("dateTime");
        _DateTimeElement = value;
        OnPropertyChanged("DateTimeElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _DateTimeElement;

    /// <summary>
    /// When this Consent was created or indexed
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? DateTime
    {
      get => DateTimeElement?.Value;
      set
      {
        DateTimeElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("DateTime");
      }
    }

    /// <summary>
    /// Who is agreeing to the policy and rules.
    /// </summary>
    [FhirElement("performer", InSummary=true, Order=150, FiveWs="FiveWs.actor")]
    [CLSCompliant(false)]
    [References("Organization","Patient","Practitioner","RelatedPerson","PractitionerRole")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Performer
    {
      get
      {
        if(_Performer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["performer"]);
        return _Performer ??= [];
      }

      set
      {
        if (_Performer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("performer");
        _Performer = value;
        OnPropertyChanged("Performer");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Performer;

    /// <summary>
    /// Custodian of the consent.
    /// </summary>
    [FhirElement("organization", InSummary=true, Order=160, FiveWs="FiveWs.witness")]
    [CLSCompliant(false)]
    [References("Organization")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Organization
    {
      get
      {
        if(_Organization.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["organization"]);
        return _Organization ??= [];
      }

      set
      {
        if (_Organization.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("organization");
        _Organization = value;
        OnPropertyChanged("Organization");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Organization;

    /// <summary>
    /// Source from which this consent is taken.
    /// </summary>
    [FhirElement("source", InSummary=true, Order=170, Choice=ChoiceType.DatatypeChoice)]
    [CLSCompliant(false)]
    [References("Consent","DocumentReference","Contract","QuestionnaireResponse")]
    [AllowedTypes(typeof(Hl7.Fhir.Model.Attachment),typeof(Hl7.Fhir.Model.ResourceReference))]
    [DataMember]
    public Hl7.Fhir.Model.DataType? Source
    {
      get
      {
        if(_Source.InOverflow<DynamicDataType>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["source"]);
        return _Source;
      }

      set
      {
        if (_Source.InOverflow<DynamicDataType>())
          Overflow.Remove("source");
        _Source = value;
        OnPropertyChanged("Source");
      }

    }

    private Hl7.Fhir.Model.DataType? _Source;

    /// <summary>
    /// Policies covered by this consent.
    /// </summary>
    [FhirElement("policy", Order=180)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Consent.PolicyComponent> Policy
    {
      get
      {
        if(_Policy.InOverflow<List<Hl7.Fhir.Model.Consent.PolicyComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Consent.PolicyComponent>), Overflow["policy"]);
        return _Policy ??= [];
      }

      set
      {
        if (_Policy.InOverflow<List<Hl7.Fhir.Model.Consent.PolicyComponent>>())
          Overflow.Remove("policy");
        _Policy = value;
        OnPropertyChanged("Policy");
      }

    }

    private List<Hl7.Fhir.Model.Consent.PolicyComponent>? _Policy;

    /// <summary>
    /// Regulation that this consents to.
    /// </summary>
    [FhirElement("policyRule", InSummary=true, Order=190)]
    [Binding("ConsentPolicyRule")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? PolicyRule
    {
      get
      {
        if(_PolicyRule.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["policyRule"]);
        return _PolicyRule;
      }

      set
      {
        if (_PolicyRule.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("policyRule");
        _PolicyRule = value;
        OnPropertyChanged("PolicyRule");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _PolicyRule;

    /// <summary>
    /// Consent Verified by patient or family.
    /// </summary>
    [FhirElement("verification", InSummary=true, Order=200)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Consent.VerificationComponent> Verification
    {
      get
      {
        if(_Verification.InOverflow<List<Hl7.Fhir.Model.Consent.VerificationComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Consent.VerificationComponent>), Overflow["verification"]);
        return _Verification ??= [];
      }

      set
      {
        if (_Verification.InOverflow<List<Hl7.Fhir.Model.Consent.VerificationComponent>>())
          Overflow.Remove("verification");
        _Verification = value;
        OnPropertyChanged("Verification");
      }

    }

    private List<Hl7.Fhir.Model.Consent.VerificationComponent>? _Verification;

    /// <summary>
    /// Constraints to the base Consent.policyRule.
    /// </summary>
    [FhirElement("provision", InSummary=true, Order=210)]
    [DataMember]
    public Hl7.Fhir.Model.Consent.provisionComponent? Provision
    {
      get
      {
        if(_Provision.InOverflow<Hl7.Fhir.Model.Consent.provisionComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Consent.provisionComponent), Overflow["provision"]);
        return _Provision;
      }

      set
      {
        if (_Provision.InOverflow<Hl7.Fhir.Model.Consent.provisionComponent>())
          Overflow.Remove("provision");
        _Provision = value;
        OnPropertyChanged("Provision");
      }

    }

    private Hl7.Fhir.Model.Consent.provisionComponent? _Provision;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not Consent dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.Consent.ConsentState>)_StatusElement.DeepCopyInternal();
      if(_Scope is not null) dest.Scope = (Hl7.Fhir.Model.CodeableConcept)_Scope.DeepCopyInternal();
      if(_Category is not null) dest.Category = new List<Hl7.Fhir.Model.CodeableConcept>(_Category.DeepCopyInternal());
      if(_Patient is not null) dest.Patient = (Hl7.Fhir.Model.ResourceReference)_Patient.DeepCopyInternal();
      if(_DateTimeElement is not null) dest.DateTimeElement = (Hl7.Fhir.Model.FhirDateTime)_DateTimeElement.DeepCopyInternal();
      if(_Performer is not null) dest.Performer = new List<Hl7.Fhir.Model.ResourceReference>(_Performer.DeepCopyInternal());
      if(_Organization is not null) dest.Organization = new List<Hl7.Fhir.Model.ResourceReference>(_Organization.DeepCopyInternal());
      if(_Source is not null) dest.Source = (Hl7.Fhir.Model.DataType)_Source.DeepCopyInternal();
      if(_Policy is not null) dest.Policy = new List<Hl7.Fhir.Model.Consent.PolicyComponent>(_Policy.DeepCopyInternal());
      if(_PolicyRule is not null) dest.PolicyRule = (Hl7.Fhir.Model.CodeableConcept)_PolicyRule.DeepCopyInternal();
      if(_Verification is not null) dest.Verification = new List<Hl7.Fhir.Model.Consent.VerificationComponent>(_Verification.DeepCopyInternal());
      if(_Provision is not null) dest.Provision = (Hl7.Fhir.Model.Consent.provisionComponent)_Provision.DeepCopyInternal();
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new Consent();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not Consent otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_Scope, otherT._Scope)) return false;
      if(!comparer.ListEquals(_Category, otherT._Category)) return false;
      if(!comparer.Equals(_Patient, otherT._Patient)) return false;
      if(!comparer.Equals(_DateTimeElement, otherT._DateTimeElement)) return false;
      if(!comparer.ListEquals(_Performer, otherT._Performer)) return false;
      if(!comparer.ListEquals(_Organization, otherT._Organization)) return false;
      if(!comparer.Equals(_Source, otherT._Source)) return false;
      if(!comparer.ListEquals(_Policy, otherT._Policy)) return false;
      if(!comparer.Equals(_PolicyRule, otherT._PolicyRule)) return false;
      if(!comparer.ListEquals(_Verification, otherT._Verification)) return false;
      if(!comparer.Equals(_Provision, otherT._Provision)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentState>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.Consent.ConsentState>) is not null;
        case "scope":
          if (_Scope.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["scope"];
            return true;
          }
          value = _Scope;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "category":
          if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["category"];
            return true;
          }
          value = _Category;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "patient":
          if (_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["patient"];
            return true;
          }
          value = _Patient;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "dateTime":
          if (_DateTimeElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["dateTime"];
            return true;
          }
          value = _DateTimeElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "performer":
          if (_Performer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["performer"];
            return true;
          }
          value = _Performer;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "organization":
          if (_Organization.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["organization"];
            return true;
          }
          value = _Organization;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "source":
          if (_Source.InOverflow<DynamicDataType>())
          {
            value = Overflow["source"];
            return true;
          }
          value = _Source;
          return (value as Hl7.Fhir.Model.DataType) is not null;
        case "policy":
          if (_Policy.InOverflow<List<Hl7.Fhir.Model.Consent.PolicyComponent>>())
          {
            value = Overflow["policy"];
            return true;
          }
          value = _Policy;
          return (value as List<Hl7.Fhir.Model.Consent.PolicyComponent>)?.Any() is true;
        case "policyRule":
          if (_PolicyRule.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["policyRule"];
            return true;
          }
          value = _PolicyRule;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "verification":
          if (_Verification.InOverflow<List<Hl7.Fhir.Model.Consent.VerificationComponent>>())
          {
            value = Overflow["verification"];
            return true;
          }
          value = _Verification;
          return (value as List<Hl7.Fhir.Model.Consent.VerificationComponent>)?.Any() is true;
        case "provision":
          if (_Provision.InOverflow<Hl7.Fhir.Model.Consent.provisionComponent>())
          {
            value = Overflow["provision"];
            return true;
          }
          value = _Provision;
          return (value as Hl7.Fhir.Model.Consent.provisionComponent) is not null;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.Consent.ConsentState> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.Consent.ConsentState>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.Consent.ConsentState>?)value!;
          return this;
        case "scope":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Scope = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["scope"] = value;
          }
          else Scope = (Hl7.Fhir.Model.CodeableConcept?)value!;
          return this;
        case "category":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Category = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["category"] = value;
          }
          else Category = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "patient":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Patient = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["patient"] = value;
          }
          else Patient = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "dateTime":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            DateTimeElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["dateTime"] = value;
          }
          else DateTimeElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "performer":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Performer = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["performer"] = value;
          }
          else Performer = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "organization":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Organization = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["organization"] = value;
          }
          else Organization = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "source":
          if (value is not (Hl7.Fhir.Model.DataType or null))
          {
            Source = OverflowNull<DynamicDataType>.INSTANCE;
            Overflow["source"] = value;
          }
          else Source = (Hl7.Fhir.Model.DataType?)value;
          return this;
        case "policy":
          if (value is not (List<Hl7.Fhir.Model.Consent.PolicyComponent> or null))
          {
            Policy = OverflowNull<List<Hl7.Fhir.Model.Consent.PolicyComponent>>.INSTANCE;
            Overflow["policy"] = value;
          }
          else Policy = (List<Hl7.Fhir.Model.Consent.PolicyComponent>?)value!;
          return this;
        case "policyRule":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            PolicyRule = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["policyRule"] = value;
          }
          else PolicyRule = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "verification":
          if (value is not (List<Hl7.Fhir.Model.Consent.VerificationComponent> or null))
          {
            Verification = OverflowNull<List<Hl7.Fhir.Model.Consent.VerificationComponent>>.INSTANCE;
            Overflow["verification"] = value;
          }
          else Verification = (List<Hl7.Fhir.Model.Consent.VerificationComponent>?)value!;
          return this;
        case "provision":
          if (value is not (Hl7.Fhir.Model.Consent.provisionComponent or null))
          {
            Provision = OverflowNull<Hl7.Fhir.Model.Consent.provisionComponent>.INSTANCE;
            Overflow["provision"] = value;
          }
          else Provision = (Hl7.Fhir.Model.Consent.provisionComponent?)value;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentState>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_Scope is not null && !_Scope.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("scope",_Scope);
      if (_Category?.Any() is true && !_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("category",_Category);
      if (_Patient is not null && !_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("patient",_Patient);
      if (_DateTimeElement is not null && !_DateTimeElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("dateTime",_DateTimeElement);
      if (_Performer?.Any() is true && !_Performer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("performer",_Performer);
      if (_Organization?.Any() is true && !_Organization.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("organization",_Organization);
      if (_Source is not null && !_Source.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("source",_Source);
      if (_Policy?.Any() is true && !_Policy.InOverflow<List<Hl7.Fhir.Model.Consent.PolicyComponent>>()) yield return new KeyValuePair<string,object>("policy",_Policy);
      if (_PolicyRule is not null && !_PolicyRule.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("policyRule",_PolicyRule);
      if (_Verification?.Any() is true && !_Verification.InOverflow<List<Hl7.Fhir.Model.Consent.VerificationComponent>>()) yield return new KeyValuePair<string,object>("verification",_Verification);
      if (_Provision is not null && !_Provision.InOverflow<Hl7.Fhir.Model.Consent.provisionComponent>()) yield return new KeyValuePair<string,object>("provision",_Provision);
    }

  }

}

// end of file
