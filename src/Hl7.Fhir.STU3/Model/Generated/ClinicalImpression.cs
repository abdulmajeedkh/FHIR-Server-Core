// <auto-generated/>
// Contents of: hl7.fhir.r3.expansions@3.0.2, hl7.fhir.r3.core@3.0.2

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// A clinical assessment performed when planning treatments and management strategies for a patient
  /// </summary>
  /// <remarks>
  /// A record of a clinical assessment performed to determine what problem(s) may affect the patient and before planning the treatments or management strategies that are best to manage a patient's condition. Assessments are often 1:1 with a clinical consultation / encounter,  but this varies greatly depending on the clinical workflow. This resource is called "ClinicalImpression" rather than "ClinicalAssessment" to avoid confusion with the recording of assessment tools such as Apgar score.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("ClinicalImpression","http://hl7.org/fhir/StructureDefinition/ClinicalImpression")]
  public partial class ClinicalImpression : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "ClinicalImpression";

    /// <summary>
    /// The workflow state of a clinical impression.
    /// (url: http://hl7.org/fhir/ValueSet/clinical-impression-status)
    /// (system: http://hl7.org/fhir/clinical-impression-status)
    /// </summary>
    [FhirEnumeration("ClinicalImpressionStatus", "http://hl7.org/fhir/ValueSet/clinical-impression-status", "http://hl7.org/fhir/clinical-impression-status")]
    public enum ClinicalImpressionStatus
    {
      /// <summary>
      /// The assessment is still on-going and results are not yet final.
      /// (system: http://hl7.org/fhir/clinical-impression-status)
      /// </summary>
      [EnumLiteral("draft"), Description("In progress")]
      Draft,
      /// <summary>
      /// The assessment is done and the results are final.
      /// (system: http://hl7.org/fhir/clinical-impression-status)
      /// </summary>
      [EnumLiteral("completed"), Description("Completed")]
      Completed,
      /// <summary>
      /// This assessment was never actually done and the record is erroneous (e.g. Wrong patient).
      /// (system: http://hl7.org/fhir/clinical-impression-status)
      /// </summary>
      [EnumLiteral("entered-in-error"), Description("Entered in Error")]
      EnteredInError,
    }

    /// <summary>
    /// One or more sets of investigations (signs, symptions, etc.)
    /// </summary>
    /// <remarks>
    /// One or more sets of investigations (signs, symptions, etc.). The actual grouping of investigations vary greatly depending on the type and context of the assessment. These investigations may include data generated during the assessment process, or data previously generated and recorded that is pertinent to the outcomes.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ClinicalImpression.investigation", IsBackboneType=true)]
    public partial class InvestigationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ClinicalImpression.investigation";

      /// <summary>
      /// A name/code for the set.
      /// </summary>
      [FhirElement("code", Order=40)]
      [Binding("InvestigationGroupType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Code
      {
        get
        {
          if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
          return _Code!;
        }

        set
        {
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("code");
          _Code = value;
          OnPropertyChanged("Code");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Code;

      /// <summary>
      /// Record of a specific investigation.
      /// </summary>
      [FhirElement("item", Order=50)]
      [CLSCompliant(false)]
      [References("Observation","QuestionnaireResponse","FamilyMemberHistory","DiagnosticReport","RiskAssessment","ImagingStudy")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Item
      {
        get
        {
          if(_Item.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["item"]);
          return _Item ??= [];
        }

        set
        {
          if (_Item.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("item");
          _Item = value;
          OnPropertyChanged("Item");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Item;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not InvestigationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
        if(_Item is not null) dest.Item = new List<Hl7.Fhir.Model.ResourceReference>(_Item.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new InvestigationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not InvestigationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Code, otherT._Code)) return false;
        if(!comparer.ListEquals(_Item, otherT._Item)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "code":
            if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _Code;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "item":
            if (_Item.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["item"];
              return true;
            }
            value = _Item;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "code":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["code"] = value;
            }
            else Code = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "item":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Item = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["item"] = value;
            }
            else Item = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
        if (_Item?.Any() is true && !_Item.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("item",_Item);
      }

    }

    /// <summary>
    /// Possible or likely findings and diagnoses
    /// </summary>
    /// <remarks>
    /// Specific findings or diagnoses that was considered likely or relevant to ongoing treatment.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ClinicalImpression.finding", IsBackboneType=true)]
    public partial class FindingComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ClinicalImpression.finding";

      /// <summary>
      /// What was found.
      /// </summary>
      [FhirElement("item", Order=40, Choice=ChoiceType.DatatypeChoice)]
      [Binding("ConditionKind")]
      [CLSCompliant(false)]
      [References("Condition","Observation")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.ResourceReference))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Item
      {
        get
        {
          if(_Item.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["item"]);
          return _Item!;
        }

        set
        {
          if (_Item.InOverflow<DynamicDataType>())
            Overflow.Remove("item");
          _Item = value;
          OnPropertyChanged("Item");
        }

      }

      private Hl7.Fhir.Model.DataType? _Item;

      /// <summary>
      /// Which investigations support finding.
      /// </summary>
      [FhirElement("basis", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? BasisElement
      {
        get
        {
          if(_BasisElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["basis"]);
          return _BasisElement;
        }

        set
        {
          if (_BasisElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("basis");
          _BasisElement = value;
          OnPropertyChanged("BasisElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _BasisElement;

      /// <summary>
      /// Which investigations support finding
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Basis
      {
        get => BasisElement?.Value;
        set
        {
          BasisElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Basis");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not FindingComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Item is not null) dest.Item = (Hl7.Fhir.Model.DataType)_Item.DeepCopyInternal();
        if(_BasisElement is not null) dest.BasisElement = (Hl7.Fhir.Model.FhirString)_BasisElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new FindingComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not FindingComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Item, otherT._Item)) return false;
        if(!comparer.Equals(_BasisElement, otherT._BasisElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "item":
            if (_Item.InOverflow<DynamicDataType>())
            {
              value = Overflow["item"];
              return true;
            }
            value = _Item;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "basis":
            if (_BasisElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["basis"];
              return true;
            }
            value = _BasisElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "item":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Item = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["item"] = value;
            }
            else Item = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          case "basis":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              BasisElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["basis"] = value;
            }
            else BasisElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Item is not null && !_Item.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("item",_Item);
        if (_BasisElement is not null && !_BasisElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("basis",_BasisElement);
      }

    }

    /// <summary>
    /// Business identifier.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=90, FiveWs="id")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// draft | completed | entered-in-error.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=100, FiveWs="status")]
    [Binding("ClinicalImpressionStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus> StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>), Overflow["status"]);
        return _StatusElement!;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>? _StatusElement;

    /// <summary>
    /// draft | completed | entered-in-error
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// Kind of assessment performed.
    /// </summary>
    [FhirElement("code", InSummary=true, Order=110, FiveWs="what")]
    [Binding("ClinicalImpressionCode")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Code
    {
      get
      {
        if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
        return _Code;
      }

      set
      {
        if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("code");
        _Code = value;
        OnPropertyChanged("Code");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Code;

    /// <summary>
    /// Why/how the assessment was performed.
    /// </summary>
    [FhirElement("description", InSummary=true, Order=120)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? DescriptionElement
    {
      get
      {
        if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
        return _DescriptionElement;
      }

      set
      {
        if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("description");
        _DescriptionElement = value;
        OnPropertyChanged("DescriptionElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _DescriptionElement;

    /// <summary>
    /// Why/how the assessment was performed
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Description
    {
      get => DescriptionElement?.Value;
      set
      {
        DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Description");
      }
    }

    /// <summary>
    /// Patient or group assessed.
    /// </summary>
    [FhirElement("subject", InSummary=true, Order=130, FiveWs="who.focus")]
    [CLSCompliant(false)]
    [References("Patient","Group")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference Subject
    {
      get
      {
        if(_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["subject"]);
        return _Subject!;
      }

      set
      {
        if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("subject");
        _Subject = value;
        OnPropertyChanged("Subject");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Subject;

    /// <summary>
    /// Encounter or Episode created from.
    /// </summary>
    [FhirElement("context", InSummary=true, Order=140, FiveWs="context")]
    [CLSCompliant(false)]
    [References("Encounter","EpisodeOfCare")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Context
    {
      get
      {
        if(_Context.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["context"]);
        return _Context;
      }

      set
      {
        if (_Context.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("context");
        _Context = value;
        OnPropertyChanged("Context");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Context;

    /// <summary>
    /// Time of assessment.
    /// </summary>
    [FhirElement("effective", InSummary=true, Order=150, Choice=ChoiceType.DatatypeChoice, FiveWs="when.done")]
    [CLSCompliant(false)]
    [AllowedTypes(typeof(Hl7.Fhir.Model.FhirDateTime),typeof(Hl7.Fhir.Model.Period))]
    [DataMember]
    public Hl7.Fhir.Model.DataType? Effective
    {
      get
      {
        if(_Effective.InOverflow<DynamicDataType>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["effective"]);
        return _Effective;
      }

      set
      {
        if (_Effective.InOverflow<DynamicDataType>())
          Overflow.Remove("effective");
        _Effective = value;
        OnPropertyChanged("Effective");
      }

    }

    private Hl7.Fhir.Model.DataType? _Effective;

    /// <summary>
    /// When the assessment was documented.
    /// </summary>
    [FhirElement("date", InSummary=true, Order=160, FiveWs="when.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? DateElement
    {
      get
      {
        if(_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["date"]);
        return _DateElement;
      }

      set
      {
        if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("date");
        _DateElement = value;
        OnPropertyChanged("DateElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _DateElement;

    /// <summary>
    /// When the assessment was documented
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Date
    {
      get => DateElement?.Value;
      set
      {
        DateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("Date");
      }
    }

    /// <summary>
    /// The clinician performing the assessment.
    /// </summary>
    [FhirElement("assessor", InSummary=true, Order=170, FiveWs="who.author")]
    [CLSCompliant(false)]
    [References("Practitioner")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Assessor
    {
      get
      {
        if(_Assessor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["assessor"]);
        return _Assessor;
      }

      set
      {
        if (_Assessor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("assessor");
        _Assessor = value;
        OnPropertyChanged("Assessor");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Assessor;

    /// <summary>
    /// Reference to last assessment.
    /// </summary>
    [FhirElement("previous", Order=180)]
    [CLSCompliant(false)]
    [References("ClinicalImpression")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Previous
    {
      get
      {
        if(_Previous.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["previous"]);
        return _Previous;
      }

      set
      {
        if (_Previous.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("previous");
        _Previous = value;
        OnPropertyChanged("Previous");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Previous;

    /// <summary>
    /// Relevant impressions of patient state.
    /// </summary>
    [FhirElement("problem", InSummary=true, Order=190, FiveWs="why")]
    [CLSCompliant(false)]
    [References("Condition","AllergyIntolerance")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Problem
    {
      get
      {
        if(_Problem.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["problem"]);
        return _Problem ??= [];
      }

      set
      {
        if (_Problem.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("problem");
        _Problem = value;
        OnPropertyChanged("Problem");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Problem;

    /// <summary>
    /// One or more sets of investigations (signs, symptions, etc.).
    /// </summary>
    [FhirElement("investigation", Order=200)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent> Investigation
    {
      get
      {
        if(_Investigation.InOverflow<List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent>), Overflow["investigation"]);
        return _Investigation ??= [];
      }

      set
      {
        if (_Investigation.InOverflow<List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent>>())
          Overflow.Remove("investigation");
        _Investigation = value;
        OnPropertyChanged("Investigation");
      }

    }

    private List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent>? _Investigation;

    /// <summary>
    /// Clinical Protocol followed.
    /// </summary>
    [FhirElement("protocol", Order=210)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.FhirUri> ProtocolElement
    {
      get
      {
        if(_ProtocolElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirUri>), Overflow["protocol"]);
        return _ProtocolElement ??= [];
      }

      set
      {
        if (_ProtocolElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>())
          Overflow.Remove("protocol");
        _ProtocolElement = value;
        OnPropertyChanged("ProtocolElement");
      }

    }

    private List<Hl7.Fhir.Model.FhirUri>? _ProtocolElement;

    /// <summary>
    /// Clinical Protocol followed
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public IEnumerable<string?> Protocol
    {
      get => _ProtocolElement?.Select(elem => elem.Value) ?? [];
      set
      {
        if (value == null)
          ProtocolElement = null!;
        else
          ProtocolElement = new List<Hl7.Fhir.Model.FhirUri>(value.Select(elem=>new Hl7.Fhir.Model.FhirUri(elem)));
        OnPropertyChanged("Protocol");
      }
    }

    /// <summary>
    /// Summary of the assessment.
    /// </summary>
    [FhirElement("summary", Order=220)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? SummaryElement
    {
      get
      {
        if(_SummaryElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["summary"]);
        return _SummaryElement;
      }

      set
      {
        if (_SummaryElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("summary");
        _SummaryElement = value;
        OnPropertyChanged("SummaryElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _SummaryElement;

    /// <summary>
    /// Summary of the assessment
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Summary
    {
      get => SummaryElement?.Value;
      set
      {
        SummaryElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Summary");
      }
    }

    /// <summary>
    /// Possible or likely findings and diagnoses.
    /// </summary>
    [FhirElement("finding", Order=230)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent> Finding
    {
      get
      {
        if(_Finding.InOverflow<List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent>), Overflow["finding"]);
        return _Finding ??= [];
      }

      set
      {
        if (_Finding.InOverflow<List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent>>())
          Overflow.Remove("finding");
        _Finding = value;
        OnPropertyChanged("Finding");
      }

    }

    private List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent>? _Finding;

    /// <summary>
    /// Estimate of likely outcome.
    /// </summary>
    [FhirElement("prognosisCodeableConcept", Order=240)]
    [Binding("ClinicalImpressionPrognosis")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> PrognosisCodeableConcept
    {
      get
      {
        if(_PrognosisCodeableConcept.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["prognosisCodeableConcept"]);
        return _PrognosisCodeableConcept ??= [];
      }

      set
      {
        if (_PrognosisCodeableConcept.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("prognosisCodeableConcept");
        _PrognosisCodeableConcept = value;
        OnPropertyChanged("PrognosisCodeableConcept");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _PrognosisCodeableConcept;

    /// <summary>
    /// RiskAssessment expressing likely outcome.
    /// </summary>
    [FhirElement("prognosisReference", Order=250)]
    [CLSCompliant(false)]
    [References("RiskAssessment")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> PrognosisReference
    {
      get
      {
        if(_PrognosisReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["prognosisReference"]);
        return _PrognosisReference ??= [];
      }

      set
      {
        if (_PrognosisReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("prognosisReference");
        _PrognosisReference = value;
        OnPropertyChanged("PrognosisReference");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _PrognosisReference;

    /// <summary>
    /// Action taken as part of assessment procedure.
    /// </summary>
    [FhirElement("action", Order=260)]
    [CLSCompliant(false)]
    [References("ReferralRequest","ProcedureRequest","Procedure","MedicationRequest","Appointment")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Action
    {
      get
      {
        if(_Action.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["action"]);
        return _Action ??= [];
      }

      set
      {
        if (_Action.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("action");
        _Action = value;
        OnPropertyChanged("Action");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Action;

    /// <summary>
    /// Comments made about the ClinicalImpression.
    /// </summary>
    [FhirElement("note", Order=270)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Annotation> Note
    {
      get
      {
        if(_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Annotation>), Overflow["note"]);
        return _Note ??= [];
      }

      set
      {
        if (_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>())
          Overflow.Remove("note");
        _Note = value;
        OnPropertyChanged("Note");
      }

    }

    private List<Hl7.Fhir.Model.Annotation>? _Note;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not ClinicalImpression dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>)_StatusElement.DeepCopyInternal();
      if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
      if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
      if(_Subject is not null) dest.Subject = (Hl7.Fhir.Model.ResourceReference)_Subject.DeepCopyInternal();
      if(_Context is not null) dest.Context = (Hl7.Fhir.Model.ResourceReference)_Context.DeepCopyInternal();
      if(_Effective is not null) dest.Effective = (Hl7.Fhir.Model.DataType)_Effective.DeepCopyInternal();
      if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.FhirDateTime)_DateElement.DeepCopyInternal();
      if(_Assessor is not null) dest.Assessor = (Hl7.Fhir.Model.ResourceReference)_Assessor.DeepCopyInternal();
      if(_Previous is not null) dest.Previous = (Hl7.Fhir.Model.ResourceReference)_Previous.DeepCopyInternal();
      if(_Problem is not null) dest.Problem = new List<Hl7.Fhir.Model.ResourceReference>(_Problem.DeepCopyInternal());
      if(_Investigation is not null) dest.Investigation = new List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent>(_Investigation.DeepCopyInternal());
      if(_ProtocolElement is not null) dest.ProtocolElement = new List<Hl7.Fhir.Model.FhirUri>(_ProtocolElement.DeepCopyInternal());
      if(_SummaryElement is not null) dest.SummaryElement = (Hl7.Fhir.Model.FhirString)_SummaryElement.DeepCopyInternal();
      if(_Finding is not null) dest.Finding = new List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent>(_Finding.DeepCopyInternal());
      if(_PrognosisCodeableConcept is not null) dest.PrognosisCodeableConcept = new List<Hl7.Fhir.Model.CodeableConcept>(_PrognosisCodeableConcept.DeepCopyInternal());
      if(_PrognosisReference is not null) dest.PrognosisReference = new List<Hl7.Fhir.Model.ResourceReference>(_PrognosisReference.DeepCopyInternal());
      if(_Action is not null) dest.Action = new List<Hl7.Fhir.Model.ResourceReference>(_Action.DeepCopyInternal());
      if(_Note is not null) dest.Note = new List<Hl7.Fhir.Model.Annotation>(_Note.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new ClinicalImpression();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not ClinicalImpression otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_Code, otherT._Code)) return false;
      if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
      if(!comparer.Equals(_Subject, otherT._Subject)) return false;
      if(!comparer.Equals(_Context, otherT._Context)) return false;
      if(!comparer.Equals(_Effective, otherT._Effective)) return false;
      if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
      if(!comparer.Equals(_Assessor, otherT._Assessor)) return false;
      if(!comparer.Equals(_Previous, otherT._Previous)) return false;
      if(!comparer.ListEquals(_Problem, otherT._Problem)) return false;
      if(!comparer.ListEquals(_Investigation, otherT._Investigation)) return false;
      if(!comparer.ListEquals(_ProtocolElement, otherT._ProtocolElement)) return false;
      if(!comparer.Equals(_SummaryElement, otherT._SummaryElement)) return false;
      if(!comparer.ListEquals(_Finding, otherT._Finding)) return false;
      if(!comparer.ListEquals(_PrognosisCodeableConcept, otherT._PrognosisCodeableConcept)) return false;
      if(!comparer.ListEquals(_PrognosisReference, otherT._PrognosisReference)) return false;
      if(!comparer.ListEquals(_Action, otherT._Action)) return false;
      if(!comparer.ListEquals(_Note, otherT._Note)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>) is not null;
        case "code":
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["code"];
            return true;
          }
          value = _Code;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "description":
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["description"];
            return true;
          }
          value = _DescriptionElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "subject":
          if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["subject"];
            return true;
          }
          value = _Subject;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "context":
          if (_Context.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["context"];
            return true;
          }
          value = _Context;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "effective":
          if (_Effective.InOverflow<DynamicDataType>())
          {
            value = Overflow["effective"];
            return true;
          }
          value = _Effective;
          return (value as Hl7.Fhir.Model.DataType) is not null;
        case "date":
          if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["date"];
            return true;
          }
          value = _DateElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "assessor":
          if (_Assessor.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["assessor"];
            return true;
          }
          value = _Assessor;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "previous":
          if (_Previous.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["previous"];
            return true;
          }
          value = _Previous;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "problem":
          if (_Problem.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["problem"];
            return true;
          }
          value = _Problem;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "investigation":
          if (_Investigation.InOverflow<List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent>>())
          {
            value = Overflow["investigation"];
            return true;
          }
          value = _Investigation;
          return (value as List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent>)?.Any() is true;
        case "protocol":
          if (_ProtocolElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>())
          {
            value = Overflow["protocol"];
            return true;
          }
          value = _ProtocolElement;
          return (value as List<Hl7.Fhir.Model.FhirUri>)?.Any() is true;
        case "summary":
          if (_SummaryElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["summary"];
            return true;
          }
          value = _SummaryElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "finding":
          if (_Finding.InOverflow<List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent>>())
          {
            value = Overflow["finding"];
            return true;
          }
          value = _Finding;
          return (value as List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent>)?.Any() is true;
        case "prognosisCodeableConcept":
          if (_PrognosisCodeableConcept.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["prognosisCodeableConcept"];
            return true;
          }
          value = _PrognosisCodeableConcept;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "prognosisReference":
          if (_PrognosisReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["prognosisReference"];
            return true;
          }
          value = _PrognosisReference;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "action":
          if (_Action.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["action"];
            return true;
          }
          value = _Action;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "note":
          if (_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>())
          {
            value = Overflow["note"];
            return true;
          }
          value = _Note;
          return (value as List<Hl7.Fhir.Model.Annotation>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>?)value!;
          return this;
        case "code":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["code"] = value;
          }
          else Code = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "description":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["description"] = value;
          }
          else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "subject":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Subject = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["subject"] = value;
          }
          else Subject = (Hl7.Fhir.Model.ResourceReference?)value!;
          return this;
        case "context":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Context = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["context"] = value;
          }
          else Context = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "effective":
          if (value is not (Hl7.Fhir.Model.DataType or null))
          {
            Effective = OverflowNull<DynamicDataType>.INSTANCE;
            Overflow["effective"] = value;
          }
          else Effective = (Hl7.Fhir.Model.DataType?)value;
          return this;
        case "date":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            DateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["date"] = value;
          }
          else DateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "assessor":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Assessor = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["assessor"] = value;
          }
          else Assessor = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "previous":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Previous = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["previous"] = value;
          }
          else Previous = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "problem":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Problem = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["problem"] = value;
          }
          else Problem = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "investigation":
          if (value is not (List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent> or null))
          {
            Investigation = OverflowNull<List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent>>.INSTANCE;
            Overflow["investigation"] = value;
          }
          else Investigation = (List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent>?)value!;
          return this;
        case "protocol":
          if (value is not (List<Hl7.Fhir.Model.FhirUri> or null))
          {
            ProtocolElement = OverflowNull<List<Hl7.Fhir.Model.FhirUri>>.INSTANCE;
            Overflow["protocol"] = value;
          }
          else ProtocolElement = (List<Hl7.Fhir.Model.FhirUri>?)value!;
          return this;
        case "summary":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            SummaryElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["summary"] = value;
          }
          else SummaryElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "finding":
          if (value is not (List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent> or null))
          {
            Finding = OverflowNull<List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent>>.INSTANCE;
            Overflow["finding"] = value;
          }
          else Finding = (List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent>?)value!;
          return this;
        case "prognosisCodeableConcept":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            PrognosisCodeableConcept = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["prognosisCodeableConcept"] = value;
          }
          else PrognosisCodeableConcept = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "prognosisReference":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            PrognosisReference = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["prognosisReference"] = value;
          }
          else PrognosisReference = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "action":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Action = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["action"] = value;
          }
          else Action = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "note":
          if (value is not (List<Hl7.Fhir.Model.Annotation> or null))
          {
            Note = OverflowNull<List<Hl7.Fhir.Model.Annotation>>.INSTANCE;
            Overflow["note"] = value;
          }
          else Note = (List<Hl7.Fhir.Model.Annotation>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ClinicalImpression.ClinicalImpressionStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
      if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      if (_Subject is not null && !_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("subject",_Subject);
      if (_Context is not null && !_Context.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("context",_Context);
      if (_Effective is not null && !_Effective.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("effective",_Effective);
      if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("date",_DateElement);
      if (_Assessor is not null && !_Assessor.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("assessor",_Assessor);
      if (_Previous is not null && !_Previous.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("previous",_Previous);
      if (_Problem?.Any() is true && !_Problem.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("problem",_Problem);
      if (_Investigation?.Any() is true && !_Investigation.InOverflow<List<Hl7.Fhir.Model.ClinicalImpression.InvestigationComponent>>()) yield return new KeyValuePair<string,object>("investigation",_Investigation);
      if (_ProtocolElement?.Any() is true && !_ProtocolElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>()) yield return new KeyValuePair<string,object>("protocol",_ProtocolElement);
      if (_SummaryElement is not null && !_SummaryElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("summary",_SummaryElement);
      if (_Finding?.Any() is true && !_Finding.InOverflow<List<Hl7.Fhir.Model.ClinicalImpression.FindingComponent>>()) yield return new KeyValuePair<string,object>("finding",_Finding);
      if (_PrognosisCodeableConcept?.Any() is true && !_PrognosisCodeableConcept.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("prognosisCodeableConcept",_PrognosisCodeableConcept);
      if (_PrognosisReference?.Any() is true && !_PrognosisReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("prognosisReference",_PrognosisReference);
      if (_Action?.Any() is true && !_Action.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("action",_Action);
      if (_Note?.Any() is true && !_Note.InOverflow<List<Hl7.Fhir.Model.Annotation>>()) yield return new KeyValuePair<string,object>("note",_Note);
    }

  }

}

// end of file
