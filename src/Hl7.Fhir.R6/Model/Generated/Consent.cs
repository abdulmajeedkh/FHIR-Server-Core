// <auto-generated/>
// Contents of: hl7.fhir.r6.expansions@6.0.0-ballot3, hl7.fhir.r6.core@6.0.0-ballot3

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// A healthcare consumer's  or third party's choices to permit or deny recipients or roles to perform actions for specific purposes and periods of time
  /// </summary>
  /// <remarks>
  /// A record of a healthcare consumerâ€™s  choices  or choices made on their behalf by a third party, which permits or denies identified recipient(s) or recipient role(s) to perform one or more actions within a given policy context, for specific purposes and periods of time.
  /// Broadly, there are 3 key areas of consent for patients: Consent around sharing information (aka Privacy Consent Directive - Authorization to Collect, Use, or Disclose information), consent for specific treatment, or kinds of treatment and consent for research participation and data sharing.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("Consent","http://hl7.org/fhir/StructureDefinition/Consent")]
  public partial class Consent : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "Consent";

    /// <summary>
    /// Indicates the state of the consent.
    /// (url: http://hl7.org/fhir/ValueSet/consent-state-codes)
    /// (system: http://hl7.org/fhir/consent-state-codes)
    /// </summary>
    [FhirEnumeration("ConsentState", "http://hl7.org/fhir/ValueSet/consent-state-codes", "http://hl7.org/fhir/consent-state-codes")]
    public enum ConsentState
    {
      /// <summary>
      /// The consent is in development or awaiting use but is not yet intended to be acted upon.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("draft"), Description("Pending")]
      Draft,
      /// <summary>
      /// The consent is to be followed and enforced.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("active"), Description("Active")]
      Active,
      /// <summary>
      /// The consent is terminated or replaced.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("inactive"), Description("Inactive")]
      Inactive,
      /// <summary>
      /// The consent development has been terminated prior to completion.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("not-done"), Description("Abandoned")]
      NotDone,
      /// <summary>
      /// The consent was created wrongly (e.g. wrong patient) and should be ignored.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("entered-in-error"), Description("Entered in Error")]
      EnteredInError,
      /// <summary>
      /// The resource is in an indeterminate state.
      /// (system: http://hl7.org/fhir/consent-state-codes)
      /// </summary>
      [EnumLiteral("unknown"), Description("Unknown")]
      Unknown,
    }

    /// <summary>
    /// Computable version of the backing policy
    /// </summary>
    /// <remarks>
    /// A Reference or URL used to uniquely identify the policy the organization will enforce for this Consent. This Reference or URL should be specific to the version of the policy and should be dereferencable to a computable policy of some form.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Consent.policyBasis", IsBackboneType=true)]
    public partial class PolicyBasisComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Consent.policyBasis";

      /// <summary>
      /// Reference backing policy resource.
      /// </summary>
      [FhirElement("reference", Order=40)]
      [CLSCompliant(false)]
      [References("Resource")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Reference
      {
        get
        {
          if(_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["reference"]);
          return _Reference;
        }

        set
        {
          if (_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("reference");
          _Reference = value;
          OnPropertyChanged("Reference");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Reference;

      /// <summary>
      /// URI to a computable backing policy.
      /// </summary>
      [FhirElement("uri", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirUri? UriElement
      {
        get
        {
          if(_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["uri"]);
          return _UriElement;
        }

        set
        {
          if (_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            Overflow.Remove("uri");
          _UriElement = value;
          OnPropertyChanged("UriElement");
        }

      }

      private Hl7.Fhir.Model.FhirUri? _UriElement;

      /// <summary>
      /// URI to a computable backing policy
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Uri
      {
        get => UriElement?.Value;
        set
        {
          UriElement = value is null ? null : new Hl7.Fhir.Model.FhirUri(value);
          OnPropertyChanged("Uri");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PolicyBasisComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Reference is not null) dest.Reference = (Hl7.Fhir.Model.ResourceReference)_Reference.DeepCopyInternal();
        if(_UriElement is not null) dest.UriElement = (Hl7.Fhir.Model.FhirUri)_UriElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PolicyBasisComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PolicyBasisComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Reference, otherT._Reference)) return false;
        if(!comparer.Equals(_UriElement, otherT._UriElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "reference":
            if (_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["reference"];
              return true;
            }
            value = _Reference;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "uri":
            if (_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            {
              value = Overflow["uri"];
              return true;
            }
            value = _UriElement;
            return (value as Hl7.Fhir.Model.FhirUri) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "reference":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Reference = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["reference"] = value;
            }
            else Reference = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          case "uri":
            if (value is not (Hl7.Fhir.Model.FhirUri or null))
            {
              UriElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
              Overflow["uri"] = value;
            }
            else UriElement = (Hl7.Fhir.Model.FhirUri?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Reference is not null && !_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("reference",_Reference);
        if (_UriElement is not null && !_UriElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("uri",_UriElement);
      }

    }

    /// <summary>
    /// Consent Verified by patient or family
    /// </summary>
    /// <remarks>
    /// Whether a treatment instruction (e.g. artificial respiration: yes or no) was verified with the patient, his/her family or another authorized person.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Consent.verification", IsBackboneType=true)]
    public partial class VerificationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Consent.verification";

      /// <summary>
      /// Has been verified.
      /// </summary>
      [FhirElement("verified", InSummary=true, Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? VerifiedElement
      {
        get
        {
          if(_VerifiedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["verified"]);
          return _VerifiedElement;
        }

        set
        {
          if (_VerifiedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("verified");
          _VerifiedElement = value;
          OnPropertyChanged("VerifiedElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _VerifiedElement;

      /// <summary>
      /// Has been verified
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Verified
      {
        get => VerifiedElement?.Value;
        set
        {
          VerifiedElement = value is null ? null : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Verified");
        }
      }

      /// <summary>
      /// Business case of verification.
      /// </summary>
      [FhirElement("verificationType", Order=50)]
      [Binding("ConsentVerificationType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? VerificationType
      {
        get
        {
          if(_VerificationType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["verificationType"]);
          return _VerificationType;
        }

        set
        {
          if (_VerificationType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("verificationType");
          _VerificationType = value;
          OnPropertyChanged("VerificationType");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _VerificationType;

      /// <summary>
      /// Person conducting verification.
      /// </summary>
      [FhirElement("verifiedBy", Order=60)]
      [CLSCompliant(false)]
      [References("Organization","Practitioner","PractitionerRole")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? VerifiedBy
      {
        get
        {
          if(_VerifiedBy.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["verifiedBy"]);
          return _VerifiedBy;
        }

        set
        {
          if (_VerifiedBy.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("verifiedBy");
          _VerifiedBy = value;
          OnPropertyChanged("VerifiedBy");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _VerifiedBy;

      /// <summary>
      /// Person who verified.
      /// </summary>
      [FhirElement("verifiedWith", Order=70)]
      [CLSCompliant(false)]
      [References("Patient","RelatedPerson","Group")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? VerifiedWith
      {
        get
        {
          if(_VerifiedWith.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["verifiedWith"]);
          return _VerifiedWith;
        }

        set
        {
          if (_VerifiedWith.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("verifiedWith");
          _VerifiedWith = value;
          OnPropertyChanged("VerifiedWith");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _VerifiedWith;

      /// <summary>
      /// When consent verified.
      /// </summary>
      [FhirElement("verificationDate", Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.FhirDateTime> VerificationDateElement
      {
        get
        {
          if(_VerificationDateElement.InOverflow<List<Hl7.Fhir.Model.FhirDateTime>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirDateTime>), Overflow["verificationDate"]);
          return _VerificationDateElement ??= [];
        }

        set
        {
          if (_VerificationDateElement.InOverflow<List<Hl7.Fhir.Model.FhirDateTime>>())
            Overflow.Remove("verificationDate");
          _VerificationDateElement = value;
          OnPropertyChanged("VerificationDateElement");
        }

      }

      private List<Hl7.Fhir.Model.FhirDateTime>? _VerificationDateElement;

      /// <summary>
      /// When consent verified
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<string?> VerificationDate
      {
        get => _VerificationDateElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            VerificationDateElement = null!;
          else
            VerificationDateElement = new List<Hl7.Fhir.Model.FhirDateTime>(value.Select(elem=>new Hl7.Fhir.Model.FhirDateTime(elem)));
          OnPropertyChanged("VerificationDate");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not VerificationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_VerifiedElement is not null) dest.VerifiedElement = (Hl7.Fhir.Model.FhirBoolean)_VerifiedElement.DeepCopyInternal();
        if(_VerificationType is not null) dest.VerificationType = (Hl7.Fhir.Model.CodeableConcept)_VerificationType.DeepCopyInternal();
        if(_VerifiedBy is not null) dest.VerifiedBy = (Hl7.Fhir.Model.ResourceReference)_VerifiedBy.DeepCopyInternal();
        if(_VerifiedWith is not null) dest.VerifiedWith = (Hl7.Fhir.Model.ResourceReference)_VerifiedWith.DeepCopyInternal();
        if(_VerificationDateElement is not null) dest.VerificationDateElement = new List<Hl7.Fhir.Model.FhirDateTime>(_VerificationDateElement.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new VerificationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not VerificationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_VerifiedElement, otherT._VerifiedElement)) return false;
        if(!comparer.Equals(_VerificationType, otherT._VerificationType)) return false;
        if(!comparer.Equals(_VerifiedBy, otherT._VerifiedBy)) return false;
        if(!comparer.Equals(_VerifiedWith, otherT._VerifiedWith)) return false;
        if(!comparer.ListEquals(_VerificationDateElement, otherT._VerificationDateElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "verified":
            if (_VerifiedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["verified"];
              return true;
            }
            value = _VerifiedElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "verificationType":
            if (_VerificationType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["verificationType"];
              return true;
            }
            value = _VerificationType;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "verifiedBy":
            if (_VerifiedBy.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["verifiedBy"];
              return true;
            }
            value = _VerifiedBy;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "verifiedWith":
            if (_VerifiedWith.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["verifiedWith"];
              return true;
            }
            value = _VerifiedWith;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "verificationDate":
            if (_VerificationDateElement.InOverflow<List<Hl7.Fhir.Model.FhirDateTime>>())
            {
              value = Overflow["verificationDate"];
              return true;
            }
            value = _VerificationDateElement;
            return (value as List<Hl7.Fhir.Model.FhirDateTime>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "verified":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              VerifiedElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["verified"] = value;
            }
            else VerifiedElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "verificationType":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              VerificationType = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["verificationType"] = value;
            }
            else VerificationType = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "verifiedBy":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              VerifiedBy = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["verifiedBy"] = value;
            }
            else VerifiedBy = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          case "verifiedWith":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              VerifiedWith = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["verifiedWith"] = value;
            }
            else VerifiedWith = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          case "verificationDate":
            if (value is not (List<Hl7.Fhir.Model.FhirDateTime> or null))
            {
              VerificationDateElement = OverflowNull<List<Hl7.Fhir.Model.FhirDateTime>>.INSTANCE;
              Overflow["verificationDate"] = value;
            }
            else VerificationDateElement = (List<Hl7.Fhir.Model.FhirDateTime>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_VerifiedElement is not null && !_VerifiedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("verified",_VerifiedElement);
        if (_VerificationType is not null && !_VerificationType.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("verificationType",_VerificationType);
        if (_VerifiedBy is not null && !_VerifiedBy.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("verifiedBy",_VerifiedBy);
        if (_VerifiedWith is not null && !_VerifiedWith.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("verifiedWith",_VerifiedWith);
        if (_VerificationDateElement?.Any() is true && !_VerificationDateElement.InOverflow<List<Hl7.Fhir.Model.FhirDateTime>>()) yield return new KeyValuePair<string,object>("verificationDate",_VerificationDateElement);
      }

    }

    /// <summary>
    /// Constraints to the base Consent.policyRule/Consent.policy
    /// </summary>
    /// <remarks>
    /// An exception to the base policy of this consent. An exception can be an addition or removal of access permissions.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Consent.provision", IsBackboneType=true)]
    public partial class provisionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Consent.provision";

      /// <summary>
      /// Timeframe for this provision.
      /// </summary>
      [FhirElement("period", InSummary=true, Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.Period? Period
      {
        get
        {
          if(_Period.InOverflow<Hl7.Fhir.Model.Period>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["period"]);
          return _Period;
        }

        set
        {
          if (_Period.InOverflow<Hl7.Fhir.Model.Period>())
            Overflow.Remove("period");
          _Period = value;
          OnPropertyChanged("Period");
        }

      }

      private Hl7.Fhir.Model.Period? _Period;

      /// <summary>
      /// Who|what controlled by this provision (or group, by role).
      /// </summary>
      [FhirElement("actor", Order=50)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Consent.provisionActorComponent> Actor
      {
        get
        {
          if(_Actor.InOverflow<List<Hl7.Fhir.Model.Consent.provisionActorComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Consent.provisionActorComponent>), Overflow["actor"]);
          return _Actor ??= [];
        }

        set
        {
          if (_Actor.InOverflow<List<Hl7.Fhir.Model.Consent.provisionActorComponent>>())
            Overflow.Remove("actor");
          _Actor = value;
          OnPropertyChanged("Actor");
        }

      }

      private List<Hl7.Fhir.Model.Consent.provisionActorComponent>? _Actor;

      /// <summary>
      /// Actions controlled by this provision.
      /// </summary>
      [FhirElement("action", InSummary=true, Order=60)]
      [Binding("ConsentAction")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Action
      {
        get
        {
          if(_Action.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["action"]);
          return _Action ??= [];
        }

        set
        {
          if (_Action.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("action");
          _Action = value;
          OnPropertyChanged("Action");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Action;

      /// <summary>
      /// Security Labels that define affected resources.
      /// </summary>
      [FhirElement("securityLabel", InSummary=true, Order=70)]
      [Binding("SecurityLabels")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Coding> SecurityLabel
      {
        get
        {
          if(_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Coding>), Overflow["securityLabel"]);
          return _SecurityLabel ??= [];
        }

        set
        {
          if (_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            Overflow.Remove("securityLabel");
          _SecurityLabel = value;
          OnPropertyChanged("SecurityLabel");
        }

      }

      private List<Hl7.Fhir.Model.Coding>? _SecurityLabel;

      /// <summary>
      /// Context of activities covered by this provision.
      /// </summary>
      [FhirElement("purpose", InSummary=true, Order=80)]
      [Binding("PurposeOfUse")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Coding> Purpose
      {
        get
        {
          if(_Purpose.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Coding>), Overflow["purpose"]);
          return _Purpose ??= [];
        }

        set
        {
          if (_Purpose.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            Overflow.Remove("purpose");
          _Purpose = value;
          OnPropertyChanged("Purpose");
        }

      }

      private List<Hl7.Fhir.Model.Coding>? _Purpose;

      /// <summary>
      /// e.g. Resource Type, Profile, CDA, etc.
      /// </summary>
      [FhirElement("documentType", InSummary=true, Order=90)]
      [Binding("ConsentContentClass")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Coding> DocumentType
      {
        get
        {
          if(_DocumentType.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Coding>), Overflow["documentType"]);
          return _DocumentType ??= [];
        }

        set
        {
          if (_DocumentType.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            Overflow.Remove("documentType");
          _DocumentType = value;
          OnPropertyChanged("DocumentType");
        }

      }

      private List<Hl7.Fhir.Model.Coding>? _DocumentType;

      /// <summary>
      /// e.g. Resource Type, Profile, etc.
      /// </summary>
      [FhirElement("resourceType", InSummary=true, Order=100)]
      [Binding("ConsentContentClass")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Coding> ResourceType
      {
        get
        {
          if(_ResourceType.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Coding>), Overflow["resourceType"]);
          return _ResourceType ??= [];
        }

        set
        {
          if (_ResourceType.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            Overflow.Remove("resourceType");
          _ResourceType = value;
          OnPropertyChanged("ResourceType");
        }

      }

      private List<Hl7.Fhir.Model.Coding>? _ResourceType;

      /// <summary>
      /// e.g. LOINC or SNOMED CT code, etc. in the content.
      /// </summary>
      [FhirElement("code", InSummary=true, Order=110)]
      [Binding("ConsentContentCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Code
      {
        get
        {
          if(_Code.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["code"]);
          return _Code ??= [];
        }

        set
        {
          if (_Code.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("code");
          _Code = value;
          OnPropertyChanged("Code");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Code;

      /// <summary>
      /// Timeframe for data controlled by this provision.
      /// </summary>
      [FhirElement("dataPeriod", InSummary=true, Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.Period? DataPeriod
      {
        get
        {
          if(_DataPeriod.InOverflow<Hl7.Fhir.Model.Period>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["dataPeriod"]);
          return _DataPeriod;
        }

        set
        {
          if (_DataPeriod.InOverflow<Hl7.Fhir.Model.Period>())
            Overflow.Remove("dataPeriod");
          _DataPeriod = value;
          OnPropertyChanged("DataPeriod");
        }

      }

      private Hl7.Fhir.Model.Period? _DataPeriod;

      /// <summary>
      /// Data controlled by this provision.
      /// </summary>
      [FhirElement("data", InSummary=true, Order=130)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Consent.provisionDataComponent> Data
      {
        get
        {
          if(_Data.InOverflow<List<Hl7.Fhir.Model.Consent.provisionDataComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Consent.provisionDataComponent>), Overflow["data"]);
          return _Data ??= [];
        }

        set
        {
          if (_Data.InOverflow<List<Hl7.Fhir.Model.Consent.provisionDataComponent>>())
            Overflow.Remove("data");
          _Data = value;
          OnPropertyChanged("Data");
        }

      }

      private List<Hl7.Fhir.Model.Consent.provisionDataComponent>? _Data;

      /// <summary>
      /// A computable expression of the consent.
      /// </summary>
      [FhirElement("expression", Order=140)]
      [DataMember]
      public Hl7.Fhir.Model.Expression? Expression
      {
        get
        {
          if(_Expression.InOverflow<Hl7.Fhir.Model.Expression>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Expression), Overflow["expression"]);
          return _Expression;
        }

        set
        {
          if (_Expression.InOverflow<Hl7.Fhir.Model.Expression>())
            Overflow.Remove("expression");
          _Expression = value;
          OnPropertyChanged("Expression");
        }

      }

      private Hl7.Fhir.Model.Expression? _Expression;

      /// <summary>
      /// Nested Exception Provisions.
      /// </summary>
      [FhirElement("provision", Order=150)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Consent.provisionComponent> Provision
      {
        get
        {
          if(_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Consent.provisionComponent>), Overflow["provision"]);
          return _Provision ??= [];
        }

        set
        {
          if (_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>())
            Overflow.Remove("provision");
          _Provision = value;
          OnPropertyChanged("Provision");
        }

      }

      private List<Hl7.Fhir.Model.Consent.provisionComponent>? _Provision;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not provisionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Period is not null) dest.Period = (Hl7.Fhir.Model.Period)_Period.DeepCopyInternal();
        if(_Actor is not null) dest.Actor = new List<Hl7.Fhir.Model.Consent.provisionActorComponent>(_Actor.DeepCopyInternal());
        if(_Action is not null) dest.Action = new List<Hl7.Fhir.Model.CodeableConcept>(_Action.DeepCopyInternal());
        if(_SecurityLabel is not null) dest.SecurityLabel = new List<Hl7.Fhir.Model.Coding>(_SecurityLabel.DeepCopyInternal());
        if(_Purpose is not null) dest.Purpose = new List<Hl7.Fhir.Model.Coding>(_Purpose.DeepCopyInternal());
        if(_DocumentType is not null) dest.DocumentType = new List<Hl7.Fhir.Model.Coding>(_DocumentType.DeepCopyInternal());
        if(_ResourceType is not null) dest.ResourceType = new List<Hl7.Fhir.Model.Coding>(_ResourceType.DeepCopyInternal());
        if(_Code is not null) dest.Code = new List<Hl7.Fhir.Model.CodeableConcept>(_Code.DeepCopyInternal());
        if(_DataPeriod is not null) dest.DataPeriod = (Hl7.Fhir.Model.Period)_DataPeriod.DeepCopyInternal();
        if(_Data is not null) dest.Data = new List<Hl7.Fhir.Model.Consent.provisionDataComponent>(_Data.DeepCopyInternal());
        if(_Expression is not null) dest.Expression = (Hl7.Fhir.Model.Expression)_Expression.DeepCopyInternal();
        if(_Provision is not null) dest.Provision = new List<Hl7.Fhir.Model.Consent.provisionComponent>(_Provision.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new provisionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not provisionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Period, otherT._Period)) return false;
        if(!comparer.ListEquals(_Actor, otherT._Actor)) return false;
        if(!comparer.ListEquals(_Action, otherT._Action)) return false;
        if(!comparer.ListEquals(_SecurityLabel, otherT._SecurityLabel)) return false;
        if(!comparer.ListEquals(_Purpose, otherT._Purpose)) return false;
        if(!comparer.ListEquals(_DocumentType, otherT._DocumentType)) return false;
        if(!comparer.ListEquals(_ResourceType, otherT._ResourceType)) return false;
        if(!comparer.ListEquals(_Code, otherT._Code)) return false;
        if(!comparer.Equals(_DataPeriod, otherT._DataPeriod)) return false;
        if(!comparer.ListEquals(_Data, otherT._Data)) return false;
        if(!comparer.Equals(_Expression, otherT._Expression)) return false;
        if(!comparer.ListEquals(_Provision, otherT._Provision)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "period":
            if (_Period.InOverflow<Hl7.Fhir.Model.Period>())
            {
              value = Overflow["period"];
              return true;
            }
            value = _Period;
            return (value as Hl7.Fhir.Model.Period) is not null;
          case "actor":
            if (_Actor.InOverflow<List<Hl7.Fhir.Model.Consent.provisionActorComponent>>())
            {
              value = Overflow["actor"];
              return true;
            }
            value = _Actor;
            return (value as List<Hl7.Fhir.Model.Consent.provisionActorComponent>)?.Any() is true;
          case "action":
            if (_Action.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["action"];
              return true;
            }
            value = _Action;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "securityLabel":
            if (_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            {
              value = Overflow["securityLabel"];
              return true;
            }
            value = _SecurityLabel;
            return (value as List<Hl7.Fhir.Model.Coding>)?.Any() is true;
          case "purpose":
            if (_Purpose.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            {
              value = Overflow["purpose"];
              return true;
            }
            value = _Purpose;
            return (value as List<Hl7.Fhir.Model.Coding>)?.Any() is true;
          case "documentType":
            if (_DocumentType.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            {
              value = Overflow["documentType"];
              return true;
            }
            value = _DocumentType;
            return (value as List<Hl7.Fhir.Model.Coding>)?.Any() is true;
          case "resourceType":
            if (_ResourceType.InOverflow<List<Hl7.Fhir.Model.Coding>>())
            {
              value = Overflow["resourceType"];
              return true;
            }
            value = _ResourceType;
            return (value as List<Hl7.Fhir.Model.Coding>)?.Any() is true;
          case "code":
            if (_Code.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _Code;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "dataPeriod":
            if (_DataPeriod.InOverflow<Hl7.Fhir.Model.Period>())
            {
              value = Overflow["dataPeriod"];
              return true;
            }
            value = _DataPeriod;
            return (value as Hl7.Fhir.Model.Period) is not null;
          case "data":
            if (_Data.InOverflow<List<Hl7.Fhir.Model.Consent.provisionDataComponent>>())
            {
              value = Overflow["data"];
              return true;
            }
            value = _Data;
            return (value as List<Hl7.Fhir.Model.Consent.provisionDataComponent>)?.Any() is true;
          case "expression":
            if (_Expression.InOverflow<Hl7.Fhir.Model.Expression>())
            {
              value = Overflow["expression"];
              return true;
            }
            value = _Expression;
            return (value as Hl7.Fhir.Model.Expression) is not null;
          case "provision":
            if (_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>())
            {
              value = Overflow["provision"];
              return true;
            }
            value = _Provision;
            return (value as List<Hl7.Fhir.Model.Consent.provisionComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "period":
            if (value is not (Hl7.Fhir.Model.Period or null))
            {
              Period = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
              Overflow["period"] = value;
            }
            else Period = (Hl7.Fhir.Model.Period?)value;
            return this;
          case "actor":
            if (value is not (List<Hl7.Fhir.Model.Consent.provisionActorComponent> or null))
            {
              Actor = OverflowNull<List<Hl7.Fhir.Model.Consent.provisionActorComponent>>.INSTANCE;
              Overflow["actor"] = value;
            }
            else Actor = (List<Hl7.Fhir.Model.Consent.provisionActorComponent>?)value!;
            return this;
          case "action":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Action = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["action"] = value;
            }
            else Action = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "securityLabel":
            if (value is not (List<Hl7.Fhir.Model.Coding> or null))
            {
              SecurityLabel = OverflowNull<List<Hl7.Fhir.Model.Coding>>.INSTANCE;
              Overflow["securityLabel"] = value;
            }
            else SecurityLabel = (List<Hl7.Fhir.Model.Coding>?)value!;
            return this;
          case "purpose":
            if (value is not (List<Hl7.Fhir.Model.Coding> or null))
            {
              Purpose = OverflowNull<List<Hl7.Fhir.Model.Coding>>.INSTANCE;
              Overflow["purpose"] = value;
            }
            else Purpose = (List<Hl7.Fhir.Model.Coding>?)value!;
            return this;
          case "documentType":
            if (value is not (List<Hl7.Fhir.Model.Coding> or null))
            {
              DocumentType = OverflowNull<List<Hl7.Fhir.Model.Coding>>.INSTANCE;
              Overflow["documentType"] = value;
            }
            else DocumentType = (List<Hl7.Fhir.Model.Coding>?)value!;
            return this;
          case "resourceType":
            if (value is not (List<Hl7.Fhir.Model.Coding> or null))
            {
              ResourceType = OverflowNull<List<Hl7.Fhir.Model.Coding>>.INSTANCE;
              Overflow["resourceType"] = value;
            }
            else ResourceType = (List<Hl7.Fhir.Model.Coding>?)value!;
            return this;
          case "code":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Code = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["code"] = value;
            }
            else Code = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "dataPeriod":
            if (value is not (Hl7.Fhir.Model.Period or null))
            {
              DataPeriod = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
              Overflow["dataPeriod"] = value;
            }
            else DataPeriod = (Hl7.Fhir.Model.Period?)value;
            return this;
          case "data":
            if (value is not (List<Hl7.Fhir.Model.Consent.provisionDataComponent> or null))
            {
              Data = OverflowNull<List<Hl7.Fhir.Model.Consent.provisionDataComponent>>.INSTANCE;
              Overflow["data"] = value;
            }
            else Data = (List<Hl7.Fhir.Model.Consent.provisionDataComponent>?)value!;
            return this;
          case "expression":
            if (value is not (Hl7.Fhir.Model.Expression or null))
            {
              Expression = OverflowNull<Hl7.Fhir.Model.Expression>.INSTANCE;
              Overflow["expression"] = value;
            }
            else Expression = (Hl7.Fhir.Model.Expression?)value;
            return this;
          case "provision":
            if (value is not (List<Hl7.Fhir.Model.Consent.provisionComponent> or null))
            {
              Provision = OverflowNull<List<Hl7.Fhir.Model.Consent.provisionComponent>>.INSTANCE;
              Overflow["provision"] = value;
            }
            else Provision = (List<Hl7.Fhir.Model.Consent.provisionComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Period is not null && !_Period.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("period",_Period);
        if (_Actor?.Any() is true && !_Actor.InOverflow<List<Hl7.Fhir.Model.Consent.provisionActorComponent>>()) yield return new KeyValuePair<string,object>("actor",_Actor);
        if (_Action?.Any() is true && !_Action.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("action",_Action);
        if (_SecurityLabel?.Any() is true && !_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.Coding>>()) yield return new KeyValuePair<string,object>("securityLabel",_SecurityLabel);
        if (_Purpose?.Any() is true && !_Purpose.InOverflow<List<Hl7.Fhir.Model.Coding>>()) yield return new KeyValuePair<string,object>("purpose",_Purpose);
        if (_DocumentType?.Any() is true && !_DocumentType.InOverflow<List<Hl7.Fhir.Model.Coding>>()) yield return new KeyValuePair<string,object>("documentType",_DocumentType);
        if (_ResourceType?.Any() is true && !_ResourceType.InOverflow<List<Hl7.Fhir.Model.Coding>>()) yield return new KeyValuePair<string,object>("resourceType",_ResourceType);
        if (_Code?.Any() is true && !_Code.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("code",_Code);
        if (_DataPeriod is not null && !_DataPeriod.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("dataPeriod",_DataPeriod);
        if (_Data?.Any() is true && !_Data.InOverflow<List<Hl7.Fhir.Model.Consent.provisionDataComponent>>()) yield return new KeyValuePair<string,object>("data",_Data);
        if (_Expression is not null && !_Expression.InOverflow<Hl7.Fhir.Model.Expression>()) yield return new KeyValuePair<string,object>("expression",_Expression);
        if (_Provision?.Any() is true && !_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>()) yield return new KeyValuePair<string,object>("provision",_Provision);
      }

    }

    /// <summary>
    /// Who|what controlled by this provision (or group, by role)
    /// </summary>
    /// <remarks>
    /// Who or what is controlled by this provision. Use group to identify a set of actors by some property they share (e.g. 'admitting officers').
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Consent.provision.actor", IsBackboneType=true)]
    public partial class provisionActorComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Consent.provision.actor";

      /// <summary>
      /// How the actor is involved.
      /// </summary>
      [FhirElement("role", Order=40)]
      [Binding("ConsentActorRole")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Role
      {
        get
        {
          if(_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["role"]);
          return _Role;
        }

        set
        {
          if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("role");
          _Role = value;
          OnPropertyChanged("Role");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Role;

      /// <summary>
      /// Resource for the actor (or group, by role).
      /// </summary>
      [FhirElement("reference", Order=50)]
      [CLSCompliant(false)]
      [References("Device","Group","CareTeam","Organization","Patient","Practitioner","RelatedPerson","PractitionerRole")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Reference
      {
        get
        {
          if(_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["reference"]);
          return _Reference;
        }

        set
        {
          if (_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("reference");
          _Reference = value;
          OnPropertyChanged("Reference");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Reference;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not provisionActorComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Role is not null) dest.Role = (Hl7.Fhir.Model.CodeableConcept)_Role.DeepCopyInternal();
        if(_Reference is not null) dest.Reference = (Hl7.Fhir.Model.ResourceReference)_Reference.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new provisionActorComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not provisionActorComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Role, otherT._Role)) return false;
        if(!comparer.Equals(_Reference, otherT._Reference)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "role":
            if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["role"];
              return true;
            }
            value = _Role;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "reference":
            if (_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["reference"];
              return true;
            }
            value = _Reference;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "role":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Role = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["role"] = value;
            }
            else Role = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "reference":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Reference = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["reference"] = value;
            }
            else Reference = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Role is not null && !_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("role",_Role);
        if (_Reference is not null && !_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("reference",_Reference);
      }

    }

    /// <summary>
    /// Data controlled by this provision
    /// </summary>
    /// <remarks>
    /// The resources controlled by this provision if specific resources are referenced.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Consent.provision.data", IsBackboneType=true)]
    public partial class provisionDataComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Consent.provision.data";

      /// <summary>
      /// instance | related | dependents | authoredby.
      /// </summary>
      [FhirElement("meaning", InSummary=true, Order=40)]
      [Binding("ConsentDataMeaning")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.ConsentDataMeaning>? MeaningElement
      {
        get
        {
          if(_MeaningElement.InOverflow<Code<Hl7.Fhir.Model.ConsentDataMeaning>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ConsentDataMeaning>), Overflow["meaning"]);
          return _MeaningElement;
        }

        set
        {
          if (_MeaningElement.InOverflow<Code<Hl7.Fhir.Model.ConsentDataMeaning>>())
            Overflow.Remove("meaning");
          _MeaningElement = value;
          OnPropertyChanged("MeaningElement");
        }

      }

      private Code<Hl7.Fhir.Model.ConsentDataMeaning>? _MeaningElement;

      /// <summary>
      /// instance | related | dependents | authoredby
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.ConsentDataMeaning? Meaning
      {
        get => MeaningElement?.Value;
        set
        {
          MeaningElement = value is null ? null : new Code<Hl7.Fhir.Model.ConsentDataMeaning>(value);
          OnPropertyChanged("Meaning");
        }
      }

      /// <summary>
      /// The actual data reference.
      /// </summary>
      [FhirElement("reference", InSummary=true, Order=50)]
      [CLSCompliant(false)]
      [References("Resource")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Reference
      {
        get
        {
          if(_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["reference"]);
          return _Reference;
        }

        set
        {
          if (_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("reference");
          _Reference = value;
          OnPropertyChanged("Reference");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Reference;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not provisionDataComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_MeaningElement is not null) dest.MeaningElement = (Code<Hl7.Fhir.Model.ConsentDataMeaning>)_MeaningElement.DeepCopyInternal();
        if(_Reference is not null) dest.Reference = (Hl7.Fhir.Model.ResourceReference)_Reference.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new provisionDataComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not provisionDataComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_MeaningElement, otherT._MeaningElement)) return false;
        if(!comparer.Equals(_Reference, otherT._Reference)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "meaning":
            if (_MeaningElement.InOverflow<Code<Hl7.Fhir.Model.ConsentDataMeaning>>())
            {
              value = Overflow["meaning"];
              return true;
            }
            value = _MeaningElement;
            return (value as Code<Hl7.Fhir.Model.ConsentDataMeaning>) is not null;
          case "reference":
            if (_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["reference"];
              return true;
            }
            value = _Reference;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "meaning":
            if (value is not (Code<Hl7.Fhir.Model.ConsentDataMeaning> or null))
            {
              MeaningElement = OverflowNull<Code<Hl7.Fhir.Model.ConsentDataMeaning>>.INSTANCE;
              Overflow["meaning"] = value;
            }
            else MeaningElement = (Code<Hl7.Fhir.Model.ConsentDataMeaning>?)value;
            return this;
          case "reference":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Reference = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["reference"] = value;
            }
            else Reference = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_MeaningElement is not null && !_MeaningElement.InOverflow<Code<Hl7.Fhir.Model.ConsentDataMeaning>>()) yield return new KeyValuePair<string,object>("meaning",_MeaningElement);
        if (_Reference is not null && !_Reference.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("reference",_Reference);
      }

    }

    /// <summary>
    /// Identifier for this record (external references).
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=90, FiveWs="FiveWs.identifier")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// draft | active | inactive | not-done | entered-in-error | unknown.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=100, FiveWs="FiveWs.status")]
    [Binding("ConsentState")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.Consent.ConsentState>? StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentState>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.Consent.ConsentState>), Overflow["status"]);
        return _StatusElement;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentState>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.Consent.ConsentState>? _StatusElement;

    /// <summary>
    /// draft | active | inactive | not-done | entered-in-error | unknown
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.Consent.ConsentState? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null : new Code<Hl7.Fhir.Model.Consent.ConsentState>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// Classification of the consent statement - for indexing/retrieval.
    /// </summary>
    [FhirElement("category", InSummary=true, Order=110, FiveWs="FiveWs.class")]
    [Binding("ConsentCategory")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Category
    {
      get
      {
        if(_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["category"]);
        return _Category ??= [];
      }

      set
      {
        if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("category");
        _Category = value;
        OnPropertyChanged("Category");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Category;

    /// <summary>
    /// Who the consent applies to.
    /// </summary>
    [FhirElement("subject", InSummary=true, Order=120, FiveWs="FiveWs.subject")]
    [CLSCompliant(false)]
    [References("Patient","Practitioner","ResearchSubject","Group")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Subject
    {
      get
      {
        if(_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["subject"]);
        return _Subject;
      }

      set
      {
        if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("subject");
        _Subject = value;
        OnPropertyChanged("Subject");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Subject;

    /// <summary>
    /// Fully executed date of the consent.
    /// </summary>
    [FhirElement("date", InSummary=true, Order=130, FiveWs="FiveWs.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.Date? DateElement
    {
      get
      {
        if(_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Date), Overflow["date"]);
        return _DateElement;
      }

      set
      {
        if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
          Overflow.Remove("date");
        _DateElement = value;
        OnPropertyChanged("DateElement");
      }

    }

    private Hl7.Fhir.Model.Date? _DateElement;

    /// <summary>
    /// Fully executed date of the consent
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Date
    {
      get => DateElement?.Value;
      set
      {
        DateElement = value is null ? null : new Hl7.Fhir.Model.Date(value);
        OnPropertyChanged("Date");
      }
    }

    /// <summary>
    /// Effective period for this Consent.
    /// </summary>
    [FhirElement("period", InSummary=true, Order=140)]
    [DataMember]
    public Hl7.Fhir.Model.Period? Period
    {
      get
      {
        if(_Period.InOverflow<Hl7.Fhir.Model.Period>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["period"]);
        return _Period;
      }

      set
      {
        if (_Period.InOverflow<Hl7.Fhir.Model.Period>())
          Overflow.Remove("period");
        _Period = value;
        OnPropertyChanged("Period");
      }

    }

    private Hl7.Fhir.Model.Period? _Period;

    /// <summary>
    /// Who is granting rights according to the policy and rules.
    /// </summary>
    [FhirElement("grantor", InSummary=true, Order=150)]
    [CLSCompliant(false)]
    [References("CareTeam","Group","HealthcareService","Organization","Patient","Practitioner","RelatedPerson","PractitionerRole")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Grantor
    {
      get
      {
        if(_Grantor.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["grantor"]);
        return _Grantor ??= [];
      }

      set
      {
        if (_Grantor.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("grantor");
        _Grantor = value;
        OnPropertyChanged("Grantor");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Grantor;

    /// <summary>
    /// Who is agreeing to the policy and rules.
    /// </summary>
    [FhirElement("grantee", InSummary=true, Order=160)]
    [CLSCompliant(false)]
    [References("CareTeam","Group","HealthcareService","Organization","Patient","Practitioner","RelatedPerson","PractitionerRole")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Grantee
    {
      get
      {
        if(_Grantee.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["grantee"]);
        return _Grantee ??= [];
      }

      set
      {
        if (_Grantee.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("grantee");
        _Grantee = value;
        OnPropertyChanged("Grantee");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Grantee;

    /// <summary>
    /// Consent workflow management.
    /// </summary>
    [FhirElement("manager", Order=170, FiveWs="FiveWs.witness")]
    [CLSCompliant(false)]
    [References("HealthcareService","Organization","Patient","Practitioner")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Manager
    {
      get
      {
        if(_Manager.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["manager"]);
        return _Manager ??= [];
      }

      set
      {
        if (_Manager.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("manager");
        _Manager = value;
        OnPropertyChanged("Manager");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Manager;

    /// <summary>
    /// Consent Enforcer.
    /// </summary>
    [FhirElement("controller", Order=180)]
    [CLSCompliant(false)]
    [References("HealthcareService","Organization","Patient","Practitioner")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Controller
    {
      get
      {
        if(_Controller.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["controller"]);
        return _Controller ??= [];
      }

      set
      {
        if (_Controller.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("controller");
        _Controller = value;
        OnPropertyChanged("Controller");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Controller;

    /// <summary>
    /// Source from which this consent is taken.
    /// </summary>
    [FhirElement("sourceAttachment", Order=190)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Attachment> SourceAttachment
    {
      get
      {
        if(_SourceAttachment.InOverflow<List<Hl7.Fhir.Model.Attachment>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Attachment>), Overflow["sourceAttachment"]);
        return _SourceAttachment ??= [];
      }

      set
      {
        if (_SourceAttachment.InOverflow<List<Hl7.Fhir.Model.Attachment>>())
          Overflow.Remove("sourceAttachment");
        _SourceAttachment = value;
        OnPropertyChanged("SourceAttachment");
      }

    }

    private List<Hl7.Fhir.Model.Attachment>? _SourceAttachment;

    /// <summary>
    /// Source from which this consent is taken.
    /// </summary>
    [FhirElement("sourceReference", Order=200)]
    [CLSCompliant(false)]
    [References("Consent","DocumentReference","Contract","QuestionnaireResponse")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> SourceReference
    {
      get
      {
        if(_SourceReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["sourceReference"]);
        return _SourceReference ??= [];
      }

      set
      {
        if (_SourceReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("sourceReference");
        _SourceReference = value;
        OnPropertyChanged("SourceReference");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _SourceReference;

    /// <summary>
    /// Regulations establishing base Consent.
    /// </summary>
    [FhirElement("regulatoryBasis", Order=210)]
    [Binding("ConsentRegulatoryBasis")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> RegulatoryBasis
    {
      get
      {
        if(_RegulatoryBasis.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["regulatoryBasis"]);
        return _RegulatoryBasis ??= [];
      }

      set
      {
        if (_RegulatoryBasis.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("regulatoryBasis");
        _RegulatoryBasis = value;
        OnPropertyChanged("RegulatoryBasis");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _RegulatoryBasis;

    /// <summary>
    /// Computable version of the backing policy.
    /// </summary>
    [FhirElement("policyBasis", Order=220)]
    [DataMember]
    public Hl7.Fhir.Model.Consent.PolicyBasisComponent? PolicyBasis
    {
      get
      {
        if(_PolicyBasis.InOverflow<Hl7.Fhir.Model.Consent.PolicyBasisComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Consent.PolicyBasisComponent), Overflow["policyBasis"]);
        return _PolicyBasis;
      }

      set
      {
        if (_PolicyBasis.InOverflow<Hl7.Fhir.Model.Consent.PolicyBasisComponent>())
          Overflow.Remove("policyBasis");
        _PolicyBasis = value;
        OnPropertyChanged("PolicyBasis");
      }

    }

    private Hl7.Fhir.Model.Consent.PolicyBasisComponent? _PolicyBasis;

    /// <summary>
    /// Human Readable Policy.
    /// </summary>
    [FhirElement("policyText", Order=230)]
    [CLSCompliant(false)]
    [References("DocumentReference")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> PolicyText
    {
      get
      {
        if(_PolicyText.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["policyText"]);
        return _PolicyText ??= [];
      }

      set
      {
        if (_PolicyText.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("policyText");
        _PolicyText = value;
        OnPropertyChanged("PolicyText");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _PolicyText;

    /// <summary>
    /// Consent Verified by patient or family.
    /// </summary>
    [FhirElement("verification", InSummary=true, Order=240)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Consent.VerificationComponent> Verification
    {
      get
      {
        if(_Verification.InOverflow<List<Hl7.Fhir.Model.Consent.VerificationComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Consent.VerificationComponent>), Overflow["verification"]);
        return _Verification ??= [];
      }

      set
      {
        if (_Verification.InOverflow<List<Hl7.Fhir.Model.Consent.VerificationComponent>>())
          Overflow.Remove("verification");
        _Verification = value;
        OnPropertyChanged("Verification");
      }

    }

    private List<Hl7.Fhir.Model.Consent.VerificationComponent>? _Verification;

    /// <summary>
    /// deny | permit.
    /// </summary>
    [FhirElement("decision", InSummary=true, IsModifier=true, Order=250)]
    [Binding("ConsentProvisionType")]
    [DataMember]
    public Code<Hl7.Fhir.Model.ConsentProvisionType>? DecisionElement
    {
      get
      {
        if(_DecisionElement.InOverflow<Code<Hl7.Fhir.Model.ConsentProvisionType>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ConsentProvisionType>), Overflow["decision"]);
        return _DecisionElement;
      }

      set
      {
        if (_DecisionElement.InOverflow<Code<Hl7.Fhir.Model.ConsentProvisionType>>())
          Overflow.Remove("decision");
        _DecisionElement = value;
        OnPropertyChanged("DecisionElement");
      }

    }

    private Code<Hl7.Fhir.Model.ConsentProvisionType>? _DecisionElement;

    /// <summary>
    /// deny | permit
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.ConsentProvisionType? Decision
    {
      get => DecisionElement?.Value;
      set
      {
        DecisionElement = value is null ? null : new Code<Hl7.Fhir.Model.ConsentProvisionType>(value);
        OnPropertyChanged("Decision");
      }
    }

    /// <summary>
    /// Permission Resource for provisions.
    /// </summary>
    [FhirElement("provisionReference", Order=260)]
    [CLSCompliant(false)]
    [References("Permission")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> ProvisionReference
    {
      get
      {
        if(_ProvisionReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["provisionReference"]);
        return _ProvisionReference ??= [];
      }

      set
      {
        if (_ProvisionReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("provisionReference");
        _ProvisionReference = value;
        OnPropertyChanged("ProvisionReference");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _ProvisionReference;

    /// <summary>
    /// Constraints to the base Consent.policyRule/Consent.policy.
    /// </summary>
    [FhirElement("provision", InSummary=true, Order=270)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Consent.provisionComponent> Provision
    {
      get
      {
        if(_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Consent.provisionComponent>), Overflow["provision"]);
        return _Provision ??= [];
      }

      set
      {
        if (_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>())
          Overflow.Remove("provision");
        _Provision = value;
        OnPropertyChanged("Provision");
      }

    }

    private List<Hl7.Fhir.Model.Consent.provisionComponent>? _Provision;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not Consent dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.Consent.ConsentState>)_StatusElement.DeepCopyInternal();
      if(_Category is not null) dest.Category = new List<Hl7.Fhir.Model.CodeableConcept>(_Category.DeepCopyInternal());
      if(_Subject is not null) dest.Subject = (Hl7.Fhir.Model.ResourceReference)_Subject.DeepCopyInternal();
      if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.Date)_DateElement.DeepCopyInternal();
      if(_Period is not null) dest.Period = (Hl7.Fhir.Model.Period)_Period.DeepCopyInternal();
      if(_Grantor is not null) dest.Grantor = new List<Hl7.Fhir.Model.ResourceReference>(_Grantor.DeepCopyInternal());
      if(_Grantee is not null) dest.Grantee = new List<Hl7.Fhir.Model.ResourceReference>(_Grantee.DeepCopyInternal());
      if(_Manager is not null) dest.Manager = new List<Hl7.Fhir.Model.ResourceReference>(_Manager.DeepCopyInternal());
      if(_Controller is not null) dest.Controller = new List<Hl7.Fhir.Model.ResourceReference>(_Controller.DeepCopyInternal());
      if(_SourceAttachment is not null) dest.SourceAttachment = new List<Hl7.Fhir.Model.Attachment>(_SourceAttachment.DeepCopyInternal());
      if(_SourceReference is not null) dest.SourceReference = new List<Hl7.Fhir.Model.ResourceReference>(_SourceReference.DeepCopyInternal());
      if(_RegulatoryBasis is not null) dest.RegulatoryBasis = new List<Hl7.Fhir.Model.CodeableConcept>(_RegulatoryBasis.DeepCopyInternal());
      if(_PolicyBasis is not null) dest.PolicyBasis = (Hl7.Fhir.Model.Consent.PolicyBasisComponent)_PolicyBasis.DeepCopyInternal();
      if(_PolicyText is not null) dest.PolicyText = new List<Hl7.Fhir.Model.ResourceReference>(_PolicyText.DeepCopyInternal());
      if(_Verification is not null) dest.Verification = new List<Hl7.Fhir.Model.Consent.VerificationComponent>(_Verification.DeepCopyInternal());
      if(_DecisionElement is not null) dest.DecisionElement = (Code<Hl7.Fhir.Model.ConsentProvisionType>)_DecisionElement.DeepCopyInternal();
      if(_ProvisionReference is not null) dest.ProvisionReference = new List<Hl7.Fhir.Model.ResourceReference>(_ProvisionReference.DeepCopyInternal());
      if(_Provision is not null) dest.Provision = new List<Hl7.Fhir.Model.Consent.provisionComponent>(_Provision.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new Consent();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not Consent otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.ListEquals(_Category, otherT._Category)) return false;
      if(!comparer.Equals(_Subject, otherT._Subject)) return false;
      if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
      if(!comparer.Equals(_Period, otherT._Period)) return false;
      if(!comparer.ListEquals(_Grantor, otherT._Grantor)) return false;
      if(!comparer.ListEquals(_Grantee, otherT._Grantee)) return false;
      if(!comparer.ListEquals(_Manager, otherT._Manager)) return false;
      if(!comparer.ListEquals(_Controller, otherT._Controller)) return false;
      if(!comparer.ListEquals(_SourceAttachment, otherT._SourceAttachment)) return false;
      if(!comparer.ListEquals(_SourceReference, otherT._SourceReference)) return false;
      if(!comparer.ListEquals(_RegulatoryBasis, otherT._RegulatoryBasis)) return false;
      if(!comparer.Equals(_PolicyBasis, otherT._PolicyBasis)) return false;
      if(!comparer.ListEquals(_PolicyText, otherT._PolicyText)) return false;
      if(!comparer.ListEquals(_Verification, otherT._Verification)) return false;
      if(!comparer.Equals(_DecisionElement, otherT._DecisionElement)) return false;
      if(!comparer.ListEquals(_ProvisionReference, otherT._ProvisionReference)) return false;
      if(!comparer.ListEquals(_Provision, otherT._Provision)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentState>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.Consent.ConsentState>) is not null;
        case "category":
          if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["category"];
            return true;
          }
          value = _Category;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "subject":
          if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["subject"];
            return true;
          }
          value = _Subject;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "date":
          if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
          {
            value = Overflow["date"];
            return true;
          }
          value = _DateElement;
          return (value as Hl7.Fhir.Model.Date) is not null;
        case "period":
          if (_Period.InOverflow<Hl7.Fhir.Model.Period>())
          {
            value = Overflow["period"];
            return true;
          }
          value = _Period;
          return (value as Hl7.Fhir.Model.Period) is not null;
        case "grantor":
          if (_Grantor.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["grantor"];
            return true;
          }
          value = _Grantor;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "grantee":
          if (_Grantee.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["grantee"];
            return true;
          }
          value = _Grantee;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "manager":
          if (_Manager.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["manager"];
            return true;
          }
          value = _Manager;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "controller":
          if (_Controller.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["controller"];
            return true;
          }
          value = _Controller;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "sourceAttachment":
          if (_SourceAttachment.InOverflow<List<Hl7.Fhir.Model.Attachment>>())
          {
            value = Overflow["sourceAttachment"];
            return true;
          }
          value = _SourceAttachment;
          return (value as List<Hl7.Fhir.Model.Attachment>)?.Any() is true;
        case "sourceReference":
          if (_SourceReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["sourceReference"];
            return true;
          }
          value = _SourceReference;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "regulatoryBasis":
          if (_RegulatoryBasis.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["regulatoryBasis"];
            return true;
          }
          value = _RegulatoryBasis;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "policyBasis":
          if (_PolicyBasis.InOverflow<Hl7.Fhir.Model.Consent.PolicyBasisComponent>())
          {
            value = Overflow["policyBasis"];
            return true;
          }
          value = _PolicyBasis;
          return (value as Hl7.Fhir.Model.Consent.PolicyBasisComponent) is not null;
        case "policyText":
          if (_PolicyText.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["policyText"];
            return true;
          }
          value = _PolicyText;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "verification":
          if (_Verification.InOverflow<List<Hl7.Fhir.Model.Consent.VerificationComponent>>())
          {
            value = Overflow["verification"];
            return true;
          }
          value = _Verification;
          return (value as List<Hl7.Fhir.Model.Consent.VerificationComponent>)?.Any() is true;
        case "decision":
          if (_DecisionElement.InOverflow<Code<Hl7.Fhir.Model.ConsentProvisionType>>())
          {
            value = Overflow["decision"];
            return true;
          }
          value = _DecisionElement;
          return (value as Code<Hl7.Fhir.Model.ConsentProvisionType>) is not null;
        case "provisionReference":
          if (_ProvisionReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["provisionReference"];
            return true;
          }
          value = _ProvisionReference;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "provision":
          if (_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>())
          {
            value = Overflow["provision"];
            return true;
          }
          value = _Provision;
          return (value as List<Hl7.Fhir.Model.Consent.provisionComponent>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.Consent.ConsentState> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.Consent.ConsentState>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.Consent.ConsentState>?)value;
          return this;
        case "category":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Category = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["category"] = value;
          }
          else Category = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "subject":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Subject = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["subject"] = value;
          }
          else Subject = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "date":
          if (value is not (Hl7.Fhir.Model.Date or null))
          {
            DateElement = OverflowNull<Hl7.Fhir.Model.Date>.INSTANCE;
            Overflow["date"] = value;
          }
          else DateElement = (Hl7.Fhir.Model.Date?)value;
          return this;
        case "period":
          if (value is not (Hl7.Fhir.Model.Period or null))
          {
            Period = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
            Overflow["period"] = value;
          }
          else Period = (Hl7.Fhir.Model.Period?)value;
          return this;
        case "grantor":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Grantor = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["grantor"] = value;
          }
          else Grantor = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "grantee":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Grantee = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["grantee"] = value;
          }
          else Grantee = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "manager":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Manager = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["manager"] = value;
          }
          else Manager = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "controller":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Controller = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["controller"] = value;
          }
          else Controller = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "sourceAttachment":
          if (value is not (List<Hl7.Fhir.Model.Attachment> or null))
          {
            SourceAttachment = OverflowNull<List<Hl7.Fhir.Model.Attachment>>.INSTANCE;
            Overflow["sourceAttachment"] = value;
          }
          else SourceAttachment = (List<Hl7.Fhir.Model.Attachment>?)value!;
          return this;
        case "sourceReference":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            SourceReference = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["sourceReference"] = value;
          }
          else SourceReference = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "regulatoryBasis":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            RegulatoryBasis = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["regulatoryBasis"] = value;
          }
          else RegulatoryBasis = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "policyBasis":
          if (value is not (Hl7.Fhir.Model.Consent.PolicyBasisComponent or null))
          {
            PolicyBasis = OverflowNull<Hl7.Fhir.Model.Consent.PolicyBasisComponent>.INSTANCE;
            Overflow["policyBasis"] = value;
          }
          else PolicyBasis = (Hl7.Fhir.Model.Consent.PolicyBasisComponent?)value;
          return this;
        case "policyText":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            PolicyText = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["policyText"] = value;
          }
          else PolicyText = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "verification":
          if (value is not (List<Hl7.Fhir.Model.Consent.VerificationComponent> or null))
          {
            Verification = OverflowNull<List<Hl7.Fhir.Model.Consent.VerificationComponent>>.INSTANCE;
            Overflow["verification"] = value;
          }
          else Verification = (List<Hl7.Fhir.Model.Consent.VerificationComponent>?)value!;
          return this;
        case "decision":
          if (value is not (Code<Hl7.Fhir.Model.ConsentProvisionType> or null))
          {
            DecisionElement = OverflowNull<Code<Hl7.Fhir.Model.ConsentProvisionType>>.INSTANCE;
            Overflow["decision"] = value;
          }
          else DecisionElement = (Code<Hl7.Fhir.Model.ConsentProvisionType>?)value;
          return this;
        case "provisionReference":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            ProvisionReference = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["provisionReference"] = value;
          }
          else ProvisionReference = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "provision":
          if (value is not (List<Hl7.Fhir.Model.Consent.provisionComponent> or null))
          {
            Provision = OverflowNull<List<Hl7.Fhir.Model.Consent.provisionComponent>>.INSTANCE;
            Overflow["provision"] = value;
          }
          else Provision = (List<Hl7.Fhir.Model.Consent.provisionComponent>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.Consent.ConsentState>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_Category?.Any() is true && !_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("category",_Category);
      if (_Subject is not null && !_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("subject",_Subject);
      if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.Date>()) yield return new KeyValuePair<string,object>("date",_DateElement);
      if (_Period is not null && !_Period.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("period",_Period);
      if (_Grantor?.Any() is true && !_Grantor.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("grantor",_Grantor);
      if (_Grantee?.Any() is true && !_Grantee.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("grantee",_Grantee);
      if (_Manager?.Any() is true && !_Manager.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("manager",_Manager);
      if (_Controller?.Any() is true && !_Controller.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("controller",_Controller);
      if (_SourceAttachment?.Any() is true && !_SourceAttachment.InOverflow<List<Hl7.Fhir.Model.Attachment>>()) yield return new KeyValuePair<string,object>("sourceAttachment",_SourceAttachment);
      if (_SourceReference?.Any() is true && !_SourceReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("sourceReference",_SourceReference);
      if (_RegulatoryBasis?.Any() is true && !_RegulatoryBasis.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("regulatoryBasis",_RegulatoryBasis);
      if (_PolicyBasis is not null && !_PolicyBasis.InOverflow<Hl7.Fhir.Model.Consent.PolicyBasisComponent>()) yield return new KeyValuePair<string,object>("policyBasis",_PolicyBasis);
      if (_PolicyText?.Any() is true && !_PolicyText.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("policyText",_PolicyText);
      if (_Verification?.Any() is true && !_Verification.InOverflow<List<Hl7.Fhir.Model.Consent.VerificationComponent>>()) yield return new KeyValuePair<string,object>("verification",_Verification);
      if (_DecisionElement is not null && !_DecisionElement.InOverflow<Code<Hl7.Fhir.Model.ConsentProvisionType>>()) yield return new KeyValuePair<string,object>("decision",_DecisionElement);
      if (_ProvisionReference?.Any() is true && !_ProvisionReference.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("provisionReference",_ProvisionReference);
      if (_Provision?.Any() is true && !_Provision.InOverflow<List<Hl7.Fhir.Model.Consent.provisionComponent>>()) yield return new KeyValuePair<string,object>("provision",_Provision);
    }

  }

}

// end of file
