// <auto-generated/>
// Contents of: hl7.fhir.r6.expansions@6.0.0-ballot3, hl7.fhir.r6.core@6.0.0-ballot3

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// Describes a set of tests
  /// </summary>
  /// <remarks>
  /// A structured set of tests against a FHIR server or client implementation to determine compliance against the FHIR specification.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("TestScript","http://hl7.org/fhir/StructureDefinition/TestScript")]
  public partial class TestScript : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "TestScript";

    /// <summary>
    /// The allowable request method or HTTP operation codes.
    /// (url: http://hl7.org/fhir/ValueSet/http-operations)
    /// (system: http://hl7.org/fhir/http-operations)
    /// </summary>
    [FhirEnumeration("TestScriptRequestMethodCode", "http://hl7.org/fhir/ValueSet/http-operations", "http://hl7.org/fhir/http-operations")]
    public enum TestScriptRequestMethodCode
    {
      /// <summary>
      /// HTTP DELETE operation.
      /// (system: http://hl7.org/fhir/http-operations)
      /// </summary>
      [EnumLiteral("delete"), Description("DELETE")]
      Delete,
      /// <summary>
      /// HTTP GET operation.
      /// (system: http://hl7.org/fhir/http-operations)
      /// </summary>
      [EnumLiteral("get"), Description("GET")]
      Get,
      /// <summary>
      /// HTTP OPTIONS operation.
      /// (system: http://hl7.org/fhir/http-operations)
      /// </summary>
      [EnumLiteral("options"), Description("OPTIONS")]
      Options,
      /// <summary>
      /// HTTP PATCH operation.
      /// (system: http://hl7.org/fhir/http-operations)
      /// </summary>
      [EnumLiteral("patch"), Description("PATCH")]
      Patch,
      /// <summary>
      /// HTTP POST operation.
      /// (system: http://hl7.org/fhir/http-operations)
      /// </summary>
      [EnumLiteral("post"), Description("POST")]
      Post,
      /// <summary>
      /// HTTP PUT operation.
      /// (system: http://hl7.org/fhir/http-operations)
      /// </summary>
      [EnumLiteral("put"), Description("PUT")]
      Put,
      /// <summary>
      /// HTTP HEAD operation.
      /// (system: http://hl7.org/fhir/http-operations)
      /// </summary>
      [EnumLiteral("head"), Description("HEAD")]
      Head,
    }

    /// <summary>
    /// The type of direction to use for assertion.
    /// (url: http://hl7.org/fhir/ValueSet/assert-direction-codes)
    /// (system: http://hl7.org/fhir/assert-direction-codes)
    /// </summary>
    [FhirEnumeration("AssertionDirectionType", "http://hl7.org/fhir/ValueSet/assert-direction-codes", "http://hl7.org/fhir/assert-direction-codes")]
    public enum AssertionDirectionType
    {
      /// <summary>
      /// The assertion is evaluated on the response. This is the default value.
      /// (system: http://hl7.org/fhir/assert-direction-codes)
      /// </summary>
      [EnumLiteral("response"), Description("response")]
      Response,
      /// <summary>
      /// The assertion is evaluated on the request.
      /// (system: http://hl7.org/fhir/assert-direction-codes)
      /// </summary>
      [EnumLiteral("request"), Description("request")]
      Request,
    }

    /// <summary>
    /// The type of manual completion to use for assertion.
    /// (url: http://hl7.org/fhir/ValueSet/assert-manual-completion-codes)
    /// (system: http://hl7.org/fhir/assert-manual-completion-codes)
    /// </summary>
    [FhirEnumeration("AssertionManualCompletionType", "http://hl7.org/fhir/ValueSet/assert-manual-completion-codes", "http://hl7.org/fhir/assert-manual-completion-codes")]
    public enum AssertionManualCompletionType
    {
      /// <summary>
      /// Mark the currently waiting test failed and proceed with the next assert if the stopTestOnFail is false or the next test in the TestScript if the stopTestOnFail is true.
      /// (system: http://hl7.org/fhir/assert-manual-completion-codes)
      /// </summary>
      [EnumLiteral("fail"), Description("Fail")]
      Fail,
      /// <summary>
      /// Mark the currently waiting test passed (if the test is not failed already) and proceed with the next action in the TestScript.
      /// (system: http://hl7.org/fhir/assert-manual-completion-codes)
      /// </summary>
      [EnumLiteral("pass"), Description("Pass")]
      Pass,
      /// <summary>
      /// Mark this assert as skipped and proceed with the next action in the TestScript.
      /// (system: http://hl7.org/fhir/assert-manual-completion-codes)
      /// </summary>
      [EnumLiteral("skip"), Description("Skip")]
      Skip,
      /// <summary>
      /// Stop execution of this TestScript. The overall status of this TestScript is evaluated based on the status of the completed tests.
      /// (system: http://hl7.org/fhir/assert-manual-completion-codes)
      /// </summary>
      [EnumLiteral("stop"), Description("Stop")]
      Stop,
    }

    /// <summary>
    /// The type of operator to use for assertion.
    /// (url: http://hl7.org/fhir/ValueSet/assert-operator-codes)
    /// (system: http://hl7.org/fhir/assert-operator-codes)
    /// </summary>
    [FhirEnumeration("AssertionOperatorType", "http://hl7.org/fhir/ValueSet/assert-operator-codes", "http://hl7.org/fhir/assert-operator-codes")]
    public enum AssertionOperatorType
    {
      /// <summary>
      /// Default value. Equals comparison.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("equals"), Description("equals")]
      Equals,
      /// <summary>
      /// Not equals comparison.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("notEquals"), Description("notEquals")]
      NotEquals,
      /// <summary>
      /// Compare value within a known set of values.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("in"), Description("in")]
      In,
      /// <summary>
      /// Compare value not within a known set of values.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("notIn"), Description("notIn")]
      NotIn,
      /// <summary>
      /// Compare value to be greater than a known value.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("greaterThan"), Description("greaterThan")]
      GreaterThan,
      /// <summary>
      /// Compare value to be less than a known value.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("lessThan"), Description("lessThan")]
      LessThan,
      /// <summary>
      /// Compare value is empty.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("empty"), Description("empty")]
      Empty,
      /// <summary>
      /// Compare value is not empty.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("notEmpty"), Description("notEmpty")]
      NotEmpty,
      /// <summary>
      /// Compare value string contains a known value.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("contains"), Description("contains")]
      Contains,
      /// <summary>
      /// Compare value string does not contain a known value.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("notContains"), Description("notContains")]
      NotContains,
      /// <summary>
      /// Evaluate the FHIRPath expression as a boolean condition.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("eval"), Description("evaluate")]
      Eval,
      /// <summary>
      /// Manually evaluate the condition described by this assert. The test engine SHALL pause and provide an input mechanism to set the outcome of this assert to 'pass', 'fail', 'skip' or 'stop'.
      /// (system: http://hl7.org/fhir/assert-operator-codes)
      /// </summary>
      [EnumLiteral("manualEval"), Description("manualEvaluate")]
      ManualEval,
    }

    /// <summary>
    /// The type of response code to use for assertion.
    /// (url: http://hl7.org/fhir/ValueSet/assert-response-code-types)
    /// (system: http://hl7.org/fhir/assert-response-code-types)
    /// </summary>
    [FhirEnumeration("AssertionResponseTypes", "http://hl7.org/fhir/ValueSet/assert-response-code-types", "http://hl7.org/fhir/assert-response-code-types")]
    public enum AssertionResponseTypes
    {
      /// <summary>
      /// Response code is 100.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("continue"), Description("Continue")]
      Continue,
      /// <summary>
      /// Response code is 101.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("switchingProtocols"), Description("Switching Protocols")]
      SwitchingProtocols,
      /// <summary>
      /// Response code is 200.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("okay"), Description("OK")]
      Okay,
      /// <summary>
      /// Response code is 201.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("created"), Description("Created")]
      Created,
      /// <summary>
      /// Response code is 202.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("accepted"), Description("Accepted")]
      Accepted,
      /// <summary>
      /// Response code is 203.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("nonAuthoritativeInformation"), Description("Non-Authoritative Information")]
      NonAuthoritativeInformation,
      /// <summary>
      /// Response code is 204.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("noContent"), Description("No Content")]
      NoContent,
      /// <summary>
      /// Response code is 205.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("resetContent"), Description("Reset Content")]
      ResetContent,
      /// <summary>
      /// Response code is 206.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("partialContent"), Description("Partial Content")]
      PartialContent,
      /// <summary>
      /// Response code is 300.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("multipleChoices"), Description("Multiple Choices")]
      MultipleChoices,
      /// <summary>
      /// Response code is 301.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("movedPermanently"), Description("Moved Permanently")]
      MovedPermanently,
      /// <summary>
      /// Response code is 302.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("found"), Description("Found")]
      Found,
      /// <summary>
      /// Response code is 303.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("seeOther"), Description("See Other")]
      SeeOther,
      /// <summary>
      /// Response code is 304.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("notModified"), Description("Not Modified")]
      NotModified,
      /// <summary>
      /// Response code is 305.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("useProxy"), Description("Use Proxy")]
      UseProxy,
      /// <summary>
      /// Response code is 307.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("temporaryRedirect"), Description("Temporary Redirect")]
      TemporaryRedirect,
      /// <summary>
      /// Response code is 308.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("permanentRedirect"), Description("Permanent Redirect")]
      PermanentRedirect,
      /// <summary>
      /// Response code is 400.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("badRequest"), Description("Bad Request")]
      BadRequest,
      /// <summary>
      /// Response code is 401.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("unauthorized"), Description("Unauthorized")]
      Unauthorized,
      /// <summary>
      /// Response code is 402.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("paymentRequired"), Description("Payment Required")]
      PaymentRequired,
      /// <summary>
      /// Response code is 403.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("forbidden"), Description("Forbidden")]
      Forbidden,
      /// <summary>
      /// Response code is 404.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("notFound"), Description("Not Found")]
      NotFound,
      /// <summary>
      /// Response code is 405.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("methodNotAllowed"), Description("Method Not Allowed")]
      MethodNotAllowed,
      /// <summary>
      /// Response code is 406.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("notAcceptable"), Description("Not Acceptable")]
      NotAcceptable,
      /// <summary>
      /// Response code is 407.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("proxyAuthenticationRequired"), Description("Proxy Authentication Required")]
      ProxyAuthenticationRequired,
      /// <summary>
      /// Response code is 408.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("requestTimeout"), Description("Request Timeout")]
      RequestTimeout,
      /// <summary>
      /// Response code is 409.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("conflict"), Description("Conflict")]
      Conflict,
      /// <summary>
      /// Response code is 410.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("gone"), Description("Gone")]
      Gone,
      /// <summary>
      /// Response code is 411.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("lengthRequired"), Description("Length Required")]
      LengthRequired,
      /// <summary>
      /// Response code is 412.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("preconditionFailed"), Description("Precondition Failed")]
      PreconditionFailed,
      /// <summary>
      /// Response code is 413.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("contentTooLarge"), Description("Content Too Large")]
      ContentTooLarge,
      /// <summary>
      /// Response code is 414.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("uriTooLong"), Description("URI Too Long")]
      UriTooLong,
      /// <summary>
      /// Response code is 415.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("unsupportedMediaType"), Description("Unsupported Media Type")]
      UnsupportedMediaType,
      /// <summary>
      /// Response code is 416.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("rangeNotSatisfiable"), Description("Range Not Satisfiable")]
      RangeNotSatisfiable,
      /// <summary>
      /// Response code is 417.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("expectationFailed"), Description("Expectation Failed")]
      ExpectationFailed,
      /// <summary>
      /// Response code is 421.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("misdirectedRequest"), Description("Misdirected Request")]
      MisdirectedRequest,
      /// <summary>
      /// Response code is 422.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("unprocessableContent"), Description("Unprocessable Content")]
      UnprocessableContent,
      /// <summary>
      /// Response code is 426.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("upgradeRequired"), Description("Upgrade Required")]
      UpgradeRequired,
      /// <summary>
      /// Response code is 500.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("internalServerError"), Description("Internal Server Error")]
      InternalServerError,
      /// <summary>
      /// Response code is 501.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("notImplemented"), Description("Not Implemented")]
      NotImplemented,
      /// <summary>
      /// Response code is 502.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("badGateway"), Description("Bad Gateway")]
      BadGateway,
      /// <summary>
      /// Response code is 503.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("serviceUnavailable"), Description("Service Unavailable")]
      ServiceUnavailable,
      /// <summary>
      /// Response code is 504.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("gatewayTimeout"), Description("Gateway Timeout")]
      GatewayTimeout,
      /// <summary>
      /// Response code is 505.
      /// (system: http://hl7.org/fhir/assert-response-code-types)
      /// </summary>
      [EnumLiteral("httpVersionNotSupported"), Description("HTTP Version Not Supported")]
      HttpVersionNotSupported,
    }

    /// <summary>
    /// An abstract server representing a client or sender in a message exchange
    /// </summary>
    /// <remarks>
    /// An abstract server used in operations within this test script in the origin element.
    /// The purpose of this element is to define the profile of an origin element used elsewhere in the script.  Test engines could then use the origin-profile mapping to offer a filtered list of test systems that can serve as the sender for the interaction.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.testSystem", IsBackboneType=true)]
    public partial class TestSystemComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.testSystem";

      /// <summary>
      /// The index of the abstract test system.
      /// </summary>
      [FhirElement("index", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt? IndexElement
      {
        get
        {
          if(_IndexElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["index"]);
          return _IndexElement;
        }

        set
        {
          if (_IndexElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("index");
          _IndexElement = value;
          OnPropertyChanged("IndexElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _IndexElement;

      /// <summary>
      /// The index of the abstract test system
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Index
      {
        get => IndexElement?.Value;
        set
        {
          IndexElement = value is null ? null : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Index");
        }
      }

      /// <summary>
      /// Label for the test system.
      /// </summary>
      [FhirElement("title", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? TitleElement
      {
        get
        {
          if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
          return _TitleElement;
        }

        set
        {
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("title");
          _TitleElement = value;
          OnPropertyChanged("TitleElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TitleElement;

      /// <summary>
      /// Label for the test system
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Title
      {
        get => TitleElement?.Value;
        set
        {
          TitleElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Title");
        }
      }

      /// <summary>
      /// Features met by the test system.
      /// </summary>
      [FhirElement("actor", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Canonical> ActorElement
      {
        get
        {
          if(_ActorElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Canonical>), Overflow["actor"]);
          return _ActorElement ??= [];
        }

        set
        {
          if (_ActorElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
            Overflow.Remove("actor");
          _ActorElement = value;
          OnPropertyChanged("ActorElement");
        }

      }

      private List<Hl7.Fhir.Model.Canonical>? _ActorElement;

      /// <summary>
      /// Features met by the test system
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<string?> Actor
      {
        get => _ActorElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            ActorElement = null!;
          else
            ActorElement = new List<Hl7.Fhir.Model.Canonical>(value.Select(elem=>new Hl7.Fhir.Model.Canonical(elem)));
          OnPropertyChanged("Actor");
        }
      }

      /// <summary>
      /// Formatted information of this test system.
      /// </summary>
      [FhirElement("description", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// Formatted information of this test system
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// The url path of this test system.
      /// </summary>
      [FhirElement("url", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.FhirUrl? UrlElement
      {
        get
        {
          if(_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUrl>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUrl), Overflow["url"]);
          return _UrlElement;
        }

        set
        {
          if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUrl>())
            Overflow.Remove("url");
          _UrlElement = value;
          OnPropertyChanged("UrlElement");
        }

      }

      private Hl7.Fhir.Model.FhirUrl? _UrlElement;

      /// <summary>
      /// The url path of this test system
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Url
      {
        get => UrlElement?.Value;
        set
        {
          UrlElement = value is null ? null : new Hl7.Fhir.Model.FhirUrl(value);
          OnPropertyChanged("Url");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not TestSystemComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_IndexElement is not null) dest.IndexElement = (Hl7.Fhir.Model.PositiveInt)_IndexElement.DeepCopyInternal();
        if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
        if(_ActorElement is not null) dest.ActorElement = new List<Hl7.Fhir.Model.Canonical>(_ActorElement.DeepCopyInternal());
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
        if(_UrlElement is not null) dest.UrlElement = (Hl7.Fhir.Model.FhirUrl)_UrlElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new TestSystemComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not TestSystemComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_IndexElement, otherT._IndexElement)) return false;
        if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
        if(!comparer.ListEquals(_ActorElement, otherT._ActorElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_UrlElement, otherT._UrlElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "index":
            if (_IndexElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["index"];
              return true;
            }
            value = _IndexElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "title":
            if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["title"];
              return true;
            }
            value = _TitleElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "actor":
            if (_ActorElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
            {
              value = Overflow["actor"];
              return true;
            }
            value = _ActorElement;
            return (value as List<Hl7.Fhir.Model.Canonical>)?.Any() is true;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "url":
            if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUrl>())
            {
              value = Overflow["url"];
              return true;
            }
            value = _UrlElement;
            return (value as Hl7.Fhir.Model.FhirUrl) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "index":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              IndexElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["index"] = value;
            }
            else IndexElement = (Hl7.Fhir.Model.PositiveInt?)value;
            return this;
          case "title":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["title"] = value;
            }
            else TitleElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "actor":
            if (value is not (List<Hl7.Fhir.Model.Canonical> or null))
            {
              ActorElement = OverflowNull<List<Hl7.Fhir.Model.Canonical>>.INSTANCE;
              Overflow["actor"] = value;
            }
            else ActorElement = (List<Hl7.Fhir.Model.Canonical>?)value!;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "url":
            if (value is not (Hl7.Fhir.Model.FhirUrl or null))
            {
              UrlElement = OverflowNull<Hl7.Fhir.Model.FhirUrl>.INSTANCE;
              Overflow["url"] = value;
            }
            else UrlElement = (Hl7.Fhir.Model.FhirUrl?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_IndexElement is not null && !_IndexElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("index",_IndexElement);
        if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
        if (_ActorElement?.Any() is true && !_ActorElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>()) yield return new KeyValuePair<string,object>("actor",_ActorElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_UrlElement is not null && !_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUrl>()) yield return new KeyValuePair<string,object>("url",_UrlElement);
      }

    }

    /// <summary>
    /// Required capability that is assumed to function correctly on the FHIR server being tested
    /// </summary>
    /// <remarks>
    /// The required capability must exist and are assumed to function correctly on the FHIR server being tested.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.metadata", IsBackboneType=true)]
    public partial class MetadataComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.metadata";

      /// <summary>
      /// Links to the FHIR specification.
      /// </summary>
      [FhirElement("link", Order=40)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestScript.LinkComponent> Link
      {
        get
        {
          if(_Link.InOverflow<List<Hl7.Fhir.Model.TestScript.LinkComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.LinkComponent>), Overflow["link"]);
          return _Link ??= [];
        }

        set
        {
          if (_Link.InOverflow<List<Hl7.Fhir.Model.TestScript.LinkComponent>>())
            Overflow.Remove("link");
          _Link = value;
          OnPropertyChanged("Link");
        }

      }

      private List<Hl7.Fhir.Model.TestScript.LinkComponent>? _Link;

      /// <summary>
      /// Capabilities  that are assumed to function correctly on the FHIR server being tested.
      /// </summary>
      [FhirElement("capability", Order=50)]
      [Cardinality(Min=1,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestScript.CapabilityComponent> Capability
      {
        get
        {
          if(_Capability.InOverflow<List<Hl7.Fhir.Model.TestScript.CapabilityComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.CapabilityComponent>), Overflow["capability"]);
          return _Capability ??= [];
        }

        set
        {
          if (_Capability.InOverflow<List<Hl7.Fhir.Model.TestScript.CapabilityComponent>>())
            Overflow.Remove("capability");
          _Capability = value;
          OnPropertyChanged("Capability");
        }

      }

      private List<Hl7.Fhir.Model.TestScript.CapabilityComponent>? _Capability;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not MetadataComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Link is not null) dest.Link = new List<Hl7.Fhir.Model.TestScript.LinkComponent>(_Link.DeepCopyInternal());
        if(_Capability is not null) dest.Capability = new List<Hl7.Fhir.Model.TestScript.CapabilityComponent>(_Capability.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new MetadataComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not MetadataComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.ListEquals(_Link, otherT._Link)) return false;
        if(!comparer.ListEquals(_Capability, otherT._Capability)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "link":
            if (_Link.InOverflow<List<Hl7.Fhir.Model.TestScript.LinkComponent>>())
            {
              value = Overflow["link"];
              return true;
            }
            value = _Link;
            return (value as List<Hl7.Fhir.Model.TestScript.LinkComponent>)?.Any() is true;
          case "capability":
            if (_Capability.InOverflow<List<Hl7.Fhir.Model.TestScript.CapabilityComponent>>())
            {
              value = Overflow["capability"];
              return true;
            }
            value = _Capability;
            return (value as List<Hl7.Fhir.Model.TestScript.CapabilityComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "link":
            if (value is not (List<Hl7.Fhir.Model.TestScript.LinkComponent> or null))
            {
              Link = OverflowNull<List<Hl7.Fhir.Model.TestScript.LinkComponent>>.INSTANCE;
              Overflow["link"] = value;
            }
            else Link = (List<Hl7.Fhir.Model.TestScript.LinkComponent>?)value!;
            return this;
          case "capability":
            if (value is not (List<Hl7.Fhir.Model.TestScript.CapabilityComponent> or null))
            {
              Capability = OverflowNull<List<Hl7.Fhir.Model.TestScript.CapabilityComponent>>.INSTANCE;
              Overflow["capability"] = value;
            }
            else Capability = (List<Hl7.Fhir.Model.TestScript.CapabilityComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Link?.Any() is true && !_Link.InOverflow<List<Hl7.Fhir.Model.TestScript.LinkComponent>>()) yield return new KeyValuePair<string,object>("link",_Link);
        if (_Capability?.Any() is true && !_Capability.InOverflow<List<Hl7.Fhir.Model.TestScript.CapabilityComponent>>()) yield return new KeyValuePair<string,object>("capability",_Capability);
      }

    }

    /// <summary>
    /// Links to the FHIR specification
    /// </summary>
    /// <remarks>
    /// A link to the FHIR specification that this test is covering.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.metadata.link", IsBackboneType=true)]
    public partial class LinkComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.metadata.link";

      /// <summary>
      /// URL to the specification.
      /// </summary>
      [FhirElement("url", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirUri? UrlElement
      {
        get
        {
          if(_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["url"]);
          return _UrlElement;
        }

        set
        {
          if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            Overflow.Remove("url");
          _UrlElement = value;
          OnPropertyChanged("UrlElement");
        }

      }

      private Hl7.Fhir.Model.FhirUri? _UrlElement;

      /// <summary>
      /// URL to the specification
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Url
      {
        get => UrlElement?.Value;
        set
        {
          UrlElement = value is null ? null : new Hl7.Fhir.Model.FhirUri(value);
          OnPropertyChanged("Url");
        }
      }

      /// <summary>
      /// Short description.
      /// </summary>
      [FhirElement("description", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// Short description
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not LinkComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_UrlElement is not null) dest.UrlElement = (Hl7.Fhir.Model.FhirUri)_UrlElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new LinkComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not LinkComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_UrlElement, otherT._UrlElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "url":
            if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            {
              value = Overflow["url"];
              return true;
            }
            value = _UrlElement;
            return (value as Hl7.Fhir.Model.FhirUri) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "url":
            if (value is not (Hl7.Fhir.Model.FhirUri or null))
            {
              UrlElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
              Overflow["url"] = value;
            }
            else UrlElement = (Hl7.Fhir.Model.FhirUri?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_UrlElement is not null && !_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("url",_UrlElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      }

    }

    /// <summary>
    /// Capabilities  that are assumed to function correctly on the FHIR server being tested
    /// </summary>
    /// <remarks>
    /// Capabilities that must exist and are assumed to function correctly on the FHIR server being tested.
    /// When the metadata capabilities section is defined at TestScript.metadata, and the server's conformance statement does not contain the elements defined in the minimal conformance statement, then all the tests in the TestScript are skipped. The "metadata.capabilities.required" and "metadata.capabilities.validated" elements only indicate whether the capabilities are the primary focus of the test script or not. They do not impact the skipping logic. Capabilities whose "metadata.capabilities.validated" flag is true are the primary focus of the test script.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.metadata.capability", IsBackboneType=true)]
    public partial class CapabilityComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.metadata.capability";

      /// <summary>
      /// Are the capabilities required?.
      /// </summary>
      [FhirElement("required", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? RequiredElement
      {
        get
        {
          if(_RequiredElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["required"]);
          return _RequiredElement;
        }

        set
        {
          if (_RequiredElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("required");
          _RequiredElement = value;
          OnPropertyChanged("RequiredElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _RequiredElement;

      /// <summary>
      /// Are the capabilities required?
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Required
      {
        get => RequiredElement?.Value;
        set
        {
          RequiredElement = value is null ? null : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Required");
        }
      }

      /// <summary>
      /// Are the capabilities validated?.
      /// </summary>
      [FhirElement("validated", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? ValidatedElement
      {
        get
        {
          if(_ValidatedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["validated"]);
          return _ValidatedElement;
        }

        set
        {
          if (_ValidatedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("validated");
          _ValidatedElement = value;
          OnPropertyChanged("ValidatedElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _ValidatedElement;

      /// <summary>
      /// Are the capabilities validated?
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Validated
      {
        get => ValidatedElement?.Value;
        set
        {
          ValidatedElement = value is null ? null : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Validated");
        }
      }

      /// <summary>
      /// The expected capabilities of the server.
      /// </summary>
      [FhirElement("description", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// The expected capabilities of the server
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// Which origin server these requirements apply to.
      /// </summary>
      [FhirElement("origin", Order=70)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Integer> OriginElement
      {
        get
        {
          if(_OriginElement.InOverflow<List<Hl7.Fhir.Model.Integer>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Integer>), Overflow["origin"]);
          return _OriginElement ??= [];
        }

        set
        {
          if (_OriginElement.InOverflow<List<Hl7.Fhir.Model.Integer>>())
            Overflow.Remove("origin");
          _OriginElement = value;
          OnPropertyChanged("OriginElement");
        }

      }

      private List<Hl7.Fhir.Model.Integer>? _OriginElement;

      /// <summary>
      /// Which origin server these requirements apply to
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> Origin
      {
        get => _OriginElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            OriginElement = null!;
          else
            OriginElement = new List<Hl7.Fhir.Model.Integer>(value.Select(elem=>new Hl7.Fhir.Model.Integer(elem)));
          OnPropertyChanged("Origin");
        }
      }

      /// <summary>
      /// Which server these requirements apply to.
      /// </summary>
      [FhirElement("destination", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.Integer? DestinationElement
      {
        get
        {
          if(_DestinationElement.InOverflow<Hl7.Fhir.Model.Integer>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Integer), Overflow["destination"]);
          return _DestinationElement;
        }

        set
        {
          if (_DestinationElement.InOverflow<Hl7.Fhir.Model.Integer>())
            Overflow.Remove("destination");
          _DestinationElement = value;
          OnPropertyChanged("DestinationElement");
        }

      }

      private Hl7.Fhir.Model.Integer? _DestinationElement;

      /// <summary>
      /// Which server these requirements apply to
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Destination
      {
        get => DestinationElement?.Value;
        set
        {
          DestinationElement = value is null ? null : new Hl7.Fhir.Model.Integer(value);
          OnPropertyChanged("Destination");
        }
      }

      /// <summary>
      /// Links to the FHIR specification.
      /// </summary>
      [FhirElement("link", Order=90)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.FhirUri> LinkElement
      {
        get
        {
          if(_LinkElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirUri>), Overflow["link"]);
          return _LinkElement ??= [];
        }

        set
        {
          if (_LinkElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>())
            Overflow.Remove("link");
          _LinkElement = value;
          OnPropertyChanged("LinkElement");
        }

      }

      private List<Hl7.Fhir.Model.FhirUri>? _LinkElement;

      /// <summary>
      /// Links to the FHIR specification
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<string?> Link
      {
        get => _LinkElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            LinkElement = null!;
          else
            LinkElement = new List<Hl7.Fhir.Model.FhirUri>(value.Select(elem=>new Hl7.Fhir.Model.FhirUri(elem)));
          OnPropertyChanged("Link");
        }
      }

      /// <summary>
      /// Required Capability Statement.
      /// </summary>
      [FhirElement("capabilities", Order=100)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Canonical? CapabilitiesElement
      {
        get
        {
          if(_CapabilitiesElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Canonical), Overflow["capabilities"]);
          return _CapabilitiesElement;
        }

        set
        {
          if (_CapabilitiesElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            Overflow.Remove("capabilities");
          _CapabilitiesElement = value;
          OnPropertyChanged("CapabilitiesElement");
        }

      }

      private Hl7.Fhir.Model.Canonical? _CapabilitiesElement;

      /// <summary>
      /// Required Capability Statement
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Capabilities
      {
        get => CapabilitiesElement?.Value;
        set
        {
          CapabilitiesElement = value is null ? null : new Hl7.Fhir.Model.Canonical(value);
          OnPropertyChanged("Capabilities");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not CapabilityComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_RequiredElement is not null) dest.RequiredElement = (Hl7.Fhir.Model.FhirBoolean)_RequiredElement.DeepCopyInternal();
        if(_ValidatedElement is not null) dest.ValidatedElement = (Hl7.Fhir.Model.FhirBoolean)_ValidatedElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
        if(_OriginElement is not null) dest.OriginElement = new List<Hl7.Fhir.Model.Integer>(_OriginElement.DeepCopyInternal());
        if(_DestinationElement is not null) dest.DestinationElement = (Hl7.Fhir.Model.Integer)_DestinationElement.DeepCopyInternal();
        if(_LinkElement is not null) dest.LinkElement = new List<Hl7.Fhir.Model.FhirUri>(_LinkElement.DeepCopyInternal());
        if(_CapabilitiesElement is not null) dest.CapabilitiesElement = (Hl7.Fhir.Model.Canonical)_CapabilitiesElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new CapabilityComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not CapabilityComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_RequiredElement, otherT._RequiredElement)) return false;
        if(!comparer.Equals(_ValidatedElement, otherT._ValidatedElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.ListEquals(_OriginElement, otherT._OriginElement)) return false;
        if(!comparer.Equals(_DestinationElement, otherT._DestinationElement)) return false;
        if(!comparer.ListEquals(_LinkElement, otherT._LinkElement)) return false;
        if(!comparer.Equals(_CapabilitiesElement, otherT._CapabilitiesElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "required":
            if (_RequiredElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["required"];
              return true;
            }
            value = _RequiredElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "validated":
            if (_ValidatedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["validated"];
              return true;
            }
            value = _ValidatedElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "origin":
            if (_OriginElement.InOverflow<List<Hl7.Fhir.Model.Integer>>())
            {
              value = Overflow["origin"];
              return true;
            }
            value = _OriginElement;
            return (value as List<Hl7.Fhir.Model.Integer>)?.Any() is true;
          case "destination":
            if (_DestinationElement.InOverflow<Hl7.Fhir.Model.Integer>())
            {
              value = Overflow["destination"];
              return true;
            }
            value = _DestinationElement;
            return (value as Hl7.Fhir.Model.Integer) is not null;
          case "link":
            if (_LinkElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>())
            {
              value = Overflow["link"];
              return true;
            }
            value = _LinkElement;
            return (value as List<Hl7.Fhir.Model.FhirUri>)?.Any() is true;
          case "capabilities":
            if (_CapabilitiesElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            {
              value = Overflow["capabilities"];
              return true;
            }
            value = _CapabilitiesElement;
            return (value as Hl7.Fhir.Model.Canonical) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "required":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              RequiredElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["required"] = value;
            }
            else RequiredElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "validated":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              ValidatedElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["validated"] = value;
            }
            else ValidatedElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "origin":
            if (value is not (List<Hl7.Fhir.Model.Integer> or null))
            {
              OriginElement = OverflowNull<List<Hl7.Fhir.Model.Integer>>.INSTANCE;
              Overflow["origin"] = value;
            }
            else OriginElement = (List<Hl7.Fhir.Model.Integer>?)value!;
            return this;
          case "destination":
            if (value is not (Hl7.Fhir.Model.Integer or null))
            {
              DestinationElement = OverflowNull<Hl7.Fhir.Model.Integer>.INSTANCE;
              Overflow["destination"] = value;
            }
            else DestinationElement = (Hl7.Fhir.Model.Integer?)value;
            return this;
          case "link":
            if (value is not (List<Hl7.Fhir.Model.FhirUri> or null))
            {
              LinkElement = OverflowNull<List<Hl7.Fhir.Model.FhirUri>>.INSTANCE;
              Overflow["link"] = value;
            }
            else LinkElement = (List<Hl7.Fhir.Model.FhirUri>?)value!;
            return this;
          case "capabilities":
            if (value is not (Hl7.Fhir.Model.Canonical or null))
            {
              CapabilitiesElement = OverflowNull<Hl7.Fhir.Model.Canonical>.INSTANCE;
              Overflow["capabilities"] = value;
            }
            else CapabilitiesElement = (Hl7.Fhir.Model.Canonical?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_RequiredElement is not null && !_RequiredElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("required",_RequiredElement);
        if (_ValidatedElement is not null && !_ValidatedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("validated",_ValidatedElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_OriginElement?.Any() is true && !_OriginElement.InOverflow<List<Hl7.Fhir.Model.Integer>>()) yield return new KeyValuePair<string,object>("origin",_OriginElement);
        if (_DestinationElement is not null && !_DestinationElement.InOverflow<Hl7.Fhir.Model.Integer>()) yield return new KeyValuePair<string,object>("destination",_DestinationElement);
        if (_LinkElement?.Any() is true && !_LinkElement.InOverflow<List<Hl7.Fhir.Model.FhirUri>>()) yield return new KeyValuePair<string,object>("link",_LinkElement);
        if (_CapabilitiesElement is not null && !_CapabilitiesElement.InOverflow<Hl7.Fhir.Model.Canonical>()) yield return new KeyValuePair<string,object>("capabilities",_CapabilitiesElement);
      }

    }

    /// <summary>
    /// Indication of the artifact(s) that are tested by this test case
    /// </summary>
    /// <remarks>
    /// The scope indicates a conformance artifact that is tested by the test(s) within this test case and the expectation of the test outcome(s) as well as the intended test phase inclusion.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.scope", IsBackboneType=true)]
    public partial class ScopeComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.scope";

      /// <summary>
      /// The specific conformance artifact being tested.
      /// </summary>
      [FhirElement("artifact", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Canonical? ArtifactElement
      {
        get
        {
          if(_ArtifactElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Canonical), Overflow["artifact"]);
          return _ArtifactElement;
        }

        set
        {
          if (_ArtifactElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            Overflow.Remove("artifact");
          _ArtifactElement = value;
          OnPropertyChanged("ArtifactElement");
        }

      }

      private Hl7.Fhir.Model.Canonical? _ArtifactElement;

      /// <summary>
      /// The specific conformance artifact being tested
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Artifact
      {
        get => ArtifactElement?.Value;
        set
        {
          ArtifactElement = value is null ? null : new Hl7.Fhir.Model.Canonical(value);
          OnPropertyChanged("Artifact");
        }
      }

      /// <summary>
      /// required | optional | strict.
      /// </summary>
      [FhirElement("conformance", Order=50)]
      [Binding("TestScriptScopeConformanceType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Conformance
      {
        get
        {
          if(_Conformance.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["conformance"]);
          return _Conformance;
        }

        set
        {
          if (_Conformance.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("conformance");
          _Conformance = value;
          OnPropertyChanged("Conformance");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Conformance;

      /// <summary>
      /// unit | integration | production.
      /// </summary>
      [FhirElement("phase", Order=60)]
      [Binding("TestScriptScopePhaseType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Phase
      {
        get
        {
          if(_Phase.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["phase"]);
          return _Phase;
        }

        set
        {
          if (_Phase.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("phase");
          _Phase = value;
          OnPropertyChanged("Phase");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Phase;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ScopeComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_ArtifactElement is not null) dest.ArtifactElement = (Hl7.Fhir.Model.Canonical)_ArtifactElement.DeepCopyInternal();
        if(_Conformance is not null) dest.Conformance = (Hl7.Fhir.Model.CodeableConcept)_Conformance.DeepCopyInternal();
        if(_Phase is not null) dest.Phase = (Hl7.Fhir.Model.CodeableConcept)_Phase.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ScopeComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ScopeComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_ArtifactElement, otherT._ArtifactElement)) return false;
        if(!comparer.Equals(_Conformance, otherT._Conformance)) return false;
        if(!comparer.Equals(_Phase, otherT._Phase)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "artifact":
            if (_ArtifactElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            {
              value = Overflow["artifact"];
              return true;
            }
            value = _ArtifactElement;
            return (value as Hl7.Fhir.Model.Canonical) is not null;
          case "conformance":
            if (_Conformance.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["conformance"];
              return true;
            }
            value = _Conformance;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "phase":
            if (_Phase.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["phase"];
              return true;
            }
            value = _Phase;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "artifact":
            if (value is not (Hl7.Fhir.Model.Canonical or null))
            {
              ArtifactElement = OverflowNull<Hl7.Fhir.Model.Canonical>.INSTANCE;
              Overflow["artifact"] = value;
            }
            else ArtifactElement = (Hl7.Fhir.Model.Canonical?)value;
            return this;
          case "conformance":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Conformance = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["conformance"] = value;
            }
            else Conformance = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "phase":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Phase = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["phase"] = value;
            }
            else Phase = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_ArtifactElement is not null && !_ArtifactElement.InOverflow<Hl7.Fhir.Model.Canonical>()) yield return new KeyValuePair<string,object>("artifact",_ArtifactElement);
        if (_Conformance is not null && !_Conformance.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("conformance",_Conformance);
        if (_Phase is not null && !_Phase.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("phase",_Phase);
      }

    }

    /// <summary>
    /// Fixture in the test script - by reference (uri)
    /// </summary>
    /// <remarks>
    /// Fixture in the test script - by reference (uri). All fixtures are required for the test script to execute.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.fixture", IsBackboneType=true)]
    public partial class FixtureComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.fixture";

      /// <summary>
      /// Whether or not to implicitly create the fixture during setup.
      /// </summary>
      [FhirElement("autocreate", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? AutocreateElement
      {
        get
        {
          if(_AutocreateElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["autocreate"]);
          return _AutocreateElement;
        }

        set
        {
          if (_AutocreateElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("autocreate");
          _AutocreateElement = value;
          OnPropertyChanged("AutocreateElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _AutocreateElement;

      /// <summary>
      /// Whether or not to implicitly create the fixture during setup
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Autocreate
      {
        get => AutocreateElement?.Value;
        set
        {
          AutocreateElement = value is null ? null : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Autocreate");
        }
      }

      /// <summary>
      /// Whether or not to implicitly delete the fixture during teardown.
      /// </summary>
      [FhirElement("autodelete", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? AutodeleteElement
      {
        get
        {
          if(_AutodeleteElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["autodelete"]);
          return _AutodeleteElement;
        }

        set
        {
          if (_AutodeleteElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("autodelete");
          _AutodeleteElement = value;
          OnPropertyChanged("AutodeleteElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _AutodeleteElement;

      /// <summary>
      /// Whether or not to implicitly delete the fixture during teardown
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Autodelete
      {
        get => AutodeleteElement?.Value;
        set
        {
          AutodeleteElement = value is null ? null : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Autodelete");
        }
      }

      /// <summary>
      /// Reference of the resource.
      /// </summary>
      [FhirElement("resource", Order=60)]
      [CLSCompliant(false)]
      [References("Resource")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Resource
      {
        get
        {
          if(_Resource.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["resource"]);
          return _Resource;
        }

        set
        {
          if (_Resource.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("resource");
          _Resource = value;
          OnPropertyChanged("Resource");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Resource;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not FixtureComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_AutocreateElement is not null) dest.AutocreateElement = (Hl7.Fhir.Model.FhirBoolean)_AutocreateElement.DeepCopyInternal();
        if(_AutodeleteElement is not null) dest.AutodeleteElement = (Hl7.Fhir.Model.FhirBoolean)_AutodeleteElement.DeepCopyInternal();
        if(_Resource is not null) dest.Resource = (Hl7.Fhir.Model.ResourceReference)_Resource.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new FixtureComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not FixtureComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_AutocreateElement, otherT._AutocreateElement)) return false;
        if(!comparer.Equals(_AutodeleteElement, otherT._AutodeleteElement)) return false;
        if(!comparer.Equals(_Resource, otherT._Resource)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "autocreate":
            if (_AutocreateElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["autocreate"];
              return true;
            }
            value = _AutocreateElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "autodelete":
            if (_AutodeleteElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["autodelete"];
              return true;
            }
            value = _AutodeleteElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "resource":
            if (_Resource.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["resource"];
              return true;
            }
            value = _Resource;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "autocreate":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              AutocreateElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["autocreate"] = value;
            }
            else AutocreateElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "autodelete":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              AutodeleteElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["autodelete"] = value;
            }
            else AutodeleteElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "resource":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Resource = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["resource"] = value;
            }
            else Resource = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_AutocreateElement is not null && !_AutocreateElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("autocreate",_AutocreateElement);
        if (_AutodeleteElement is not null && !_AutodeleteElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("autodelete",_AutodeleteElement);
        if (_Resource is not null && !_Resource.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("resource",_Resource);
      }

    }

    /// <summary>
    /// Placeholder for evaluated elements
    /// </summary>
    /// <remarks>
    /// Variable is set based either on element value in response body or on header field value in the response headers.
    /// Variables would be set based either on XPath/JSONPath expressions against fixtures (static and response), or headerField evaluations against response headers. If variable evaluates to nodelist or anything other than a primitive value, then test engine would report an error.  Variables would be used to perform clean replacements in "operation.params", "operation.requestHeader.value", and "operation.url" element values during operation calls and in "assert.value" during assertion evaluations. This limits the places that test engines would need to look for placeholders "${}".  Variables are scoped to the whole script. They are NOT evaluated at declaration. They are evaluated by test engine when used for substitutions in "operation.params", "operation.requestHeader.value", and "operation.url" element values during operation calls and in "assert.value" during assertion evaluations.  See example testscript-search.xml.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.variable", IsBackboneType=true)]
    public partial class VariableComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.variable";

      /// <summary>
      /// Descriptive name for this variable.
      /// </summary>
      [FhirElement("name", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// Descriptive name for this variable
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Default, hard-coded, or user-defined value for this variable.
      /// </summary>
      [FhirElement("defaultValue", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DefaultValueElement
      {
        get
        {
          if(_DefaultValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["defaultValue"]);
          return _DefaultValueElement;
        }

        set
        {
          if (_DefaultValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("defaultValue");
          _DefaultValueElement = value;
          OnPropertyChanged("DefaultValueElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DefaultValueElement;

      /// <summary>
      /// Default, hard-coded, or user-defined value for this variable
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? DefaultValue
      {
        get => DefaultValueElement?.Value;
        set
        {
          DefaultValueElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("DefaultValue");
        }
      }

      /// <summary>
      /// Natural language description of the variable.
      /// </summary>
      [FhirElement("description", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// Natural language description of the variable
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// The FHIRPath expression against the fixture body.
      /// </summary>
      [FhirElement("expression", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ExpressionElement
      {
        get
        {
          if(_ExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["expression"]);
          return _ExpressionElement;
        }

        set
        {
          if (_ExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("expression");
          _ExpressionElement = value;
          OnPropertyChanged("ExpressionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ExpressionElement;

      /// <summary>
      /// The FHIRPath expression against the fixture body
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Expression
      {
        get => ExpressionElement?.Value;
        set
        {
          ExpressionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Expression");
        }
      }

      /// <summary>
      /// HTTP header field name for source.
      /// </summary>
      [FhirElement("headerField", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? HeaderFieldElement
      {
        get
        {
          if(_HeaderFieldElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["headerField"]);
          return _HeaderFieldElement;
        }

        set
        {
          if (_HeaderFieldElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("headerField");
          _HeaderFieldElement = value;
          OnPropertyChanged("HeaderFieldElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _HeaderFieldElement;

      /// <summary>
      /// HTTP header field name for source
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? HeaderField
      {
        get => HeaderFieldElement?.Value;
        set
        {
          HeaderFieldElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("HeaderField");
        }
      }

      /// <summary>
      /// Hint help text for default value to enter.
      /// </summary>
      [FhirElement("hint", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? HintElement
      {
        get
        {
          if(_HintElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["hint"]);
          return _HintElement;
        }

        set
        {
          if (_HintElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("hint");
          _HintElement = value;
          OnPropertyChanged("HintElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _HintElement;

      /// <summary>
      /// Hint help text for default value to enter
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Hint
      {
        get => HintElement?.Value;
        set
        {
          HintElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Hint");
        }
      }

      /// <summary>
      /// XPath or JSONPath against the fixture body.
      /// </summary>
      [FhirElement("path", Order=100)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? PathElement
      {
        get
        {
          if(_PathElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["path"]);
          return _PathElement;
        }

        set
        {
          if (_PathElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("path");
          _PathElement = value;
          OnPropertyChanged("PathElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _PathElement;

      /// <summary>
      /// XPath or JSONPath against the fixture body
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Path
      {
        get => PathElement?.Value;
        set
        {
          PathElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Path");
        }
      }

      /// <summary>
      /// Fixture Id of source expression or headerField within this variable.
      /// </summary>
      [FhirElement("sourceId", Order=110)]
      [DataMember]
      public Hl7.Fhir.Model.Id? SourceIdElement
      {
        get
        {
          if(_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["sourceId"]);
          return _SourceIdElement;
        }

        set
        {
          if (_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("sourceId");
          _SourceIdElement = value;
          OnPropertyChanged("SourceIdElement");
        }

      }

      private Hl7.Fhir.Model.Id? _SourceIdElement;

      /// <summary>
      /// Fixture Id of source expression or headerField within this variable
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? SourceId
      {
        get => SourceIdElement?.Value;
        set
        {
          SourceIdElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("SourceId");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not VariableComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_DefaultValueElement is not null) dest.DefaultValueElement = (Hl7.Fhir.Model.FhirString)_DefaultValueElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
        if(_ExpressionElement is not null) dest.ExpressionElement = (Hl7.Fhir.Model.FhirString)_ExpressionElement.DeepCopyInternal();
        if(_HeaderFieldElement is not null) dest.HeaderFieldElement = (Hl7.Fhir.Model.FhirString)_HeaderFieldElement.DeepCopyInternal();
        if(_HintElement is not null) dest.HintElement = (Hl7.Fhir.Model.FhirString)_HintElement.DeepCopyInternal();
        if(_PathElement is not null) dest.PathElement = (Hl7.Fhir.Model.FhirString)_PathElement.DeepCopyInternal();
        if(_SourceIdElement is not null) dest.SourceIdElement = (Hl7.Fhir.Model.Id)_SourceIdElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new VariableComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not VariableComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_DefaultValueElement, otherT._DefaultValueElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_ExpressionElement, otherT._ExpressionElement)) return false;
        if(!comparer.Equals(_HeaderFieldElement, otherT._HeaderFieldElement)) return false;
        if(!comparer.Equals(_HintElement, otherT._HintElement)) return false;
        if(!comparer.Equals(_PathElement, otherT._PathElement)) return false;
        if(!comparer.Equals(_SourceIdElement, otherT._SourceIdElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "defaultValue":
            if (_DefaultValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["defaultValue"];
              return true;
            }
            value = _DefaultValueElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "expression":
            if (_ExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["expression"];
              return true;
            }
            value = _ExpressionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "headerField":
            if (_HeaderFieldElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["headerField"];
              return true;
            }
            value = _HeaderFieldElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "hint":
            if (_HintElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["hint"];
              return true;
            }
            value = _HintElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "path":
            if (_PathElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["path"];
              return true;
            }
            value = _PathElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "sourceId":
            if (_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["sourceId"];
              return true;
            }
            value = _SourceIdElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "defaultValue":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DefaultValueElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["defaultValue"] = value;
            }
            else DefaultValueElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "expression":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ExpressionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["expression"] = value;
            }
            else ExpressionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "headerField":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              HeaderFieldElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["headerField"] = value;
            }
            else HeaderFieldElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "hint":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              HintElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["hint"] = value;
            }
            else HintElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "path":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              PathElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["path"] = value;
            }
            else PathElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "sourceId":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              SourceIdElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["sourceId"] = value;
            }
            else SourceIdElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_DefaultValueElement is not null && !_DefaultValueElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("defaultValue",_DefaultValueElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_ExpressionElement is not null && !_ExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("expression",_ExpressionElement);
        if (_HeaderFieldElement is not null && !_HeaderFieldElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("headerField",_HeaderFieldElement);
        if (_HintElement is not null && !_HintElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("hint",_HintElement);
        if (_PathElement is not null && !_PathElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("path",_PathElement);
        if (_SourceIdElement is not null && !_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("sourceId",_SourceIdElement);
      }

    }

    /// <summary>
    /// A series of required setup operations before tests are executed
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.setup", IsBackboneType=true)]
    public partial class SetupComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.setup";

      /// <summary>
      /// A setup common or operation or assert to perform.
      /// </summary>
      [FhirElement("action", Order=40)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestScript.SetupActionComponent> Action
      {
        get
        {
          if(_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.SetupActionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.SetupActionComponent>), Overflow["action"]);
          return _Action ??= [];
        }

        set
        {
          if (_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.SetupActionComponent>>())
            Overflow.Remove("action");
          _Action = value;
          OnPropertyChanged("Action");
        }

      }

      private List<Hl7.Fhir.Model.TestScript.SetupActionComponent>? _Action;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SetupComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Action is not null) dest.Action = new List<Hl7.Fhir.Model.TestScript.SetupActionComponent>(_Action.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SetupComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SetupComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.ListEquals(_Action, otherT._Action)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "action":
            if (_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.SetupActionComponent>>())
            {
              value = Overflow["action"];
              return true;
            }
            value = _Action;
            return (value as List<Hl7.Fhir.Model.TestScript.SetupActionComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "action":
            if (value is not (List<Hl7.Fhir.Model.TestScript.SetupActionComponent> or null))
            {
              Action = OverflowNull<List<Hl7.Fhir.Model.TestScript.SetupActionComponent>>.INSTANCE;
              Overflow["action"] = value;
            }
            else Action = (List<Hl7.Fhir.Model.TestScript.SetupActionComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Action?.Any() is true && !_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.SetupActionComponent>>()) yield return new KeyValuePair<string,object>("action",_Action);
      }

    }

    /// <summary>
    /// A setup common or operation or assert to perform
    /// </summary>
    /// <remarks>
    /// Action would contain either a common or operation or an assertion.
    /// An action should contain only one of either a common or operation or an assertion.  It can contain any number of variables.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.setup.action", IsBackboneType=true)]
    public partial class SetupActionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.setup.action";

      /// <summary>
      /// Links or references to common collection(s) of actions.
      /// </summary>
      [FhirElement("common", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.TestScript.SetupActionCommonComponent? Common
      {
        get
        {
          if(_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.SetupActionCommonComponent), Overflow["common"]);
          return _Common;
        }

        set
        {
          if (_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>())
            Overflow.Remove("common");
          _Common = value;
          OnPropertyChanged("Common");
        }

      }

      private Hl7.Fhir.Model.TestScript.SetupActionCommonComponent? _Common;

      /// <summary>
      /// The setup operation to perform.
      /// </summary>
      [FhirElement("operation", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.TestScript.OperationComponent? Operation
      {
        get
        {
          if(_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.OperationComponent), Overflow["operation"]);
          return _Operation;
        }

        set
        {
          if (_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            Overflow.Remove("operation");
          _Operation = value;
          OnPropertyChanged("Operation");
        }

      }

      private Hl7.Fhir.Model.TestScript.OperationComponent? _Operation;

      /// <summary>
      /// The assertion to perform.
      /// </summary>
      [FhirElement("assert", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.TestScript.AssertComponent? Assert
      {
        get
        {
          if(_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.AssertComponent), Overflow["assert"]);
          return _Assert;
        }

        set
        {
          if (_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>())
            Overflow.Remove("assert");
          _Assert = value;
          OnPropertyChanged("Assert");
        }

      }

      private Hl7.Fhir.Model.TestScript.AssertComponent? _Assert;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SetupActionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Common is not null) dest.Common = (Hl7.Fhir.Model.TestScript.SetupActionCommonComponent)_Common.DeepCopyInternal();
        if(_Operation is not null) dest.Operation = (Hl7.Fhir.Model.TestScript.OperationComponent)_Operation.DeepCopyInternal();
        if(_Assert is not null) dest.Assert = (Hl7.Fhir.Model.TestScript.AssertComponent)_Assert.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SetupActionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SetupActionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Common, otherT._Common)) return false;
        if(!comparer.Equals(_Operation, otherT._Operation)) return false;
        if(!comparer.Equals(_Assert, otherT._Assert)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "common":
            if (_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>())
            {
              value = Overflow["common"];
              return true;
            }
            value = _Common;
            return (value as Hl7.Fhir.Model.TestScript.SetupActionCommonComponent) is not null;
          case "operation":
            if (_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            {
              value = Overflow["operation"];
              return true;
            }
            value = _Operation;
            return (value as Hl7.Fhir.Model.TestScript.OperationComponent) is not null;
          case "assert":
            if (_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>())
            {
              value = Overflow["assert"];
              return true;
            }
            value = _Assert;
            return (value as Hl7.Fhir.Model.TestScript.AssertComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "common":
            if (value is not (Hl7.Fhir.Model.TestScript.SetupActionCommonComponent or null))
            {
              Common = OverflowNull<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>.INSTANCE;
              Overflow["common"] = value;
            }
            else Common = (Hl7.Fhir.Model.TestScript.SetupActionCommonComponent?)value;
            return this;
          case "operation":
            if (value is not (Hl7.Fhir.Model.TestScript.OperationComponent or null))
            {
              Operation = OverflowNull<Hl7.Fhir.Model.TestScript.OperationComponent>.INSTANCE;
              Overflow["operation"] = value;
            }
            else Operation = (Hl7.Fhir.Model.TestScript.OperationComponent?)value;
            return this;
          case "assert":
            if (value is not (Hl7.Fhir.Model.TestScript.AssertComponent or null))
            {
              Assert = OverflowNull<Hl7.Fhir.Model.TestScript.AssertComponent>.INSTANCE;
              Overflow["assert"] = value;
            }
            else Assert = (Hl7.Fhir.Model.TestScript.AssertComponent?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Common is not null && !_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>()) yield return new KeyValuePair<string,object>("common",_Common);
        if (_Operation is not null && !_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>()) yield return new KeyValuePair<string,object>("operation",_Operation);
        if (_Assert is not null && !_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>()) yield return new KeyValuePair<string,object>("assert",_Assert);
      }

    }

    /// <summary>
    /// Links or references to common collection(s) of actions
    /// </summary>
    /// <remarks>
    /// Links or references to common collection(s) of actions in this or an external TestScript instance.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.setup.action.common", IsBackboneType=true)]
    public partial class SetupActionCommonComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.setup.action.common";

      /// <summary>
      /// Canonical reference to the common TestScript instance.
      /// </summary>
      [FhirElement("testScript", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.Canonical? TestScriptElement
      {
        get
        {
          if(_TestScriptElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Canonical), Overflow["testScript"]);
          return _TestScriptElement;
        }

        set
        {
          if (_TestScriptElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            Overflow.Remove("testScript");
          _TestScriptElement = value;
          OnPropertyChanged("TestScriptElement");
        }

      }

      private Hl7.Fhir.Model.Canonical? _TestScriptElement;

      /// <summary>
      /// Canonical reference to the common TestScript instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? TestScript
      {
        get => TestScriptElement?.Value;
        set
        {
          TestScriptElement = value is null ? null : new Hl7.Fhir.Model.Canonical(value);
          OnPropertyChanged("TestScript");
        }
      }

      /// <summary>
      /// Common key reference that identifies the common collection of actions to perform.
      /// </summary>
      [FhirElement("keyRef", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Id? KeyRefElement
      {
        get
        {
          if(_KeyRefElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["keyRef"]);
          return _KeyRefElement;
        }

        set
        {
          if (_KeyRefElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("keyRef");
          _KeyRefElement = value;
          OnPropertyChanged("KeyRefElement");
        }

      }

      private Hl7.Fhir.Model.Id? _KeyRefElement;

      /// <summary>
      /// Common key reference that identifies the common collection of actions to perform
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? KeyRef
      {
        get => KeyRefElement?.Value;
        set
        {
          KeyRefElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("KeyRef");
        }
      }

      /// <summary>
      /// Parameter(s) to convey input values to the identified common collection of actions.
      /// </summary>
      [FhirElement("parameter", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent> Parameter
      {
        get
        {
          if(_Parameter.InOverflow<List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent>), Overflow["parameter"]);
          return _Parameter ??= [];
        }

        set
        {
          if (_Parameter.InOverflow<List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent>>())
            Overflow.Remove("parameter");
          _Parameter = value;
          OnPropertyChanged("Parameter");
        }

      }

      private List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent>? _Parameter;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SetupActionCommonComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_TestScriptElement is not null) dest.TestScriptElement = (Hl7.Fhir.Model.Canonical)_TestScriptElement.DeepCopyInternal();
        if(_KeyRefElement is not null) dest.KeyRefElement = (Hl7.Fhir.Model.Id)_KeyRefElement.DeepCopyInternal();
        if(_Parameter is not null) dest.Parameter = new List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent>(_Parameter.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SetupActionCommonComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SetupActionCommonComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_TestScriptElement, otherT._TestScriptElement)) return false;
        if(!comparer.Equals(_KeyRefElement, otherT._KeyRefElement)) return false;
        if(!comparer.ListEquals(_Parameter, otherT._Parameter)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "testScript":
            if (_TestScriptElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            {
              value = Overflow["testScript"];
              return true;
            }
            value = _TestScriptElement;
            return (value as Hl7.Fhir.Model.Canonical) is not null;
          case "keyRef":
            if (_KeyRefElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["keyRef"];
              return true;
            }
            value = _KeyRefElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          case "parameter":
            if (_Parameter.InOverflow<List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent>>())
            {
              value = Overflow["parameter"];
              return true;
            }
            value = _Parameter;
            return (value as List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "testScript":
            if (value is not (Hl7.Fhir.Model.Canonical or null))
            {
              TestScriptElement = OverflowNull<Hl7.Fhir.Model.Canonical>.INSTANCE;
              Overflow["testScript"] = value;
            }
            else TestScriptElement = (Hl7.Fhir.Model.Canonical?)value;
            return this;
          case "keyRef":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              KeyRefElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["keyRef"] = value;
            }
            else KeyRefElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          case "parameter":
            if (value is not (List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent> or null))
            {
              Parameter = OverflowNull<List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent>>.INSTANCE;
              Overflow["parameter"] = value;
            }
            else Parameter = (List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_TestScriptElement is not null && !_TestScriptElement.InOverflow<Hl7.Fhir.Model.Canonical>()) yield return new KeyValuePair<string,object>("testScript",_TestScriptElement);
        if (_KeyRefElement is not null && !_KeyRefElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("keyRef",_KeyRefElement);
        if (_Parameter?.Any() is true && !_Parameter.InOverflow<List<Hl7.Fhir.Model.TestScript.SetupActionCommonParameterComponent>>()) yield return new KeyValuePair<string,object>("parameter",_Parameter);
      }

    }

    /// <summary>
    /// Parameter(s) to convey input values to the identified common collection of actions
    /// </summary>
    /// <remarks>
    /// Optional named parameter(s) to provide input values to the identified common collection of actions from this or an external TestScript.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.setup.action.common.parameter", IsBackboneType=true)]
    public partial class SetupActionCommonParameterComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.setup.action.common.parameter";

      /// <summary>
      /// Name of the parameter from the identified common collection of actions.
      /// </summary>
      [FhirElement("name", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// Name of the parameter from the identified common collection of actions
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Value to assign to the parameter from the identified common collection of actions.
      /// </summary>
      [FhirElement("value", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ValueElement
      {
        get
        {
          if(_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["value"]);
          return _ValueElement;
        }

        set
        {
          if (_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("value");
          _ValueElement = value;
          OnPropertyChanged("ValueElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ValueElement;

      /// <summary>
      /// Value to assign to the parameter from the identified common collection of actions
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Value
      {
        get => ValueElement?.Value;
        set
        {
          ValueElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Value");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SetupActionCommonParameterComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_ValueElement is not null) dest.ValueElement = (Hl7.Fhir.Model.FhirString)_ValueElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SetupActionCommonParameterComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SetupActionCommonParameterComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_ValueElement, otherT._ValueElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "value":
            if (_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["value"];
              return true;
            }
            value = _ValueElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "value":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ValueElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["value"] = value;
            }
            else ValueElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_ValueElement is not null && !_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("value",_ValueElement);
      }

    }

    /// <summary>
    /// The setup operation to perform
    /// </summary>
    /// <remarks>
    /// The operation to perform.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.setup.action.operation", IsBackboneType=true)]
    public partial class OperationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.setup.action.operation";

      /// <summary>
      /// The operation code type that will be executed.
      /// </summary>
      [FhirElement("type", Order=40)]
      [Binding("TestScriptOperationCode")]
      [DataMember]
      public Hl7.Fhir.Model.Coding? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.Coding>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Coding), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.Coding>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.Coding? _Type;

      /// <summary>
      /// Resource type.
      /// </summary>
      [FhirElement("resource", Order=50)]
      [Binding("FHIRConcreteTypes")]
      [DataMember]
      public Hl7.Fhir.Model.FhirUri? ResourceElement
      {
        get
        {
          if(_ResourceElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["resource"]);
          return _ResourceElement;
        }

        set
        {
          if (_ResourceElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            Overflow.Remove("resource");
          _ResourceElement = value;
          OnPropertyChanged("ResourceElement");
        }

      }

      private Hl7.Fhir.Model.FhirUri? _ResourceElement;

      /// <summary>
      /// Resource type
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Resource
      {
        get => ResourceElement?.Value;
        set
        {
          ResourceElement = value is null ? null : new Hl7.Fhir.Model.FhirUri(value);
          OnPropertyChanged("Resource");
        }
      }

      /// <summary>
      /// Tracking/logging operation label.
      /// </summary>
      [FhirElement("label", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? LabelElement
      {
        get
        {
          if(_LabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["label"]);
          return _LabelElement;
        }

        set
        {
          if (_LabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("label");
          _LabelElement = value;
          OnPropertyChanged("LabelElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _LabelElement;

      /// <summary>
      /// Tracking/logging operation label
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Label
      {
        get => LabelElement?.Value;
        set
        {
          LabelElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Label");
        }
      }

      /// <summary>
      /// Tracking/reporting operation description.
      /// </summary>
      [FhirElement("description", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// Tracking/reporting operation description
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// Mime type to accept in the payload of the response, with charset etc.
      /// </summary>
      [FhirElement("accept", Order=80)]
      [Binding("SupplementedMimeType")]
      [DataMember]
      public Hl7.Fhir.Model.Code? AcceptElement
      {
        get
        {
          if(_AcceptElement.InOverflow<Hl7.Fhir.Model.Code>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Code), Overflow["accept"]);
          return _AcceptElement;
        }

        set
        {
          if (_AcceptElement.InOverflow<Hl7.Fhir.Model.Code>())
            Overflow.Remove("accept");
          _AcceptElement = value;
          OnPropertyChanged("AcceptElement");
        }

      }

      private Hl7.Fhir.Model.Code? _AcceptElement;

      /// <summary>
      /// Mime type to accept in the payload of the response, with charset etc
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Accept
      {
        get => AcceptElement?.Value;
        set
        {
          AcceptElement = value is null ? null : new Hl7.Fhir.Model.Code(value);
          OnPropertyChanged("Accept");
        }
      }

      /// <summary>
      /// Mime type of the request payload contents, with charset etc.
      /// </summary>
      [FhirElement("contentType", Order=90)]
      [Binding("SupplementedMimeType")]
      [DataMember]
      public Hl7.Fhir.Model.Code? ContentTypeElement
      {
        get
        {
          if(_ContentTypeElement.InOverflow<Hl7.Fhir.Model.Code>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Code), Overflow["contentType"]);
          return _ContentTypeElement;
        }

        set
        {
          if (_ContentTypeElement.InOverflow<Hl7.Fhir.Model.Code>())
            Overflow.Remove("contentType");
          _ContentTypeElement = value;
          OnPropertyChanged("ContentTypeElement");
        }

      }

      private Hl7.Fhir.Model.Code? _ContentTypeElement;

      /// <summary>
      /// Mime type of the request payload contents, with charset etc
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? ContentType
      {
        get => ContentTypeElement?.Value;
        set
        {
          ContentTypeElement = value is null ? null : new Hl7.Fhir.Model.Code(value);
          OnPropertyChanged("ContentType");
        }
      }

      /// <summary>
      /// Server responding to the request.
      /// </summary>
      [FhirElement("destination", Order=100)]
      [DataMember]
      public Hl7.Fhir.Model.Integer? DestinationElement
      {
        get
        {
          if(_DestinationElement.InOverflow<Hl7.Fhir.Model.Integer>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Integer), Overflow["destination"]);
          return _DestinationElement;
        }

        set
        {
          if (_DestinationElement.InOverflow<Hl7.Fhir.Model.Integer>())
            Overflow.Remove("destination");
          _DestinationElement = value;
          OnPropertyChanged("DestinationElement");
        }

      }

      private Hl7.Fhir.Model.Integer? _DestinationElement;

      /// <summary>
      /// Server responding to the request
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Destination
      {
        get => DestinationElement?.Value;
        set
        {
          DestinationElement = value is null ? null : new Hl7.Fhir.Model.Integer(value);
          OnPropertyChanged("Destination");
        }
      }

      /// <summary>
      /// Whether or not to send the request url in encoded format.
      /// </summary>
      [FhirElement("encodeRequestUrl", Order=110)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? EncodeRequestUrlElement
      {
        get
        {
          if(_EncodeRequestUrlElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["encodeRequestUrl"]);
          return _EncodeRequestUrlElement;
        }

        set
        {
          if (_EncodeRequestUrlElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("encodeRequestUrl");
          _EncodeRequestUrlElement = value;
          OnPropertyChanged("EncodeRequestUrlElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _EncodeRequestUrlElement;

      /// <summary>
      /// Whether or not to send the request url in encoded format
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? EncodeRequestUrl
      {
        get => EncodeRequestUrlElement?.Value;
        set
        {
          EncodeRequestUrlElement = value is null ? null : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("EncodeRequestUrl");
        }
      }

      /// <summary>
      /// delete | get | options | patch | post | put | head.
      /// </summary>
      [FhirElement("method", Order=120)]
      [Binding("TestScriptRequestMethodCode")]
      [DataMember]
      public Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>? MethodElement
      {
        get
        {
          if(_MethodElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>), Overflow["method"]);
          return _MethodElement;
        }

        set
        {
          if (_MethodElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>>())
            Overflow.Remove("method");
          _MethodElement = value;
          OnPropertyChanged("MethodElement");
        }

      }

      private Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>? _MethodElement;

      /// <summary>
      /// delete | get | options | patch | post | put | head
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode? Method
      {
        get => MethodElement?.Value;
        set
        {
          MethodElement = value is null ? null : new Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>(value);
          OnPropertyChanged("Method");
        }
      }

      /// <summary>
      /// Server initiating the request.
      /// </summary>
      [FhirElement("origin", Order=130)]
      [DataMember]
      public Hl7.Fhir.Model.Integer? OriginElement
      {
        get
        {
          if(_OriginElement.InOverflow<Hl7.Fhir.Model.Integer>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Integer), Overflow["origin"]);
          return _OriginElement;
        }

        set
        {
          if (_OriginElement.InOverflow<Hl7.Fhir.Model.Integer>())
            Overflow.Remove("origin");
          _OriginElement = value;
          OnPropertyChanged("OriginElement");
        }

      }

      private Hl7.Fhir.Model.Integer? _OriginElement;

      /// <summary>
      /// Server initiating the request
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Origin
      {
        get => OriginElement?.Value;
        set
        {
          OriginElement = value is null ? null : new Hl7.Fhir.Model.Integer(value);
          OnPropertyChanged("Origin");
        }
      }

      /// <summary>
      /// Explicitly defined path parameters.
      /// </summary>
      [FhirElement("params", Order=140)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ParamsElement
      {
        get
        {
          if(_ParamsElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["params"]);
          return _ParamsElement;
        }

        set
        {
          if (_ParamsElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("params");
          _ParamsElement = value;
          OnPropertyChanged("ParamsElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ParamsElement;

      /// <summary>
      /// Explicitly defined path parameters
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Params
      {
        get => ParamsElement?.Value;
        set
        {
          ParamsElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Params");
        }
      }

      /// <summary>
      /// Each operation can have one or more header elements.
      /// </summary>
      [FhirElement("requestHeader", Order=150)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent> RequestHeader
      {
        get
        {
          if(_RequestHeader.InOverflow<List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent>), Overflow["requestHeader"]);
          return _RequestHeader ??= [];
        }

        set
        {
          if (_RequestHeader.InOverflow<List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent>>())
            Overflow.Remove("requestHeader");
          _RequestHeader = value;
          OnPropertyChanged("RequestHeader");
        }

      }

      private List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent>? _RequestHeader;

      /// <summary>
      /// Fixture Id of mapped request.
      /// </summary>
      [FhirElement("requestId", Order=160)]
      [DataMember]
      public Hl7.Fhir.Model.Id? RequestIdElement
      {
        get
        {
          if(_RequestIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["requestId"]);
          return _RequestIdElement;
        }

        set
        {
          if (_RequestIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("requestId");
          _RequestIdElement = value;
          OnPropertyChanged("RequestIdElement");
        }

      }

      private Hl7.Fhir.Model.Id? _RequestIdElement;

      /// <summary>
      /// Fixture Id of mapped request
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? RequestId
      {
        get => RequestIdElement?.Value;
        set
        {
          RequestIdElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("RequestId");
        }
      }

      /// <summary>
      /// Fixture Id of mapped response.
      /// </summary>
      [FhirElement("responseId", Order=170)]
      [DataMember]
      public Hl7.Fhir.Model.Id? ResponseIdElement
      {
        get
        {
          if(_ResponseIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["responseId"]);
          return _ResponseIdElement;
        }

        set
        {
          if (_ResponseIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("responseId");
          _ResponseIdElement = value;
          OnPropertyChanged("ResponseIdElement");
        }

      }

      private Hl7.Fhir.Model.Id? _ResponseIdElement;

      /// <summary>
      /// Fixture Id of mapped response
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? ResponseId
      {
        get => ResponseIdElement?.Value;
        set
        {
          ResponseIdElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("ResponseId");
        }
      }

      /// <summary>
      /// Fixture Id of body for PUT and POST requests.
      /// </summary>
      [FhirElement("sourceId", Order=180)]
      [DataMember]
      public Hl7.Fhir.Model.Id? SourceIdElement
      {
        get
        {
          if(_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["sourceId"]);
          return _SourceIdElement;
        }

        set
        {
          if (_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("sourceId");
          _SourceIdElement = value;
          OnPropertyChanged("SourceIdElement");
        }

      }

      private Hl7.Fhir.Model.Id? _SourceIdElement;

      /// <summary>
      /// Fixture Id of body for PUT and POST requests
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? SourceId
      {
        get => SourceIdElement?.Value;
        set
        {
          SourceIdElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("SourceId");
        }
      }

      /// <summary>
      /// Id of fixture used for extracting the [id],  [type], and [vid] for GET requests.
      /// </summary>
      [FhirElement("targetId", Order=190)]
      [DataMember]
      public Hl7.Fhir.Model.Id? TargetIdElement
      {
        get
        {
          if(_TargetIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["targetId"]);
          return _TargetIdElement;
        }

        set
        {
          if (_TargetIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("targetId");
          _TargetIdElement = value;
          OnPropertyChanged("TargetIdElement");
        }

      }

      private Hl7.Fhir.Model.Id? _TargetIdElement;

      /// <summary>
      /// Id of fixture used for extracting the [id],  [type], and [vid] for GET requests
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? TargetId
      {
        get => TargetIdElement?.Value;
        set
        {
          TargetIdElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("TargetId");
        }
      }

      /// <summary>
      /// Request URL.
      /// </summary>
      [FhirElement("url", Order=200)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? UrlElement
      {
        get
        {
          if(_UrlElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["url"]);
          return _UrlElement;
        }

        set
        {
          if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("url");
          _UrlElement = value;
          OnPropertyChanged("UrlElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _UrlElement;

      /// <summary>
      /// Request URL
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Url
      {
        get => UrlElement?.Value;
        set
        {
          UrlElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Url");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not OperationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.Coding)_Type.DeepCopyInternal();
        if(_ResourceElement is not null) dest.ResourceElement = (Hl7.Fhir.Model.FhirUri)_ResourceElement.DeepCopyInternal();
        if(_LabelElement is not null) dest.LabelElement = (Hl7.Fhir.Model.FhirString)_LabelElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
        if(_AcceptElement is not null) dest.AcceptElement = (Hl7.Fhir.Model.Code)_AcceptElement.DeepCopyInternal();
        if(_ContentTypeElement is not null) dest.ContentTypeElement = (Hl7.Fhir.Model.Code)_ContentTypeElement.DeepCopyInternal();
        if(_DestinationElement is not null) dest.DestinationElement = (Hl7.Fhir.Model.Integer)_DestinationElement.DeepCopyInternal();
        if(_EncodeRequestUrlElement is not null) dest.EncodeRequestUrlElement = (Hl7.Fhir.Model.FhirBoolean)_EncodeRequestUrlElement.DeepCopyInternal();
        if(_MethodElement is not null) dest.MethodElement = (Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>)_MethodElement.DeepCopyInternal();
        if(_OriginElement is not null) dest.OriginElement = (Hl7.Fhir.Model.Integer)_OriginElement.DeepCopyInternal();
        if(_ParamsElement is not null) dest.ParamsElement = (Hl7.Fhir.Model.FhirString)_ParamsElement.DeepCopyInternal();
        if(_RequestHeader is not null) dest.RequestHeader = new List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent>(_RequestHeader.DeepCopyInternal());
        if(_RequestIdElement is not null) dest.RequestIdElement = (Hl7.Fhir.Model.Id)_RequestIdElement.DeepCopyInternal();
        if(_ResponseIdElement is not null) dest.ResponseIdElement = (Hl7.Fhir.Model.Id)_ResponseIdElement.DeepCopyInternal();
        if(_SourceIdElement is not null) dest.SourceIdElement = (Hl7.Fhir.Model.Id)_SourceIdElement.DeepCopyInternal();
        if(_TargetIdElement is not null) dest.TargetIdElement = (Hl7.Fhir.Model.Id)_TargetIdElement.DeepCopyInternal();
        if(_UrlElement is not null) dest.UrlElement = (Hl7.Fhir.Model.FhirString)_UrlElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new OperationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not OperationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_ResourceElement, otherT._ResourceElement)) return false;
        if(!comparer.Equals(_LabelElement, otherT._LabelElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_AcceptElement, otherT._AcceptElement)) return false;
        if(!comparer.Equals(_ContentTypeElement, otherT._ContentTypeElement)) return false;
        if(!comparer.Equals(_DestinationElement, otherT._DestinationElement)) return false;
        if(!comparer.Equals(_EncodeRequestUrlElement, otherT._EncodeRequestUrlElement)) return false;
        if(!comparer.Equals(_MethodElement, otherT._MethodElement)) return false;
        if(!comparer.Equals(_OriginElement, otherT._OriginElement)) return false;
        if(!comparer.Equals(_ParamsElement, otherT._ParamsElement)) return false;
        if(!comparer.ListEquals(_RequestHeader, otherT._RequestHeader)) return false;
        if(!comparer.Equals(_RequestIdElement, otherT._RequestIdElement)) return false;
        if(!comparer.Equals(_ResponseIdElement, otherT._ResponseIdElement)) return false;
        if(!comparer.Equals(_SourceIdElement, otherT._SourceIdElement)) return false;
        if(!comparer.Equals(_TargetIdElement, otherT._TargetIdElement)) return false;
        if(!comparer.Equals(_UrlElement, otherT._UrlElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.Coding>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.Coding) is not null;
          case "resource":
            if (_ResourceElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            {
              value = Overflow["resource"];
              return true;
            }
            value = _ResourceElement;
            return (value as Hl7.Fhir.Model.FhirUri) is not null;
          case "label":
            if (_LabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["label"];
              return true;
            }
            value = _LabelElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "accept":
            if (_AcceptElement.InOverflow<Hl7.Fhir.Model.Code>())
            {
              value = Overflow["accept"];
              return true;
            }
            value = _AcceptElement;
            return (value as Hl7.Fhir.Model.Code) is not null;
          case "contentType":
            if (_ContentTypeElement.InOverflow<Hl7.Fhir.Model.Code>())
            {
              value = Overflow["contentType"];
              return true;
            }
            value = _ContentTypeElement;
            return (value as Hl7.Fhir.Model.Code) is not null;
          case "destination":
            if (_DestinationElement.InOverflow<Hl7.Fhir.Model.Integer>())
            {
              value = Overflow["destination"];
              return true;
            }
            value = _DestinationElement;
            return (value as Hl7.Fhir.Model.Integer) is not null;
          case "encodeRequestUrl":
            if (_EncodeRequestUrlElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["encodeRequestUrl"];
              return true;
            }
            value = _EncodeRequestUrlElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "method":
            if (_MethodElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>>())
            {
              value = Overflow["method"];
              return true;
            }
            value = _MethodElement;
            return (value as Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>) is not null;
          case "origin":
            if (_OriginElement.InOverflow<Hl7.Fhir.Model.Integer>())
            {
              value = Overflow["origin"];
              return true;
            }
            value = _OriginElement;
            return (value as Hl7.Fhir.Model.Integer) is not null;
          case "params":
            if (_ParamsElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["params"];
              return true;
            }
            value = _ParamsElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "requestHeader":
            if (_RequestHeader.InOverflow<List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent>>())
            {
              value = Overflow["requestHeader"];
              return true;
            }
            value = _RequestHeader;
            return (value as List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent>)?.Any() is true;
          case "requestId":
            if (_RequestIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["requestId"];
              return true;
            }
            value = _RequestIdElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          case "responseId":
            if (_ResponseIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["responseId"];
              return true;
            }
            value = _ResponseIdElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          case "sourceId":
            if (_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["sourceId"];
              return true;
            }
            value = _SourceIdElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          case "targetId":
            if (_TargetIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["targetId"];
              return true;
            }
            value = _TargetIdElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          case "url":
            if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["url"];
              return true;
            }
            value = _UrlElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.Coding or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.Coding>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.Coding?)value;
            return this;
          case "resource":
            if (value is not (Hl7.Fhir.Model.FhirUri or null))
            {
              ResourceElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
              Overflow["resource"] = value;
            }
            else ResourceElement = (Hl7.Fhir.Model.FhirUri?)value;
            return this;
          case "label":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              LabelElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["label"] = value;
            }
            else LabelElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "accept":
            if (value is not (Hl7.Fhir.Model.Code or null))
            {
              AcceptElement = OverflowNull<Hl7.Fhir.Model.Code>.INSTANCE;
              Overflow["accept"] = value;
            }
            else AcceptElement = (Hl7.Fhir.Model.Code?)value;
            return this;
          case "contentType":
            if (value is not (Hl7.Fhir.Model.Code or null))
            {
              ContentTypeElement = OverflowNull<Hl7.Fhir.Model.Code>.INSTANCE;
              Overflow["contentType"] = value;
            }
            else ContentTypeElement = (Hl7.Fhir.Model.Code?)value;
            return this;
          case "destination":
            if (value is not (Hl7.Fhir.Model.Integer or null))
            {
              DestinationElement = OverflowNull<Hl7.Fhir.Model.Integer>.INSTANCE;
              Overflow["destination"] = value;
            }
            else DestinationElement = (Hl7.Fhir.Model.Integer?)value;
            return this;
          case "encodeRequestUrl":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              EncodeRequestUrlElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["encodeRequestUrl"] = value;
            }
            else EncodeRequestUrlElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "method":
            if (value is not (Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode> or null))
            {
              MethodElement = OverflowNull<Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>>.INSTANCE;
              Overflow["method"] = value;
            }
            else MethodElement = (Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>?)value;
            return this;
          case "origin":
            if (value is not (Hl7.Fhir.Model.Integer or null))
            {
              OriginElement = OverflowNull<Hl7.Fhir.Model.Integer>.INSTANCE;
              Overflow["origin"] = value;
            }
            else OriginElement = (Hl7.Fhir.Model.Integer?)value;
            return this;
          case "params":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ParamsElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["params"] = value;
            }
            else ParamsElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "requestHeader":
            if (value is not (List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent> or null))
            {
              RequestHeader = OverflowNull<List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent>>.INSTANCE;
              Overflow["requestHeader"] = value;
            }
            else RequestHeader = (List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent>?)value!;
            return this;
          case "requestId":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              RequestIdElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["requestId"] = value;
            }
            else RequestIdElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          case "responseId":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              ResponseIdElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["responseId"] = value;
            }
            else ResponseIdElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          case "sourceId":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              SourceIdElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["sourceId"] = value;
            }
            else SourceIdElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          case "targetId":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              TargetIdElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["targetId"] = value;
            }
            else TargetIdElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          case "url":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              UrlElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["url"] = value;
            }
            else UrlElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.Coding>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_ResourceElement is not null && !_ResourceElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("resource",_ResourceElement);
        if (_LabelElement is not null && !_LabelElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("label",_LabelElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_AcceptElement is not null && !_AcceptElement.InOverflow<Hl7.Fhir.Model.Code>()) yield return new KeyValuePair<string,object>("accept",_AcceptElement);
        if (_ContentTypeElement is not null && !_ContentTypeElement.InOverflow<Hl7.Fhir.Model.Code>()) yield return new KeyValuePair<string,object>("contentType",_ContentTypeElement);
        if (_DestinationElement is not null && !_DestinationElement.InOverflow<Hl7.Fhir.Model.Integer>()) yield return new KeyValuePair<string,object>("destination",_DestinationElement);
        if (_EncodeRequestUrlElement is not null && !_EncodeRequestUrlElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("encodeRequestUrl",_EncodeRequestUrlElement);
        if (_MethodElement is not null && !_MethodElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>>()) yield return new KeyValuePair<string,object>("method",_MethodElement);
        if (_OriginElement is not null && !_OriginElement.InOverflow<Hl7.Fhir.Model.Integer>()) yield return new KeyValuePair<string,object>("origin",_OriginElement);
        if (_ParamsElement is not null && !_ParamsElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("params",_ParamsElement);
        if (_RequestHeader?.Any() is true && !_RequestHeader.InOverflow<List<Hl7.Fhir.Model.TestScript.RequestHeaderComponent>>()) yield return new KeyValuePair<string,object>("requestHeader",_RequestHeader);
        if (_RequestIdElement is not null && !_RequestIdElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("requestId",_RequestIdElement);
        if (_ResponseIdElement is not null && !_ResponseIdElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("responseId",_ResponseIdElement);
        if (_SourceIdElement is not null && !_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("sourceId",_SourceIdElement);
        if (_TargetIdElement is not null && !_TargetIdElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("targetId",_TargetIdElement);
        if (_UrlElement is not null && !_UrlElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("url",_UrlElement);
      }

    }

    /// <summary>
    /// Each operation can have one or more header elements
    /// </summary>
    /// <remarks>
    /// Header elements would be used to set HTTP headers.
    /// This gives control to test-script writers to set headers explicitly based on test requirements.  It will allow for testing using:  - "If-Modified-Since" and "If-None-Match" headers.  ["If-Match" header](http.html#2.1.0.5.1).  See [Conditional Create using "If-None-Exist"](http.html#2.1.0.11).  See [Invalid "Content-Type" header](http.html#2.1.0.13.1) for negative testing. - etc.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.setup.action.operation.requestHeader", IsBackboneType=true)]
    public partial class RequestHeaderComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.setup.action.operation.requestHeader";

      /// <summary>
      /// HTTP header field name.
      /// </summary>
      [FhirElement("field", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? FieldElement
      {
        get
        {
          if(_FieldElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["field"]);
          return _FieldElement;
        }

        set
        {
          if (_FieldElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("field");
          _FieldElement = value;
          OnPropertyChanged("FieldElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _FieldElement;

      /// <summary>
      /// HTTP header field name
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Field
      {
        get => FieldElement?.Value;
        set
        {
          FieldElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Field");
        }
      }

      /// <summary>
      /// HTTP headerfield value.
      /// </summary>
      [FhirElement("value", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ValueElement
      {
        get
        {
          if(_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["value"]);
          return _ValueElement;
        }

        set
        {
          if (_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("value");
          _ValueElement = value;
          OnPropertyChanged("ValueElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ValueElement;

      /// <summary>
      /// HTTP headerfield value
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Value
      {
        get => ValueElement?.Value;
        set
        {
          ValueElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Value");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not RequestHeaderComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_FieldElement is not null) dest.FieldElement = (Hl7.Fhir.Model.FhirString)_FieldElement.DeepCopyInternal();
        if(_ValueElement is not null) dest.ValueElement = (Hl7.Fhir.Model.FhirString)_ValueElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new RequestHeaderComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not RequestHeaderComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_FieldElement, otherT._FieldElement)) return false;
        if(!comparer.Equals(_ValueElement, otherT._ValueElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "field":
            if (_FieldElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["field"];
              return true;
            }
            value = _FieldElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "value":
            if (_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["value"];
              return true;
            }
            value = _ValueElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "field":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              FieldElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["field"] = value;
            }
            else FieldElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "value":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ValueElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["value"] = value;
            }
            else ValueElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_FieldElement is not null && !_FieldElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("field",_FieldElement);
        if (_ValueElement is not null && !_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("value",_ValueElement);
      }

    }

    /// <summary>
    /// The assertion to perform
    /// </summary>
    /// <remarks>
    /// Evaluates the results of previous operations to determine if the server under test behaves appropriately.
    /// In order to evaluate an assertion, the request, response, and results of the most recently executed operation must always be maintained by the test engine.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.setup.action.assert", IsBackboneType=true)]
    public partial class AssertComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.setup.action.assert";

      /// <summary>
      /// Tracking/logging assertion label.
      /// </summary>
      [FhirElement("label", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? LabelElement
      {
        get
        {
          if(_LabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["label"]);
          return _LabelElement;
        }

        set
        {
          if (_LabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("label");
          _LabelElement = value;
          OnPropertyChanged("LabelElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _LabelElement;

      /// <summary>
      /// Tracking/logging assertion label
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Label
      {
        get => LabelElement?.Value;
        set
        {
          LabelElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Label");
        }
      }

      /// <summary>
      /// Tracking/reporting assertion description.
      /// </summary>
      [FhirElement("description", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// Tracking/reporting assertion description
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// response | request.
      /// </summary>
      [FhirElement("direction", Order=60)]
      [Binding("AssertionDirectionType")]
      [DataMember]
      public Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>? DirectionElement
      {
        get
        {
          if(_DirectionElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>), Overflow["direction"]);
          return _DirectionElement;
        }

        set
        {
          if (_DirectionElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>>())
            Overflow.Remove("direction");
          _DirectionElement = value;
          OnPropertyChanged("DirectionElement");
        }

      }

      private Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>? _DirectionElement;

      /// <summary>
      /// response | request
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.TestScript.AssertionDirectionType? Direction
      {
        get => DirectionElement?.Value;
        set
        {
          DirectionElement = value is null ? null : new Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>(value);
          OnPropertyChanged("Direction");
        }
      }

      /// <summary>
      /// Id of the source fixture to be evaluated.
      /// </summary>
      [FhirElement("compareToSourceId", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? CompareToSourceIdElement
      {
        get
        {
          if(_CompareToSourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["compareToSourceId"]);
          return _CompareToSourceIdElement;
        }

        set
        {
          if (_CompareToSourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("compareToSourceId");
          _CompareToSourceIdElement = value;
          OnPropertyChanged("CompareToSourceIdElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _CompareToSourceIdElement;

      /// <summary>
      /// Id of the source fixture to be evaluated
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? CompareToSourceId
      {
        get => CompareToSourceIdElement?.Value;
        set
        {
          CompareToSourceIdElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("CompareToSourceId");
        }
      }

      /// <summary>
      /// The FHIRPath expression to evaluate against the source fixture.
      /// </summary>
      [FhirElement("compareToSourceExpression", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? CompareToSourceExpressionElement
      {
        get
        {
          if(_CompareToSourceExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["compareToSourceExpression"]);
          return _CompareToSourceExpressionElement;
        }

        set
        {
          if (_CompareToSourceExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("compareToSourceExpression");
          _CompareToSourceExpressionElement = value;
          OnPropertyChanged("CompareToSourceExpressionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _CompareToSourceExpressionElement;

      /// <summary>
      /// The FHIRPath expression to evaluate against the source fixture
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? CompareToSourceExpression
      {
        get => CompareToSourceExpressionElement?.Value;
        set
        {
          CompareToSourceExpressionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("CompareToSourceExpression");
        }
      }

      /// <summary>
      /// XPath or JSONPath expression to evaluate against the source fixture.
      /// </summary>
      [FhirElement("compareToSourcePath", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? CompareToSourcePathElement
      {
        get
        {
          if(_CompareToSourcePathElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["compareToSourcePath"]);
          return _CompareToSourcePathElement;
        }

        set
        {
          if (_CompareToSourcePathElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("compareToSourcePath");
          _CompareToSourcePathElement = value;
          OnPropertyChanged("CompareToSourcePathElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _CompareToSourcePathElement;

      /// <summary>
      /// XPath or JSONPath expression to evaluate against the source fixture
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? CompareToSourcePath
      {
        get => CompareToSourcePathElement?.Value;
        set
        {
          CompareToSourcePathElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("CompareToSourcePath");
        }
      }

      /// <summary>
      /// Mime type to compare against the 'Content-Type' header.
      /// </summary>
      [FhirElement("contentType", Order=100)]
      [Binding("SupplementedMimeType")]
      [DataMember]
      public Hl7.Fhir.Model.Code? ContentTypeElement
      {
        get
        {
          if(_ContentTypeElement.InOverflow<Hl7.Fhir.Model.Code>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Code), Overflow["contentType"]);
          return _ContentTypeElement;
        }

        set
        {
          if (_ContentTypeElement.InOverflow<Hl7.Fhir.Model.Code>())
            Overflow.Remove("contentType");
          _ContentTypeElement = value;
          OnPropertyChanged("ContentTypeElement");
        }

      }

      private Hl7.Fhir.Model.Code? _ContentTypeElement;

      /// <summary>
      /// Mime type to compare against the 'Content-Type' header
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? ContentType
      {
        get => ContentTypeElement?.Value;
        set
        {
          ContentTypeElement = value is null ? null : new Hl7.Fhir.Model.Code(value);
          OnPropertyChanged("ContentType");
        }
      }

      /// <summary>
      /// fail | pass | skip | stop.
      /// </summary>
      [FhirElement("defaultManualCompletion", Order=110)]
      [Binding("AssertionManualCompletionType")]
      [DataMember]
      public Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>? DefaultManualCompletionElement
      {
        get
        {
          if(_DefaultManualCompletionElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>), Overflow["defaultManualCompletion"]);
          return _DefaultManualCompletionElement;
        }

        set
        {
          if (_DefaultManualCompletionElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>>())
            Overflow.Remove("defaultManualCompletion");
          _DefaultManualCompletionElement = value;
          OnPropertyChanged("DefaultManualCompletionElement");
        }

      }

      private Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>? _DefaultManualCompletionElement;

      /// <summary>
      /// fail | pass | skip | stop
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.TestScript.AssertionManualCompletionType? DefaultManualCompletion
      {
        get => DefaultManualCompletionElement?.Value;
        set
        {
          DefaultManualCompletionElement = value is null ? null : new Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>(value);
          OnPropertyChanged("DefaultManualCompletion");
        }
      }

      /// <summary>
      /// The FHIRPath expression to be evaluated.
      /// </summary>
      [FhirElement("expression", Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ExpressionElement
      {
        get
        {
          if(_ExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["expression"]);
          return _ExpressionElement;
        }

        set
        {
          if (_ExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("expression");
          _ExpressionElement = value;
          OnPropertyChanged("ExpressionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ExpressionElement;

      /// <summary>
      /// The FHIRPath expression to be evaluated
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Expression
      {
        get => ExpressionElement?.Value;
        set
        {
          ExpressionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Expression");
        }
      }

      /// <summary>
      /// HTTP header field name.
      /// </summary>
      [FhirElement("headerField", Order=130)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? HeaderFieldElement
      {
        get
        {
          if(_HeaderFieldElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["headerField"]);
          return _HeaderFieldElement;
        }

        set
        {
          if (_HeaderFieldElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("headerField");
          _HeaderFieldElement = value;
          OnPropertyChanged("HeaderFieldElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _HeaderFieldElement;

      /// <summary>
      /// HTTP header field name
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? HeaderField
      {
        get => HeaderFieldElement?.Value;
        set
        {
          HeaderFieldElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("HeaderField");
        }
      }

      /// <summary>
      /// Fixture Id of minimum content resource.
      /// </summary>
      [FhirElement("minimumId", Order=140)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? MinimumIdElement
      {
        get
        {
          if(_MinimumIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["minimumId"]);
          return _MinimumIdElement;
        }

        set
        {
          if (_MinimumIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("minimumId");
          _MinimumIdElement = value;
          OnPropertyChanged("MinimumIdElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _MinimumIdElement;

      /// <summary>
      /// Fixture Id of minimum content resource
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? MinimumId
      {
        get => MinimumIdElement?.Value;
        set
        {
          MinimumIdElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("MinimumId");
        }
      }

      /// <summary>
      /// Perform validation on navigation links?.
      /// </summary>
      [FhirElement("navigationLinks", Order=150)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? NavigationLinksElement
      {
        get
        {
          if(_NavigationLinksElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["navigationLinks"]);
          return _NavigationLinksElement;
        }

        set
        {
          if (_NavigationLinksElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("navigationLinks");
          _NavigationLinksElement = value;
          OnPropertyChanged("NavigationLinksElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _NavigationLinksElement;

      /// <summary>
      /// Perform validation on navigation links?
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? NavigationLinks
      {
        get => NavigationLinksElement?.Value;
        set
        {
          NavigationLinksElement = value is null ? null : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("NavigationLinks");
        }
      }

      /// <summary>
      /// equals | notEquals | in | notIn | greaterThan | lessThan | empty | notEmpty | contains | notContains | eval | manualEval.
      /// </summary>
      [FhirElement("operator", Order=160)]
      [Binding("AssertionOperatorType")]
      [DataMember]
      public Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>? OperatorElement
      {
        get
        {
          if(_OperatorElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>), Overflow["operator"]);
          return _OperatorElement;
        }

        set
        {
          if (_OperatorElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>>())
            Overflow.Remove("operator");
          _OperatorElement = value;
          OnPropertyChanged("OperatorElement");
        }

      }

      private Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>? _OperatorElement;

      /// <summary>
      /// equals | notEquals | in | notIn | greaterThan | lessThan | empty | notEmpty | contains | notContains | eval | manualEval
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.TestScript.AssertionOperatorType? Operator
      {
        get => OperatorElement?.Value;
        set
        {
          OperatorElement = value is null ? null : new Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>(value);
          OnPropertyChanged("Operator");
        }
      }

      /// <summary>
      /// XPath or JSONPath expression.
      /// </summary>
      [FhirElement("path", Order=170)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? PathElement
      {
        get
        {
          if(_PathElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["path"]);
          return _PathElement;
        }

        set
        {
          if (_PathElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("path");
          _PathElement = value;
          OnPropertyChanged("PathElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _PathElement;

      /// <summary>
      /// XPath or JSONPath expression
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Path
      {
        get => PathElement?.Value;
        set
        {
          PathElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Path");
        }
      }

      /// <summary>
      /// delete | get | options | patch | post | put | head.
      /// </summary>
      [FhirElement("requestMethod", Order=180)]
      [Binding("TestScriptRequestMethodCode")]
      [DataMember]
      public Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>? RequestMethodElement
      {
        get
        {
          if(_RequestMethodElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>), Overflow["requestMethod"]);
          return _RequestMethodElement;
        }

        set
        {
          if (_RequestMethodElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>>())
            Overflow.Remove("requestMethod");
          _RequestMethodElement = value;
          OnPropertyChanged("RequestMethodElement");
        }

      }

      private Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>? _RequestMethodElement;

      /// <summary>
      /// delete | get | options | patch | post | put | head
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode? RequestMethod
      {
        get => RequestMethodElement?.Value;
        set
        {
          RequestMethodElement = value is null ? null : new Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>(value);
          OnPropertyChanged("RequestMethod");
        }
      }

      /// <summary>
      /// Request URL comparison value.
      /// </summary>
      [FhirElement("requestURL", Order=190)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? RequestURLElement
      {
        get
        {
          if(_RequestURLElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["requestURL"]);
          return _RequestURLElement;
        }

        set
        {
          if (_RequestURLElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("requestURL");
          _RequestURLElement = value;
          OnPropertyChanged("RequestURLElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _RequestURLElement;

      /// <summary>
      /// Request URL comparison value
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? RequestURL
      {
        get => RequestURLElement?.Value;
        set
        {
          RequestURLElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("RequestURL");
        }
      }

      /// <summary>
      /// Resource type.
      /// </summary>
      [FhirElement("resource", Order=200)]
      [Binding("FHIRConcreteType")]
      [DataMember]
      public Hl7.Fhir.Model.FhirUri? ResourceElement
      {
        get
        {
          if(_ResourceElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["resource"]);
          return _ResourceElement;
        }

        set
        {
          if (_ResourceElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            Overflow.Remove("resource");
          _ResourceElement = value;
          OnPropertyChanged("ResourceElement");
        }

      }

      private Hl7.Fhir.Model.FhirUri? _ResourceElement;

      /// <summary>
      /// Resource type
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Resource
      {
        get => ResourceElement?.Value;
        set
        {
          ResourceElement = value is null ? null : new Hl7.Fhir.Model.FhirUri(value);
          OnPropertyChanged("Resource");
        }
      }

      /// <summary>
      /// continue | switchingProtocols | okay | created | accepted | nonAuthoritativeInformation | noContent | resetContent | partialContent | multipleChoices | movedPermanently | found | seeOther | notModified | useProxy | temporaryRedirect | permanentRedirect | badRequest | unauthorized | paymentRequired | forbidden | notFound | methodNotAllowed | notAcceptable | proxyAuthenticationRequired | requestTimeout | conflict | gone | lengthRequired | preconditionFailed | contentTooLarge | uriTooLong | unsupportedMediaType | rangeNotSatisfiable | expectationFailed | misdirectedRequest | unprocessableContent | upgradeRequired | internalServerError | notImplemented | badGateway | serviceUnavailable | gatewayTimeout | httpVersionNotSupported.
      /// </summary>
      [FhirElement("response", Order=210)]
      [Binding("AssertionResponseTypes")]
      [DataMember]
      public Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>? ResponseElement
      {
        get
        {
          if(_ResponseElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>), Overflow["response"]);
          return _ResponseElement;
        }

        set
        {
          if (_ResponseElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>>())
            Overflow.Remove("response");
          _ResponseElement = value;
          OnPropertyChanged("ResponseElement");
        }

      }

      private Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>? _ResponseElement;

      /// <summary>
      /// continue | switchingProtocols | okay | created | accepted | nonAuthoritativeInformation | noContent | resetContent | partialContent | multipleChoices | movedPermanently | found | seeOther | notModified | useProxy | temporaryRedirect | permanentRedirect | badRequest | unauthorized | paymentRequired | forbidden | notFound | methodNotAllowed | notAcceptable | proxyAuthenticationRequired | requestTimeout | conflict | gone | lengthRequired | preconditionFailed | contentTooLarge | uriTooLong | unsupportedMediaType | rangeNotSatisfiable | expectationFailed | misdirectedRequest | unprocessableContent | upgradeRequired | internalServerError | notImplemented | badGateway | serviceUnavailable | gatewayTimeout | httpVersionNotSupported
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.TestScript.AssertionResponseTypes? Response
      {
        get => ResponseElement?.Value;
        set
        {
          ResponseElement = value is null ? null : new Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>(value);
          OnPropertyChanged("Response");
        }
      }

      /// <summary>
      /// HTTP response code to test.
      /// </summary>
      [FhirElement("responseCode", Order=220)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ResponseCodeElement
      {
        get
        {
          if(_ResponseCodeElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["responseCode"]);
          return _ResponseCodeElement;
        }

        set
        {
          if (_ResponseCodeElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("responseCode");
          _ResponseCodeElement = value;
          OnPropertyChanged("ResponseCodeElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ResponseCodeElement;

      /// <summary>
      /// HTTP response code to test
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? ResponseCode
      {
        get => ResponseCodeElement?.Value;
        set
        {
          ResponseCodeElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("ResponseCode");
        }
      }

      /// <summary>
      /// Fixture Id of source expression or headerField.
      /// </summary>
      [FhirElement("sourceId", Order=230)]
      [DataMember]
      public Hl7.Fhir.Model.Id? SourceIdElement
      {
        get
        {
          if(_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["sourceId"]);
          return _SourceIdElement;
        }

        set
        {
          if (_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("sourceId");
          _SourceIdElement = value;
          OnPropertyChanged("SourceIdElement");
        }

      }

      private Hl7.Fhir.Model.Id? _SourceIdElement;

      /// <summary>
      /// Fixture Id of source expression or headerField
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? SourceId
      {
        get => SourceIdElement?.Value;
        set
        {
          SourceIdElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("SourceId");
        }
      }

      /// <summary>
      /// If this assert fails, will the current test execution stop?.
      /// </summary>
      [FhirElement("stopTestOnFail", Order=240)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? StopTestOnFailElement
      {
        get
        {
          if(_StopTestOnFailElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["stopTestOnFail"]);
          return _StopTestOnFailElement;
        }

        set
        {
          if (_StopTestOnFailElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("stopTestOnFail");
          _StopTestOnFailElement = value;
          OnPropertyChanged("StopTestOnFailElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _StopTestOnFailElement;

      /// <summary>
      /// If this assert fails, will the current test execution stop?
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? StopTestOnFail
      {
        get => StopTestOnFailElement?.Value;
        set
        {
          StopTestOnFailElement = value is null ? null : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("StopTestOnFail");
        }
      }

      /// <summary>
      /// Profile Id of validation profile reference.
      /// </summary>
      [FhirElement("validateProfileId", Order=250)]
      [DataMember]
      public Hl7.Fhir.Model.Id? ValidateProfileIdElement
      {
        get
        {
          if(_ValidateProfileIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["validateProfileId"]);
          return _ValidateProfileIdElement;
        }

        set
        {
          if (_ValidateProfileIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("validateProfileId");
          _ValidateProfileIdElement = value;
          OnPropertyChanged("ValidateProfileIdElement");
        }

      }

      private Hl7.Fhir.Model.Id? _ValidateProfileIdElement;

      /// <summary>
      /// Profile Id of validation profile reference
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? ValidateProfileId
      {
        get => ValidateProfileIdElement?.Value;
        set
        {
          ValidateProfileIdElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("ValidateProfileId");
        }
      }

      /// <summary>
      /// The value to compare to.
      /// </summary>
      [FhirElement("value", Order=260)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ValueElement
      {
        get
        {
          if(_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["value"]);
          return _ValueElement;
        }

        set
        {
          if (_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("value");
          _ValueElement = value;
          OnPropertyChanged("ValueElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ValueElement;

      /// <summary>
      /// The value to compare to
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Value
      {
        get => ValueElement?.Value;
        set
        {
          ValueElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Value");
        }
      }

      /// <summary>
      /// Will this assert produce a warning only on error?.
      /// </summary>
      [FhirElement("warningOnly", Order=270)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? WarningOnlyElement
      {
        get
        {
          if(_WarningOnlyElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["warningOnly"]);
          return _WarningOnlyElement;
        }

        set
        {
          if (_WarningOnlyElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("warningOnly");
          _WarningOnlyElement = value;
          OnPropertyChanged("WarningOnlyElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _WarningOnlyElement;

      /// <summary>
      /// Will this assert produce a warning only on error?
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? WarningOnly
      {
        get => WarningOnlyElement?.Value;
        set
        {
          WarningOnlyElement = value is null ? null : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("WarningOnly");
        }
      }

      /// <summary>
      /// Links or references to the testing requirements.
      /// </summary>
      [FhirElement("requirement", Order=280)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestScript.RequirementComponent> Requirement
      {
        get
        {
          if(_Requirement.InOverflow<List<Hl7.Fhir.Model.TestScript.RequirementComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.RequirementComponent>), Overflow["requirement"]);
          return _Requirement ??= [];
        }

        set
        {
          if (_Requirement.InOverflow<List<Hl7.Fhir.Model.TestScript.RequirementComponent>>())
            Overflow.Remove("requirement");
          _Requirement = value;
          OnPropertyChanged("Requirement");
        }

      }

      private List<Hl7.Fhir.Model.TestScript.RequirementComponent>? _Requirement;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AssertComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_LabelElement is not null) dest.LabelElement = (Hl7.Fhir.Model.FhirString)_LabelElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
        if(_DirectionElement is not null) dest.DirectionElement = (Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>)_DirectionElement.DeepCopyInternal();
        if(_CompareToSourceIdElement is not null) dest.CompareToSourceIdElement = (Hl7.Fhir.Model.FhirString)_CompareToSourceIdElement.DeepCopyInternal();
        if(_CompareToSourceExpressionElement is not null) dest.CompareToSourceExpressionElement = (Hl7.Fhir.Model.FhirString)_CompareToSourceExpressionElement.DeepCopyInternal();
        if(_CompareToSourcePathElement is not null) dest.CompareToSourcePathElement = (Hl7.Fhir.Model.FhirString)_CompareToSourcePathElement.DeepCopyInternal();
        if(_ContentTypeElement is not null) dest.ContentTypeElement = (Hl7.Fhir.Model.Code)_ContentTypeElement.DeepCopyInternal();
        if(_DefaultManualCompletionElement is not null) dest.DefaultManualCompletionElement = (Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>)_DefaultManualCompletionElement.DeepCopyInternal();
        if(_ExpressionElement is not null) dest.ExpressionElement = (Hl7.Fhir.Model.FhirString)_ExpressionElement.DeepCopyInternal();
        if(_HeaderFieldElement is not null) dest.HeaderFieldElement = (Hl7.Fhir.Model.FhirString)_HeaderFieldElement.DeepCopyInternal();
        if(_MinimumIdElement is not null) dest.MinimumIdElement = (Hl7.Fhir.Model.FhirString)_MinimumIdElement.DeepCopyInternal();
        if(_NavigationLinksElement is not null) dest.NavigationLinksElement = (Hl7.Fhir.Model.FhirBoolean)_NavigationLinksElement.DeepCopyInternal();
        if(_OperatorElement is not null) dest.OperatorElement = (Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>)_OperatorElement.DeepCopyInternal();
        if(_PathElement is not null) dest.PathElement = (Hl7.Fhir.Model.FhirString)_PathElement.DeepCopyInternal();
        if(_RequestMethodElement is not null) dest.RequestMethodElement = (Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>)_RequestMethodElement.DeepCopyInternal();
        if(_RequestURLElement is not null) dest.RequestURLElement = (Hl7.Fhir.Model.FhirString)_RequestURLElement.DeepCopyInternal();
        if(_ResourceElement is not null) dest.ResourceElement = (Hl7.Fhir.Model.FhirUri)_ResourceElement.DeepCopyInternal();
        if(_ResponseElement is not null) dest.ResponseElement = (Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>)_ResponseElement.DeepCopyInternal();
        if(_ResponseCodeElement is not null) dest.ResponseCodeElement = (Hl7.Fhir.Model.FhirString)_ResponseCodeElement.DeepCopyInternal();
        if(_SourceIdElement is not null) dest.SourceIdElement = (Hl7.Fhir.Model.Id)_SourceIdElement.DeepCopyInternal();
        if(_StopTestOnFailElement is not null) dest.StopTestOnFailElement = (Hl7.Fhir.Model.FhirBoolean)_StopTestOnFailElement.DeepCopyInternal();
        if(_ValidateProfileIdElement is not null) dest.ValidateProfileIdElement = (Hl7.Fhir.Model.Id)_ValidateProfileIdElement.DeepCopyInternal();
        if(_ValueElement is not null) dest.ValueElement = (Hl7.Fhir.Model.FhirString)_ValueElement.DeepCopyInternal();
        if(_WarningOnlyElement is not null) dest.WarningOnlyElement = (Hl7.Fhir.Model.FhirBoolean)_WarningOnlyElement.DeepCopyInternal();
        if(_Requirement is not null) dest.Requirement = new List<Hl7.Fhir.Model.TestScript.RequirementComponent>(_Requirement.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AssertComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AssertComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_LabelElement, otherT._LabelElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_DirectionElement, otherT._DirectionElement)) return false;
        if(!comparer.Equals(_CompareToSourceIdElement, otherT._CompareToSourceIdElement)) return false;
        if(!comparer.Equals(_CompareToSourceExpressionElement, otherT._CompareToSourceExpressionElement)) return false;
        if(!comparer.Equals(_CompareToSourcePathElement, otherT._CompareToSourcePathElement)) return false;
        if(!comparer.Equals(_ContentTypeElement, otherT._ContentTypeElement)) return false;
        if(!comparer.Equals(_DefaultManualCompletionElement, otherT._DefaultManualCompletionElement)) return false;
        if(!comparer.Equals(_ExpressionElement, otherT._ExpressionElement)) return false;
        if(!comparer.Equals(_HeaderFieldElement, otherT._HeaderFieldElement)) return false;
        if(!comparer.Equals(_MinimumIdElement, otherT._MinimumIdElement)) return false;
        if(!comparer.Equals(_NavigationLinksElement, otherT._NavigationLinksElement)) return false;
        if(!comparer.Equals(_OperatorElement, otherT._OperatorElement)) return false;
        if(!comparer.Equals(_PathElement, otherT._PathElement)) return false;
        if(!comparer.Equals(_RequestMethodElement, otherT._RequestMethodElement)) return false;
        if(!comparer.Equals(_RequestURLElement, otherT._RequestURLElement)) return false;
        if(!comparer.Equals(_ResourceElement, otherT._ResourceElement)) return false;
        if(!comparer.Equals(_ResponseElement, otherT._ResponseElement)) return false;
        if(!comparer.Equals(_ResponseCodeElement, otherT._ResponseCodeElement)) return false;
        if(!comparer.Equals(_SourceIdElement, otherT._SourceIdElement)) return false;
        if(!comparer.Equals(_StopTestOnFailElement, otherT._StopTestOnFailElement)) return false;
        if(!comparer.Equals(_ValidateProfileIdElement, otherT._ValidateProfileIdElement)) return false;
        if(!comparer.Equals(_ValueElement, otherT._ValueElement)) return false;
        if(!comparer.Equals(_WarningOnlyElement, otherT._WarningOnlyElement)) return false;
        if(!comparer.ListEquals(_Requirement, otherT._Requirement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "label":
            if (_LabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["label"];
              return true;
            }
            value = _LabelElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "direction":
            if (_DirectionElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>>())
            {
              value = Overflow["direction"];
              return true;
            }
            value = _DirectionElement;
            return (value as Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>) is not null;
          case "compareToSourceId":
            if (_CompareToSourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["compareToSourceId"];
              return true;
            }
            value = _CompareToSourceIdElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "compareToSourceExpression":
            if (_CompareToSourceExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["compareToSourceExpression"];
              return true;
            }
            value = _CompareToSourceExpressionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "compareToSourcePath":
            if (_CompareToSourcePathElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["compareToSourcePath"];
              return true;
            }
            value = _CompareToSourcePathElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "contentType":
            if (_ContentTypeElement.InOverflow<Hl7.Fhir.Model.Code>())
            {
              value = Overflow["contentType"];
              return true;
            }
            value = _ContentTypeElement;
            return (value as Hl7.Fhir.Model.Code) is not null;
          case "defaultManualCompletion":
            if (_DefaultManualCompletionElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>>())
            {
              value = Overflow["defaultManualCompletion"];
              return true;
            }
            value = _DefaultManualCompletionElement;
            return (value as Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>) is not null;
          case "expression":
            if (_ExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["expression"];
              return true;
            }
            value = _ExpressionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "headerField":
            if (_HeaderFieldElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["headerField"];
              return true;
            }
            value = _HeaderFieldElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "minimumId":
            if (_MinimumIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["minimumId"];
              return true;
            }
            value = _MinimumIdElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "navigationLinks":
            if (_NavigationLinksElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["navigationLinks"];
              return true;
            }
            value = _NavigationLinksElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "operator":
            if (_OperatorElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>>())
            {
              value = Overflow["operator"];
              return true;
            }
            value = _OperatorElement;
            return (value as Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>) is not null;
          case "path":
            if (_PathElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["path"];
              return true;
            }
            value = _PathElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "requestMethod":
            if (_RequestMethodElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>>())
            {
              value = Overflow["requestMethod"];
              return true;
            }
            value = _RequestMethodElement;
            return (value as Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>) is not null;
          case "requestURL":
            if (_RequestURLElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["requestURL"];
              return true;
            }
            value = _RequestURLElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "resource":
            if (_ResourceElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
            {
              value = Overflow["resource"];
              return true;
            }
            value = _ResourceElement;
            return (value as Hl7.Fhir.Model.FhirUri) is not null;
          case "response":
            if (_ResponseElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>>())
            {
              value = Overflow["response"];
              return true;
            }
            value = _ResponseElement;
            return (value as Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>) is not null;
          case "responseCode":
            if (_ResponseCodeElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["responseCode"];
              return true;
            }
            value = _ResponseCodeElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "sourceId":
            if (_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["sourceId"];
              return true;
            }
            value = _SourceIdElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          case "stopTestOnFail":
            if (_StopTestOnFailElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["stopTestOnFail"];
              return true;
            }
            value = _StopTestOnFailElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "validateProfileId":
            if (_ValidateProfileIdElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["validateProfileId"];
              return true;
            }
            value = _ValidateProfileIdElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          case "value":
            if (_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["value"];
              return true;
            }
            value = _ValueElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "warningOnly":
            if (_WarningOnlyElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["warningOnly"];
              return true;
            }
            value = _WarningOnlyElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "requirement":
            if (_Requirement.InOverflow<List<Hl7.Fhir.Model.TestScript.RequirementComponent>>())
            {
              value = Overflow["requirement"];
              return true;
            }
            value = _Requirement;
            return (value as List<Hl7.Fhir.Model.TestScript.RequirementComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "label":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              LabelElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["label"] = value;
            }
            else LabelElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "direction":
            if (value is not (Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType> or null))
            {
              DirectionElement = OverflowNull<Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>>.INSTANCE;
              Overflow["direction"] = value;
            }
            else DirectionElement = (Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>?)value;
            return this;
          case "compareToSourceId":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              CompareToSourceIdElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["compareToSourceId"] = value;
            }
            else CompareToSourceIdElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "compareToSourceExpression":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              CompareToSourceExpressionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["compareToSourceExpression"] = value;
            }
            else CompareToSourceExpressionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "compareToSourcePath":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              CompareToSourcePathElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["compareToSourcePath"] = value;
            }
            else CompareToSourcePathElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "contentType":
            if (value is not (Hl7.Fhir.Model.Code or null))
            {
              ContentTypeElement = OverflowNull<Hl7.Fhir.Model.Code>.INSTANCE;
              Overflow["contentType"] = value;
            }
            else ContentTypeElement = (Hl7.Fhir.Model.Code?)value;
            return this;
          case "defaultManualCompletion":
            if (value is not (Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType> or null))
            {
              DefaultManualCompletionElement = OverflowNull<Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>>.INSTANCE;
              Overflow["defaultManualCompletion"] = value;
            }
            else DefaultManualCompletionElement = (Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>?)value;
            return this;
          case "expression":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ExpressionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["expression"] = value;
            }
            else ExpressionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "headerField":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              HeaderFieldElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["headerField"] = value;
            }
            else HeaderFieldElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "minimumId":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              MinimumIdElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["minimumId"] = value;
            }
            else MinimumIdElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "navigationLinks":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              NavigationLinksElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["navigationLinks"] = value;
            }
            else NavigationLinksElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "operator":
            if (value is not (Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType> or null))
            {
              OperatorElement = OverflowNull<Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>>.INSTANCE;
              Overflow["operator"] = value;
            }
            else OperatorElement = (Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>?)value;
            return this;
          case "path":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              PathElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["path"] = value;
            }
            else PathElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "requestMethod":
            if (value is not (Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode> or null))
            {
              RequestMethodElement = OverflowNull<Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>>.INSTANCE;
              Overflow["requestMethod"] = value;
            }
            else RequestMethodElement = (Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>?)value;
            return this;
          case "requestURL":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              RequestURLElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["requestURL"] = value;
            }
            else RequestURLElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "resource":
            if (value is not (Hl7.Fhir.Model.FhirUri or null))
            {
              ResourceElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
              Overflow["resource"] = value;
            }
            else ResourceElement = (Hl7.Fhir.Model.FhirUri?)value;
            return this;
          case "response":
            if (value is not (Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes> or null))
            {
              ResponseElement = OverflowNull<Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>>.INSTANCE;
              Overflow["response"] = value;
            }
            else ResponseElement = (Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>?)value;
            return this;
          case "responseCode":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ResponseCodeElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["responseCode"] = value;
            }
            else ResponseCodeElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "sourceId":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              SourceIdElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["sourceId"] = value;
            }
            else SourceIdElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          case "stopTestOnFail":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              StopTestOnFailElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["stopTestOnFail"] = value;
            }
            else StopTestOnFailElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "validateProfileId":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              ValidateProfileIdElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["validateProfileId"] = value;
            }
            else ValidateProfileIdElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          case "value":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ValueElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["value"] = value;
            }
            else ValueElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "warningOnly":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              WarningOnlyElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["warningOnly"] = value;
            }
            else WarningOnlyElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "requirement":
            if (value is not (List<Hl7.Fhir.Model.TestScript.RequirementComponent> or null))
            {
              Requirement = OverflowNull<List<Hl7.Fhir.Model.TestScript.RequirementComponent>>.INSTANCE;
              Overflow["requirement"] = value;
            }
            else Requirement = (List<Hl7.Fhir.Model.TestScript.RequirementComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_LabelElement is not null && !_LabelElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("label",_LabelElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_DirectionElement is not null && !_DirectionElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionDirectionType>>()) yield return new KeyValuePair<string,object>("direction",_DirectionElement);
        if (_CompareToSourceIdElement is not null && !_CompareToSourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("compareToSourceId",_CompareToSourceIdElement);
        if (_CompareToSourceExpressionElement is not null && !_CompareToSourceExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("compareToSourceExpression",_CompareToSourceExpressionElement);
        if (_CompareToSourcePathElement is not null && !_CompareToSourcePathElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("compareToSourcePath",_CompareToSourcePathElement);
        if (_ContentTypeElement is not null && !_ContentTypeElement.InOverflow<Hl7.Fhir.Model.Code>()) yield return new KeyValuePair<string,object>("contentType",_ContentTypeElement);
        if (_DefaultManualCompletionElement is not null && !_DefaultManualCompletionElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionManualCompletionType>>()) yield return new KeyValuePair<string,object>("defaultManualCompletion",_DefaultManualCompletionElement);
        if (_ExpressionElement is not null && !_ExpressionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("expression",_ExpressionElement);
        if (_HeaderFieldElement is not null && !_HeaderFieldElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("headerField",_HeaderFieldElement);
        if (_MinimumIdElement is not null && !_MinimumIdElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("minimumId",_MinimumIdElement);
        if (_NavigationLinksElement is not null && !_NavigationLinksElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("navigationLinks",_NavigationLinksElement);
        if (_OperatorElement is not null && !_OperatorElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionOperatorType>>()) yield return new KeyValuePair<string,object>("operator",_OperatorElement);
        if (_PathElement is not null && !_PathElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("path",_PathElement);
        if (_RequestMethodElement is not null && !_RequestMethodElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.TestScriptRequestMethodCode>>()) yield return new KeyValuePair<string,object>("requestMethod",_RequestMethodElement);
        if (_RequestURLElement is not null && !_RequestURLElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("requestURL",_RequestURLElement);
        if (_ResourceElement is not null && !_ResourceElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("resource",_ResourceElement);
        if (_ResponseElement is not null && !_ResponseElement.InOverflow<Code<Hl7.Fhir.Model.TestScript.AssertionResponseTypes>>()) yield return new KeyValuePair<string,object>("response",_ResponseElement);
        if (_ResponseCodeElement is not null && !_ResponseCodeElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("responseCode",_ResponseCodeElement);
        if (_SourceIdElement is not null && !_SourceIdElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("sourceId",_SourceIdElement);
        if (_StopTestOnFailElement is not null && !_StopTestOnFailElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("stopTestOnFail",_StopTestOnFailElement);
        if (_ValidateProfileIdElement is not null && !_ValidateProfileIdElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("validateProfileId",_ValidateProfileIdElement);
        if (_ValueElement is not null && !_ValueElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("value",_ValueElement);
        if (_WarningOnlyElement is not null && !_WarningOnlyElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("warningOnly",_WarningOnlyElement);
        if (_Requirement?.Any() is true && !_Requirement.InOverflow<List<Hl7.Fhir.Model.TestScript.RequirementComponent>>()) yield return new KeyValuePair<string,object>("requirement",_Requirement);
      }

    }

    /// <summary>
    /// Links or references to the testing requirements
    /// </summary>
    /// <remarks>
    /// Links or references providing traceability to the testing requirements for this assert.
    /// TestScript and TestReport instances are typically (and expected to be) based on known, defined test requirements and documentation. These links provide traceability from the executable/executed TestScript and TestReport tests to these requirements.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.setup.action.assert.requirement", IsBackboneType=true)]
    public partial class RequirementComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.setup.action.assert.requirement";

      /// <summary>
      /// Canonical reference to the Requirements instance.
      /// </summary>
      [FhirElement("reference", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Canonical? ReferenceElement
      {
        get
        {
          if(_ReferenceElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Canonical), Overflow["reference"]);
          return _ReferenceElement;
        }

        set
        {
          if (_ReferenceElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            Overflow.Remove("reference");
          _ReferenceElement = value;
          OnPropertyChanged("ReferenceElement");
        }

      }

      private Hl7.Fhir.Model.Canonical? _ReferenceElement;

      /// <summary>
      /// Canonical reference to the Requirements instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Reference
      {
        get => ReferenceElement?.Value;
        set
        {
          ReferenceElement = value is null ? null : new Hl7.Fhir.Model.Canonical(value);
          OnPropertyChanged("Reference");
        }
      }

      /// <summary>
      /// Requirements statement key identifier.
      /// </summary>
      [FhirElement("key", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Id? KeyElement
      {
        get
        {
          if(_KeyElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["key"]);
          return _KeyElement;
        }

        set
        {
          if (_KeyElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("key");
          _KeyElement = value;
          OnPropertyChanged("KeyElement");
        }

      }

      private Hl7.Fhir.Model.Id? _KeyElement;

      /// <summary>
      /// Requirements statement key identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Key
      {
        get => KeyElement?.Value;
        set
        {
          KeyElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("Key");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not RequirementComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_ReferenceElement is not null) dest.ReferenceElement = (Hl7.Fhir.Model.Canonical)_ReferenceElement.DeepCopyInternal();
        if(_KeyElement is not null) dest.KeyElement = (Hl7.Fhir.Model.Id)_KeyElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new RequirementComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not RequirementComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_ReferenceElement, otherT._ReferenceElement)) return false;
        if(!comparer.Equals(_KeyElement, otherT._KeyElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "reference":
            if (_ReferenceElement.InOverflow<Hl7.Fhir.Model.Canonical>())
            {
              value = Overflow["reference"];
              return true;
            }
            value = _ReferenceElement;
            return (value as Hl7.Fhir.Model.Canonical) is not null;
          case "key":
            if (_KeyElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["key"];
              return true;
            }
            value = _KeyElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "reference":
            if (value is not (Hl7.Fhir.Model.Canonical or null))
            {
              ReferenceElement = OverflowNull<Hl7.Fhir.Model.Canonical>.INSTANCE;
              Overflow["reference"] = value;
            }
            else ReferenceElement = (Hl7.Fhir.Model.Canonical?)value;
            return this;
          case "key":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              KeyElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["key"] = value;
            }
            else KeyElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_ReferenceElement is not null && !_ReferenceElement.InOverflow<Hl7.Fhir.Model.Canonical>()) yield return new KeyValuePair<string,object>("reference",_ReferenceElement);
        if (_KeyElement is not null && !_KeyElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("key",_KeyElement);
      }

    }

    /// <summary>
    /// A test in this script
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.test", IsBackboneType=true)]
    public partial class TestComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.test";

      /// <summary>
      /// Tracking/logging name of this test.
      /// </summary>
      [FhirElement("name", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// Tracking/logging name of this test
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Tracking/reporting short description of the test.
      /// </summary>
      [FhirElement("description", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// Tracking/reporting short description of the test
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// A test operation or assert to perform.
      /// </summary>
      [FhirElement("action", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestScript.TestActionComponent> Action
      {
        get
        {
          if(_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.TestActionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.TestActionComponent>), Overflow["action"]);
          return _Action ??= [];
        }

        set
        {
          if (_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.TestActionComponent>>())
            Overflow.Remove("action");
          _Action = value;
          OnPropertyChanged("Action");
        }

      }

      private List<Hl7.Fhir.Model.TestScript.TestActionComponent>? _Action;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not TestComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
        if(_Action is not null) dest.Action = new List<Hl7.Fhir.Model.TestScript.TestActionComponent>(_Action.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new TestComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not TestComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.ListEquals(_Action, otherT._Action)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "action":
            if (_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.TestActionComponent>>())
            {
              value = Overflow["action"];
              return true;
            }
            value = _Action;
            return (value as List<Hl7.Fhir.Model.TestScript.TestActionComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "action":
            if (value is not (List<Hl7.Fhir.Model.TestScript.TestActionComponent> or null))
            {
              Action = OverflowNull<List<Hl7.Fhir.Model.TestScript.TestActionComponent>>.INSTANCE;
              Overflow["action"] = value;
            }
            else Action = (List<Hl7.Fhir.Model.TestScript.TestActionComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_Action?.Any() is true && !_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.TestActionComponent>>()) yield return new KeyValuePair<string,object>("action",_Action);
      }

    }

    /// <summary>
    /// A test operation or assert to perform
    /// </summary>
    /// <remarks>
    /// Action would contain either an operation or an assertion.
    /// An action should contain either an operation or an assertion but not both.  It can contain any number of variables.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.test.action", IsBackboneType=true)]
    public partial class TestActionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.test.action";

      /// <summary>
      /// Links or references to common collection(s) of actions.
      /// </summary>
      [FhirElement("common", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.TestScript.SetupActionCommonComponent? Common
      {
        get
        {
          if(_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.SetupActionCommonComponent), Overflow["common"]);
          return _Common;
        }

        set
        {
          if (_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>())
            Overflow.Remove("common");
          _Common = value;
          OnPropertyChanged("Common");
        }

      }

      private Hl7.Fhir.Model.TestScript.SetupActionCommonComponent? _Common;

      /// <summary>
      /// The setup operation to perform.
      /// </summary>
      [FhirElement("operation", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.TestScript.OperationComponent? Operation
      {
        get
        {
          if(_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.OperationComponent), Overflow["operation"]);
          return _Operation;
        }

        set
        {
          if (_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            Overflow.Remove("operation");
          _Operation = value;
          OnPropertyChanged("Operation");
        }

      }

      private Hl7.Fhir.Model.TestScript.OperationComponent? _Operation;

      /// <summary>
      /// The setup assertion to perform.
      /// </summary>
      [FhirElement("assert", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.TestScript.AssertComponent? Assert
      {
        get
        {
          if(_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.AssertComponent), Overflow["assert"]);
          return _Assert;
        }

        set
        {
          if (_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>())
            Overflow.Remove("assert");
          _Assert = value;
          OnPropertyChanged("Assert");
        }

      }

      private Hl7.Fhir.Model.TestScript.AssertComponent? _Assert;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not TestActionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Common is not null) dest.Common = (Hl7.Fhir.Model.TestScript.SetupActionCommonComponent)_Common.DeepCopyInternal();
        if(_Operation is not null) dest.Operation = (Hl7.Fhir.Model.TestScript.OperationComponent)_Operation.DeepCopyInternal();
        if(_Assert is not null) dest.Assert = (Hl7.Fhir.Model.TestScript.AssertComponent)_Assert.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new TestActionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not TestActionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Common, otherT._Common)) return false;
        if(!comparer.Equals(_Operation, otherT._Operation)) return false;
        if(!comparer.Equals(_Assert, otherT._Assert)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "common":
            if (_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>())
            {
              value = Overflow["common"];
              return true;
            }
            value = _Common;
            return (value as Hl7.Fhir.Model.TestScript.SetupActionCommonComponent) is not null;
          case "operation":
            if (_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            {
              value = Overflow["operation"];
              return true;
            }
            value = _Operation;
            return (value as Hl7.Fhir.Model.TestScript.OperationComponent) is not null;
          case "assert":
            if (_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>())
            {
              value = Overflow["assert"];
              return true;
            }
            value = _Assert;
            return (value as Hl7.Fhir.Model.TestScript.AssertComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "common":
            if (value is not (Hl7.Fhir.Model.TestScript.SetupActionCommonComponent or null))
            {
              Common = OverflowNull<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>.INSTANCE;
              Overflow["common"] = value;
            }
            else Common = (Hl7.Fhir.Model.TestScript.SetupActionCommonComponent?)value;
            return this;
          case "operation":
            if (value is not (Hl7.Fhir.Model.TestScript.OperationComponent or null))
            {
              Operation = OverflowNull<Hl7.Fhir.Model.TestScript.OperationComponent>.INSTANCE;
              Overflow["operation"] = value;
            }
            else Operation = (Hl7.Fhir.Model.TestScript.OperationComponent?)value;
            return this;
          case "assert":
            if (value is not (Hl7.Fhir.Model.TestScript.AssertComponent or null))
            {
              Assert = OverflowNull<Hl7.Fhir.Model.TestScript.AssertComponent>.INSTANCE;
              Overflow["assert"] = value;
            }
            else Assert = (Hl7.Fhir.Model.TestScript.AssertComponent?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Common is not null && !_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>()) yield return new KeyValuePair<string,object>("common",_Common);
        if (_Operation is not null && !_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>()) yield return new KeyValuePair<string,object>("operation",_Operation);
        if (_Assert is not null && !_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>()) yield return new KeyValuePair<string,object>("assert",_Assert);
      }

    }

    /// <summary>
    /// A series of required clean up steps
    /// </summary>
    /// <remarks>
    /// A series of operations required to clean up after all the tests are executed (successfully or otherwise).
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.teardown", IsBackboneType=true)]
    public partial class TeardownComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.teardown";

      /// <summary>
      /// One or more teardown operations to perform.
      /// </summary>
      [FhirElement("action", Order=40)]
      [Cardinality(Min=1,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestScript.TeardownActionComponent> Action
      {
        get
        {
          if(_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.TeardownActionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.TeardownActionComponent>), Overflow["action"]);
          return _Action ??= [];
        }

        set
        {
          if (_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.TeardownActionComponent>>())
            Overflow.Remove("action");
          _Action = value;
          OnPropertyChanged("Action");
        }

      }

      private List<Hl7.Fhir.Model.TestScript.TeardownActionComponent>? _Action;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not TeardownComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Action is not null) dest.Action = new List<Hl7.Fhir.Model.TestScript.TeardownActionComponent>(_Action.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new TeardownComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not TeardownComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.ListEquals(_Action, otherT._Action)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "action":
            if (_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.TeardownActionComponent>>())
            {
              value = Overflow["action"];
              return true;
            }
            value = _Action;
            return (value as List<Hl7.Fhir.Model.TestScript.TeardownActionComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "action":
            if (value is not (List<Hl7.Fhir.Model.TestScript.TeardownActionComponent> or null))
            {
              Action = OverflowNull<List<Hl7.Fhir.Model.TestScript.TeardownActionComponent>>.INSTANCE;
              Overflow["action"] = value;
            }
            else Action = (List<Hl7.Fhir.Model.TestScript.TeardownActionComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Action?.Any() is true && !_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.TeardownActionComponent>>()) yield return new KeyValuePair<string,object>("action",_Action);
      }

    }

    /// <summary>
    /// One or more teardown operations to perform
    /// </summary>
    /// <remarks>
    /// The teardown action will only contain an operation.
    /// An action should contain either an operation or an assertion but not both.  It can contain any number of variables.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.teardown.action", IsBackboneType=true)]
    public partial class TeardownActionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.teardown.action";

      /// <summary>
      /// Links or references to common collection(s) of actions.
      /// </summary>
      [FhirElement("common", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.TestScript.SetupActionCommonComponent? Common
      {
        get
        {
          if(_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.SetupActionCommonComponent), Overflow["common"]);
          return _Common;
        }

        set
        {
          if (_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>())
            Overflow.Remove("common");
          _Common = value;
          OnPropertyChanged("Common");
        }

      }

      private Hl7.Fhir.Model.TestScript.SetupActionCommonComponent? _Common;

      /// <summary>
      /// The teardown operation to perform.
      /// </summary>
      [FhirElement("operation", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.TestScript.OperationComponent? Operation
      {
        get
        {
          if(_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.OperationComponent), Overflow["operation"]);
          return _Operation;
        }

        set
        {
          if (_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            Overflow.Remove("operation");
          _Operation = value;
          OnPropertyChanged("Operation");
        }

      }

      private Hl7.Fhir.Model.TestScript.OperationComponent? _Operation;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not TeardownActionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Common is not null) dest.Common = (Hl7.Fhir.Model.TestScript.SetupActionCommonComponent)_Common.DeepCopyInternal();
        if(_Operation is not null) dest.Operation = (Hl7.Fhir.Model.TestScript.OperationComponent)_Operation.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new TeardownActionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not TeardownActionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Common, otherT._Common)) return false;
        if(!comparer.Equals(_Operation, otherT._Operation)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "common":
            if (_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>())
            {
              value = Overflow["common"];
              return true;
            }
            value = _Common;
            return (value as Hl7.Fhir.Model.TestScript.SetupActionCommonComponent) is not null;
          case "operation":
            if (_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            {
              value = Overflow["operation"];
              return true;
            }
            value = _Operation;
            return (value as Hl7.Fhir.Model.TestScript.OperationComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "common":
            if (value is not (Hl7.Fhir.Model.TestScript.SetupActionCommonComponent or null))
            {
              Common = OverflowNull<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>.INSTANCE;
              Overflow["common"] = value;
            }
            else Common = (Hl7.Fhir.Model.TestScript.SetupActionCommonComponent?)value;
            return this;
          case "operation":
            if (value is not (Hl7.Fhir.Model.TestScript.OperationComponent or null))
            {
              Operation = OverflowNull<Hl7.Fhir.Model.TestScript.OperationComponent>.INSTANCE;
              Overflow["operation"] = value;
            }
            else Operation = (Hl7.Fhir.Model.TestScript.OperationComponent?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Common is not null && !_Common.InOverflow<Hl7.Fhir.Model.TestScript.SetupActionCommonComponent>()) yield return new KeyValuePair<string,object>("common",_Common);
        if (_Operation is not null && !_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>()) yield return new KeyValuePair<string,object>("operation",_Operation);
      }

    }

    /// <summary>
    /// A common collection of actions in this script
    /// </summary>
    /// <remarks>
    /// A common collection of actions that can be re-used in a TestScript.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.common", IsBackboneType=true)]
    public partial class CommonComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.common";

      /// <summary>
      /// Key that identifies this common collection of actions.
      /// </summary>
      [FhirElement("key", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Id? KeyElement
      {
        get
        {
          if(_KeyElement.InOverflow<Hl7.Fhir.Model.Id>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Id), Overflow["key"]);
          return _KeyElement;
        }

        set
        {
          if (_KeyElement.InOverflow<Hl7.Fhir.Model.Id>())
            Overflow.Remove("key");
          _KeyElement = value;
          OnPropertyChanged("KeyElement");
        }

      }

      private Hl7.Fhir.Model.Id? _KeyElement;

      /// <summary>
      /// Key that identifies this common collection of actions
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Key
      {
        get => KeyElement?.Value;
        set
        {
          KeyElement = value is null ? null : new Hl7.Fhir.Model.Id(value);
          OnPropertyChanged("Key");
        }
      }

      /// <summary>
      /// Tracking/logging name of this common collection of actions.
      /// </summary>
      [FhirElement("name", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// Tracking/logging name of this common collection of actions
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Tracking/reporting short description of this common collection of actions.
      /// </summary>
      [FhirElement("description", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// Tracking/reporting short description of this common collection of actions
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// Parameter(s) to convey input values to this common collection of actions in this script.
      /// </summary>
      [FhirElement("parameter", Order=70)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestScript.CommonParameterComponent> Parameter
      {
        get
        {
          if(_Parameter.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonParameterComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.CommonParameterComponent>), Overflow["parameter"]);
          return _Parameter ??= [];
        }

        set
        {
          if (_Parameter.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonParameterComponent>>())
            Overflow.Remove("parameter");
          _Parameter = value;
          OnPropertyChanged("Parameter");
        }

      }

      private List<Hl7.Fhir.Model.TestScript.CommonParameterComponent>? _Parameter;

      /// <summary>
      /// A common operation or assert that can be re-used in this script.
      /// </summary>
      [FhirElement("action", Order=80)]
      [Cardinality(Min=1,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.TestScript.CommonActionComponent> Action
      {
        get
        {
          if(_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonActionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.CommonActionComponent>), Overflow["action"]);
          return _Action ??= [];
        }

        set
        {
          if (_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonActionComponent>>())
            Overflow.Remove("action");
          _Action = value;
          OnPropertyChanged("Action");
        }

      }

      private List<Hl7.Fhir.Model.TestScript.CommonActionComponent>? _Action;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not CommonComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_KeyElement is not null) dest.KeyElement = (Hl7.Fhir.Model.Id)_KeyElement.DeepCopyInternal();
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
        if(_Parameter is not null) dest.Parameter = new List<Hl7.Fhir.Model.TestScript.CommonParameterComponent>(_Parameter.DeepCopyInternal());
        if(_Action is not null) dest.Action = new List<Hl7.Fhir.Model.TestScript.CommonActionComponent>(_Action.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new CommonComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not CommonComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_KeyElement, otherT._KeyElement)) return false;
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.ListEquals(_Parameter, otherT._Parameter)) return false;
        if(!comparer.ListEquals(_Action, otherT._Action)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "key":
            if (_KeyElement.InOverflow<Hl7.Fhir.Model.Id>())
            {
              value = Overflow["key"];
              return true;
            }
            value = _KeyElement;
            return (value as Hl7.Fhir.Model.Id) is not null;
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "parameter":
            if (_Parameter.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonParameterComponent>>())
            {
              value = Overflow["parameter"];
              return true;
            }
            value = _Parameter;
            return (value as List<Hl7.Fhir.Model.TestScript.CommonParameterComponent>)?.Any() is true;
          case "action":
            if (_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonActionComponent>>())
            {
              value = Overflow["action"];
              return true;
            }
            value = _Action;
            return (value as List<Hl7.Fhir.Model.TestScript.CommonActionComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "key":
            if (value is not (Hl7.Fhir.Model.Id or null))
            {
              KeyElement = OverflowNull<Hl7.Fhir.Model.Id>.INSTANCE;
              Overflow["key"] = value;
            }
            else KeyElement = (Hl7.Fhir.Model.Id?)value;
            return this;
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "parameter":
            if (value is not (List<Hl7.Fhir.Model.TestScript.CommonParameterComponent> or null))
            {
              Parameter = OverflowNull<List<Hl7.Fhir.Model.TestScript.CommonParameterComponent>>.INSTANCE;
              Overflow["parameter"] = value;
            }
            else Parameter = (List<Hl7.Fhir.Model.TestScript.CommonParameterComponent>?)value!;
            return this;
          case "action":
            if (value is not (List<Hl7.Fhir.Model.TestScript.CommonActionComponent> or null))
            {
              Action = OverflowNull<List<Hl7.Fhir.Model.TestScript.CommonActionComponent>>.INSTANCE;
              Overflow["action"] = value;
            }
            else Action = (List<Hl7.Fhir.Model.TestScript.CommonActionComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_KeyElement is not null && !_KeyElement.InOverflow<Hl7.Fhir.Model.Id>()) yield return new KeyValuePair<string,object>("key",_KeyElement);
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_Parameter?.Any() is true && !_Parameter.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonParameterComponent>>()) yield return new KeyValuePair<string,object>("parameter",_Parameter);
        if (_Action?.Any() is true && !_Action.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonActionComponent>>()) yield return new KeyValuePair<string,object>("action",_Action);
      }

    }

    /// <summary>
    /// Parameter(s) to convey input values to this common collection of actions in this script
    /// </summary>
    /// <remarks>
    /// Optional named parameter(s) to provide input values to this common collection of actions from this or an external TestScript.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.common.parameter", IsBackboneType=true)]
    public partial class CommonParameterComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.common.parameter";

      /// <summary>
      /// Tracking/logging name of this parameter to be used in this common collection of actions.
      /// </summary>
      [FhirElement("name", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// Tracking/logging name of this parameter to be used in this common collection of actions
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Tracking/reporting short description of this parameter to be used this common collection of actions.
      /// </summary>
      [FhirElement("description", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// Tracking/reporting short description of this parameter to be used this common collection of actions
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not CommonParameterComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new CommonParameterComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not CommonParameterComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      }

    }

    /// <summary>
    /// A common operation or assert that can be re-used in this script
    /// </summary>
    /// <remarks>
    /// An action will contain either an operation or an assertion but not both.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("TestScript.common.action", IsBackboneType=true)]
    public partial class CommonActionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "TestScript.common.action";

      /// <summary>
      /// The common operation that can be re-used in this script.
      /// </summary>
      [FhirElement("operation", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.TestScript.OperationComponent? Operation
      {
        get
        {
          if(_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.OperationComponent), Overflow["operation"]);
          return _Operation;
        }

        set
        {
          if (_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            Overflow.Remove("operation");
          _Operation = value;
          OnPropertyChanged("Operation");
        }

      }

      private Hl7.Fhir.Model.TestScript.OperationComponent? _Operation;

      /// <summary>
      /// The common assertion to perform.
      /// </summary>
      [FhirElement("assert", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.TestScript.AssertComponent? Assert
      {
        get
        {
          if(_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.AssertComponent), Overflow["assert"]);
          return _Assert;
        }

        set
        {
          if (_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>())
            Overflow.Remove("assert");
          _Assert = value;
          OnPropertyChanged("Assert");
        }

      }

      private Hl7.Fhir.Model.TestScript.AssertComponent? _Assert;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not CommonActionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Operation is not null) dest.Operation = (Hl7.Fhir.Model.TestScript.OperationComponent)_Operation.DeepCopyInternal();
        if(_Assert is not null) dest.Assert = (Hl7.Fhir.Model.TestScript.AssertComponent)_Assert.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new CommonActionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not CommonActionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Operation, otherT._Operation)) return false;
        if(!comparer.Equals(_Assert, otherT._Assert)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "operation":
            if (_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>())
            {
              value = Overflow["operation"];
              return true;
            }
            value = _Operation;
            return (value as Hl7.Fhir.Model.TestScript.OperationComponent) is not null;
          case "assert":
            if (_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>())
            {
              value = Overflow["assert"];
              return true;
            }
            value = _Assert;
            return (value as Hl7.Fhir.Model.TestScript.AssertComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "operation":
            if (value is not (Hl7.Fhir.Model.TestScript.OperationComponent or null))
            {
              Operation = OverflowNull<Hl7.Fhir.Model.TestScript.OperationComponent>.INSTANCE;
              Overflow["operation"] = value;
            }
            else Operation = (Hl7.Fhir.Model.TestScript.OperationComponent?)value;
            return this;
          case "assert":
            if (value is not (Hl7.Fhir.Model.TestScript.AssertComponent or null))
            {
              Assert = OverflowNull<Hl7.Fhir.Model.TestScript.AssertComponent>.INSTANCE;
              Overflow["assert"] = value;
            }
            else Assert = (Hl7.Fhir.Model.TestScript.AssertComponent?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Operation is not null && !_Operation.InOverflow<Hl7.Fhir.Model.TestScript.OperationComponent>()) yield return new KeyValuePair<string,object>("operation",_Operation);
        if (_Assert is not null && !_Assert.InOverflow<Hl7.Fhir.Model.TestScript.AssertComponent>()) yield return new KeyValuePair<string,object>("assert",_Assert);
      }

    }

    /// <summary>
    /// Canonical identifier for this test script, represented as a URI (globally unique).
    /// </summary>
    [FhirElement("url", InSummary=true, Order=90, FiveWs="FiveWs.identifier")]
    [DataMember]
    public Hl7.Fhir.Model.FhirUri? UrlElement
    {
      get
      {
        if(_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["url"]);
        return _UrlElement;
      }

      set
      {
        if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
          Overflow.Remove("url");
        _UrlElement = value;
        OnPropertyChanged("UrlElement");
      }

    }

    private Hl7.Fhir.Model.FhirUri? _UrlElement;

    /// <summary>
    /// Canonical identifier for this test script, represented as a URI (globally unique)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Url
    {
      get => UrlElement?.Value;
      set
      {
        UrlElement = value is null ? null : new Hl7.Fhir.Model.FhirUri(value);
        OnPropertyChanged("Url");
      }
    }

    /// <summary>
    /// Additional identifier for the test script.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=100, FiveWs="FiveWs.identifier")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// Business version of the test script.
    /// </summary>
    [FhirElement("version", InSummary=true, Order=110, FiveWs="FiveWs.version")]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? VersionElement
    {
      get
      {
        if(_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["version"]);
        return _VersionElement;
      }

      set
      {
        if (_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("version");
        _VersionElement = value;
        OnPropertyChanged("VersionElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _VersionElement;

    /// <summary>
    /// Business version of the test script
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Version
    {
      get => VersionElement?.Value;
      set
      {
        VersionElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Version");
      }
    }

    /// <summary>
    /// How to compare versions.
    /// </summary>
    [FhirElement("versionAlgorithm", InSummary=true, Order=120, Choice=ChoiceType.DatatypeChoice)]
    [CLSCompliant(false)]
    [AllowedTypes(typeof(Hl7.Fhir.Model.FhirString),typeof(Hl7.Fhir.Model.Coding))]
    [DataMember]
    public Hl7.Fhir.Model.DataType? VersionAlgorithm
    {
      get
      {
        if(_VersionAlgorithm.InOverflow<DynamicDataType>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["versionAlgorithm"]);
        return _VersionAlgorithm;
      }

      set
      {
        if (_VersionAlgorithm.InOverflow<DynamicDataType>())
          Overflow.Remove("versionAlgorithm");
        _VersionAlgorithm = value;
        OnPropertyChanged("VersionAlgorithm");
      }

    }

    private Hl7.Fhir.Model.DataType? _VersionAlgorithm;

    /// <summary>
    /// Name for this test script (computer friendly).
    /// </summary>
    [FhirElement("name", InSummary=true, Order=130)]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? NameElement
    {
      get
      {
        if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
        return _NameElement;
      }

      set
      {
        if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("name");
        _NameElement = value;
        OnPropertyChanged("NameElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _NameElement;

    /// <summary>
    /// Name for this test script (computer friendly)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Name
    {
      get => NameElement?.Value;
      set
      {
        NameElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Name");
      }
    }

    /// <summary>
    /// Name for this test script (human friendly).
    /// </summary>
    [FhirElement("title", InSummary=true, Order=140)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? TitleElement
    {
      get
      {
        if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
        return _TitleElement;
      }

      set
      {
        if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("title");
        _TitleElement = value;
        OnPropertyChanged("TitleElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _TitleElement;

    /// <summary>
    /// Name for this test script (human friendly)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Title
    {
      get => TitleElement?.Value;
      set
      {
        TitleElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Title");
      }
    }

    /// <summary>
    /// draft | active | retired | unknown.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=150, FiveWs="FiveWs.status")]
    [Binding("PublicationStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.PublicationStatus>? StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.PublicationStatus>), Overflow["status"]);
        return _StatusElement;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.PublicationStatus>? _StatusElement;

    /// <summary>
    /// draft | active | retired | unknown
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.PublicationStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null : new Code<Hl7.Fhir.Model.PublicationStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// For testing only - never for real usage.
    /// </summary>
    [FhirElement("experimental", InSummary=true, Order=160, FiveWs="FiveWs.class")]
    [DataMember]
    public Hl7.Fhir.Model.FhirBoolean? ExperimentalElement
    {
      get
      {
        if(_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["experimental"]);
        return _ExperimentalElement;
      }

      set
      {
        if (_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          Overflow.Remove("experimental");
        _ExperimentalElement = value;
        OnPropertyChanged("ExperimentalElement");
      }

    }

    private Hl7.Fhir.Model.FhirBoolean? _ExperimentalElement;

    /// <summary>
    /// For testing only - never for real usage
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public bool? Experimental
    {
      get => ExperimentalElement?.Value;
      set
      {
        ExperimentalElement = value is null ? null : new Hl7.Fhir.Model.FhirBoolean(value);
        OnPropertyChanged("Experimental");
      }
    }

    /// <summary>
    /// Date last changed.
    /// </summary>
    [FhirElement("date", InSummary=true, Order=170, FiveWs="FiveWs.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? DateElement
    {
      get
      {
        if(_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["date"]);
        return _DateElement;
      }

      set
      {
        if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("date");
        _DateElement = value;
        OnPropertyChanged("DateElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _DateElement;

    /// <summary>
    /// Date last changed
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Date
    {
      get => DateElement?.Value;
      set
      {
        DateElement = value is null ? null : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("Date");
      }
    }

    /// <summary>
    /// Name of the publisher/steward (organization or individual).
    /// </summary>
    [FhirElement("publisher", InSummary=true, Order=180, FiveWs="FiveWs.witness")]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? PublisherElement
    {
      get
      {
        if(_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["publisher"]);
        return _PublisherElement;
      }

      set
      {
        if (_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("publisher");
        _PublisherElement = value;
        OnPropertyChanged("PublisherElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _PublisherElement;

    /// <summary>
    /// Name of the publisher/steward (organization or individual)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Publisher
    {
      get => PublisherElement?.Value;
      set
      {
        PublisherElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Publisher");
      }
    }

    /// <summary>
    /// Contact details for the publisher.
    /// </summary>
    [FhirElement("contact", InSummary=true, Order=190)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ContactDetail> Contact
    {
      get
      {
        if(_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ContactDetail>), Overflow["contact"]);
        return _Contact ??= [];
      }

      set
      {
        if (_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>())
          Overflow.Remove("contact");
        _Contact = value;
        OnPropertyChanged("Contact");
      }

    }

    private List<Hl7.Fhir.Model.ContactDetail>? _Contact;

    /// <summary>
    /// Natural language description of the test script.
    /// </summary>
    [FhirElement("description", Order=200)]
    [DataMember]
    public Hl7.Fhir.Model.Markdown? DescriptionElement
    {
      get
      {
        if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
        return _DescriptionElement;
      }

      set
      {
        if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          Overflow.Remove("description");
        _DescriptionElement = value;
        OnPropertyChanged("DescriptionElement");
      }

    }

    private Hl7.Fhir.Model.Markdown? _DescriptionElement;

    /// <summary>
    /// Natural language description of the test script
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Description
    {
      get => DescriptionElement?.Value;
      set
      {
        DescriptionElement = value is null ? null : new Hl7.Fhir.Model.Markdown(value);
        OnPropertyChanged("Description");
      }
    }

    /// <summary>
    /// The context that the content is intended to support.
    /// </summary>
    [FhirElement("useContext", InSummary=true, Order=210)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.UsageContext> UseContext
    {
      get
      {
        if(_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.UsageContext>), Overflow["useContext"]);
        return _UseContext ??= [];
      }

      set
      {
        if (_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>())
          Overflow.Remove("useContext");
        _UseContext = value;
        OnPropertyChanged("UseContext");
      }

    }

    private List<Hl7.Fhir.Model.UsageContext>? _UseContext;

    /// <summary>
    /// Intended jurisdiction for test script (if applicable).
    /// </summary>
    [FhirElement("jurisdiction", InSummary=true, Order=220)]
    [Binding("Jurisdiction")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Jurisdiction
    {
      get
      {
        if(_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["jurisdiction"]);
        return _Jurisdiction ??= [];
      }

      set
      {
        if (_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("jurisdiction");
        _Jurisdiction = value;
        OnPropertyChanged("Jurisdiction");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Jurisdiction;

    /// <summary>
    /// Why this test script is defined.
    /// </summary>
    [FhirElement("purpose", Order=230, FiveWs="FiveWs.why[x]")]
    [DataMember]
    public Hl7.Fhir.Model.Markdown? PurposeElement
    {
      get
      {
        if(_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["purpose"]);
        return _PurposeElement;
      }

      set
      {
        if (_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          Overflow.Remove("purpose");
        _PurposeElement = value;
        OnPropertyChanged("PurposeElement");
      }

    }

    private Hl7.Fhir.Model.Markdown? _PurposeElement;

    /// <summary>
    /// Why this test script is defined
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Purpose
    {
      get => PurposeElement?.Value;
      set
      {
        PurposeElement = value is null ? null : new Hl7.Fhir.Model.Markdown(value);
        OnPropertyChanged("Purpose");
      }
    }

    /// <summary>
    /// Use and/or publishing restrictions.
    /// </summary>
    [FhirElement("copyright", Order=240)]
    [DataMember]
    public Hl7.Fhir.Model.Markdown? CopyrightElement
    {
      get
      {
        if(_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["copyright"]);
        return _CopyrightElement;
      }

      set
      {
        if (_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          Overflow.Remove("copyright");
        _CopyrightElement = value;
        OnPropertyChanged("CopyrightElement");
      }

    }

    private Hl7.Fhir.Model.Markdown? _CopyrightElement;

    /// <summary>
    /// Use and/or publishing restrictions
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Copyright
    {
      get => CopyrightElement?.Value;
      set
      {
        CopyrightElement = value is null ? null : new Hl7.Fhir.Model.Markdown(value);
        OnPropertyChanged("Copyright");
      }
    }

    /// <summary>
    /// Copyright holder and year(s).
    /// </summary>
    [FhirElement("copyrightLabel", Order=250)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? CopyrightLabelElement
    {
      get
      {
        if(_CopyrightLabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["copyrightLabel"]);
        return _CopyrightLabelElement;
      }

      set
      {
        if (_CopyrightLabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("copyrightLabel");
        _CopyrightLabelElement = value;
        OnPropertyChanged("CopyrightLabelElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _CopyrightLabelElement;

    /// <summary>
    /// Copyright holder and year(s)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? CopyrightLabel
    {
      get => CopyrightLabelElement?.Value;
      set
      {
        CopyrightLabelElement = value is null ? null : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("CopyrightLabel");
      }
    }

    /// <summary>
    /// An abstract server representing a client or sender in a message exchange.
    /// </summary>
    [FhirElement("testSystem", Order=260)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.TestScript.TestSystemComponent> TestSystem
    {
      get
      {
        if(_TestSystem.InOverflow<List<Hl7.Fhir.Model.TestScript.TestSystemComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.TestSystemComponent>), Overflow["testSystem"]);
        return _TestSystem ??= [];
      }

      set
      {
        if (_TestSystem.InOverflow<List<Hl7.Fhir.Model.TestScript.TestSystemComponent>>())
          Overflow.Remove("testSystem");
        _TestSystem = value;
        OnPropertyChanged("TestSystem");
      }

    }

    private List<Hl7.Fhir.Model.TestScript.TestSystemComponent>? _TestSystem;

    /// <summary>
    /// Required capability that is assumed to function correctly on the FHIR server being tested.
    /// </summary>
    [FhirElement("metadata", Order=270)]
    [DataMember]
    public Hl7.Fhir.Model.TestScript.MetadataComponent? Metadata
    {
      get
      {
        if(_Metadata.InOverflow<Hl7.Fhir.Model.TestScript.MetadataComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.MetadataComponent), Overflow["metadata"]);
        return _Metadata;
      }

      set
      {
        if (_Metadata.InOverflow<Hl7.Fhir.Model.TestScript.MetadataComponent>())
          Overflow.Remove("metadata");
        _Metadata = value;
        OnPropertyChanged("Metadata");
      }

    }

    private Hl7.Fhir.Model.TestScript.MetadataComponent? _Metadata;

    /// <summary>
    /// Indication of the artifact(s) that are tested by this test case.
    /// </summary>
    [FhirElement("scope", Order=280)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.TestScript.ScopeComponent> Scope
    {
      get
      {
        if(_Scope.InOverflow<List<Hl7.Fhir.Model.TestScript.ScopeComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.ScopeComponent>), Overflow["scope"]);
        return _Scope ??= [];
      }

      set
      {
        if (_Scope.InOverflow<List<Hl7.Fhir.Model.TestScript.ScopeComponent>>())
          Overflow.Remove("scope");
        _Scope = value;
        OnPropertyChanged("Scope");
      }

    }

    private List<Hl7.Fhir.Model.TestScript.ScopeComponent>? _Scope;

    /// <summary>
    /// Fixture in the test script - by reference (uri).
    /// </summary>
    [FhirElement("fixture", Order=290)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.TestScript.FixtureComponent> Fixture
    {
      get
      {
        if(_Fixture.InOverflow<List<Hl7.Fhir.Model.TestScript.FixtureComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.FixtureComponent>), Overflow["fixture"]);
        return _Fixture ??= [];
      }

      set
      {
        if (_Fixture.InOverflow<List<Hl7.Fhir.Model.TestScript.FixtureComponent>>())
          Overflow.Remove("fixture");
        _Fixture = value;
        OnPropertyChanged("Fixture");
      }

    }

    private List<Hl7.Fhir.Model.TestScript.FixtureComponent>? _Fixture;

    /// <summary>
    /// Reference of the validation profile.
    /// </summary>
    [FhirElement("profile", Order=300)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Canonical> ProfileElement
    {
      get
      {
        if(_ProfileElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Canonical>), Overflow["profile"]);
        return _ProfileElement ??= [];
      }

      set
      {
        if (_ProfileElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
          Overflow.Remove("profile");
        _ProfileElement = value;
        OnPropertyChanged("ProfileElement");
      }

    }

    private List<Hl7.Fhir.Model.Canonical>? _ProfileElement;

    /// <summary>
    /// Reference of the validation profile
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public IEnumerable<string?> Profile
    {
      get => _ProfileElement?.Select(elem => elem.Value) ?? [];
      set
      {
        if (value == null)
          ProfileElement = null!;
        else
          ProfileElement = new List<Hl7.Fhir.Model.Canonical>(value.Select(elem=>new Hl7.Fhir.Model.Canonical(elem)));
        OnPropertyChanged("Profile");
      }
    }

    /// <summary>
    /// Placeholder for evaluated elements.
    /// </summary>
    [FhirElement("variable", Order=310)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.TestScript.VariableComponent> Variable
    {
      get
      {
        if(_Variable.InOverflow<List<Hl7.Fhir.Model.TestScript.VariableComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.VariableComponent>), Overflow["variable"]);
        return _Variable ??= [];
      }

      set
      {
        if (_Variable.InOverflow<List<Hl7.Fhir.Model.TestScript.VariableComponent>>())
          Overflow.Remove("variable");
        _Variable = value;
        OnPropertyChanged("Variable");
      }

    }

    private List<Hl7.Fhir.Model.TestScript.VariableComponent>? _Variable;

    /// <summary>
    /// A series of required setup operations before tests are executed.
    /// </summary>
    [FhirElement("setup", Order=320)]
    [DataMember]
    public Hl7.Fhir.Model.TestScript.SetupComponent? Setup
    {
      get
      {
        if(_Setup.InOverflow<Hl7.Fhir.Model.TestScript.SetupComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.SetupComponent), Overflow["setup"]);
        return _Setup;
      }

      set
      {
        if (_Setup.InOverflow<Hl7.Fhir.Model.TestScript.SetupComponent>())
          Overflow.Remove("setup");
        _Setup = value;
        OnPropertyChanged("Setup");
      }

    }

    private Hl7.Fhir.Model.TestScript.SetupComponent? _Setup;

    /// <summary>
    /// A test in this script.
    /// </summary>
    [FhirElement("test", Order=330)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.TestScript.TestComponent> Test
    {
      get
      {
        if(_Test.InOverflow<List<Hl7.Fhir.Model.TestScript.TestComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.TestComponent>), Overflow["test"]);
        return _Test ??= [];
      }

      set
      {
        if (_Test.InOverflow<List<Hl7.Fhir.Model.TestScript.TestComponent>>())
          Overflow.Remove("test");
        _Test = value;
        OnPropertyChanged("Test");
      }

    }

    private List<Hl7.Fhir.Model.TestScript.TestComponent>? _Test;

    /// <summary>
    /// A series of required clean up steps.
    /// </summary>
    [FhirElement("teardown", Order=340)]
    [DataMember]
    public Hl7.Fhir.Model.TestScript.TeardownComponent? Teardown
    {
      get
      {
        if(_Teardown.InOverflow<Hl7.Fhir.Model.TestScript.TeardownComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.TestScript.TeardownComponent), Overflow["teardown"]);
        return _Teardown;
      }

      set
      {
        if (_Teardown.InOverflow<Hl7.Fhir.Model.TestScript.TeardownComponent>())
          Overflow.Remove("teardown");
        _Teardown = value;
        OnPropertyChanged("Teardown");
      }

    }

    private Hl7.Fhir.Model.TestScript.TeardownComponent? _Teardown;

    /// <summary>
    /// A common collection of actions in this script.
    /// </summary>
    [FhirElement("common", Order=350)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.TestScript.CommonComponent> Common
    {
      get
      {
        if(_Common.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.TestScript.CommonComponent>), Overflow["common"]);
        return _Common ??= [];
      }

      set
      {
        if (_Common.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonComponent>>())
          Overflow.Remove("common");
        _Common = value;
        OnPropertyChanged("Common");
      }

    }

    private List<Hl7.Fhir.Model.TestScript.CommonComponent>? _Common;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not TestScript dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_UrlElement is not null) dest.UrlElement = (Hl7.Fhir.Model.FhirUri)_UrlElement.DeepCopyInternal();
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_VersionElement is not null) dest.VersionElement = (Hl7.Fhir.Model.FhirString)_VersionElement.DeepCopyInternal();
      if(_VersionAlgorithm is not null) dest.VersionAlgorithm = (Hl7.Fhir.Model.DataType)_VersionAlgorithm.DeepCopyInternal();
      if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
      if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.PublicationStatus>)_StatusElement.DeepCopyInternal();
      if(_ExperimentalElement is not null) dest.ExperimentalElement = (Hl7.Fhir.Model.FhirBoolean)_ExperimentalElement.DeepCopyInternal();
      if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.FhirDateTime)_DateElement.DeepCopyInternal();
      if(_PublisherElement is not null) dest.PublisherElement = (Hl7.Fhir.Model.FhirString)_PublisherElement.DeepCopyInternal();
      if(_Contact is not null) dest.Contact = new List<Hl7.Fhir.Model.ContactDetail>(_Contact.DeepCopyInternal());
      if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
      if(_UseContext is not null) dest.UseContext = new List<Hl7.Fhir.Model.UsageContext>(_UseContext.DeepCopyInternal());
      if(_Jurisdiction is not null) dest.Jurisdiction = new List<Hl7.Fhir.Model.CodeableConcept>(_Jurisdiction.DeepCopyInternal());
      if(_PurposeElement is not null) dest.PurposeElement = (Hl7.Fhir.Model.Markdown)_PurposeElement.DeepCopyInternal();
      if(_CopyrightElement is not null) dest.CopyrightElement = (Hl7.Fhir.Model.Markdown)_CopyrightElement.DeepCopyInternal();
      if(_CopyrightLabelElement is not null) dest.CopyrightLabelElement = (Hl7.Fhir.Model.FhirString)_CopyrightLabelElement.DeepCopyInternal();
      if(_TestSystem is not null) dest.TestSystem = new List<Hl7.Fhir.Model.TestScript.TestSystemComponent>(_TestSystem.DeepCopyInternal());
      if(_Metadata is not null) dest.Metadata = (Hl7.Fhir.Model.TestScript.MetadataComponent)_Metadata.DeepCopyInternal();
      if(_Scope is not null) dest.Scope = new List<Hl7.Fhir.Model.TestScript.ScopeComponent>(_Scope.DeepCopyInternal());
      if(_Fixture is not null) dest.Fixture = new List<Hl7.Fhir.Model.TestScript.FixtureComponent>(_Fixture.DeepCopyInternal());
      if(_ProfileElement is not null) dest.ProfileElement = new List<Hl7.Fhir.Model.Canonical>(_ProfileElement.DeepCopyInternal());
      if(_Variable is not null) dest.Variable = new List<Hl7.Fhir.Model.TestScript.VariableComponent>(_Variable.DeepCopyInternal());
      if(_Setup is not null) dest.Setup = (Hl7.Fhir.Model.TestScript.SetupComponent)_Setup.DeepCopyInternal();
      if(_Test is not null) dest.Test = new List<Hl7.Fhir.Model.TestScript.TestComponent>(_Test.DeepCopyInternal());
      if(_Teardown is not null) dest.Teardown = (Hl7.Fhir.Model.TestScript.TeardownComponent)_Teardown.DeepCopyInternal();
      if(_Common is not null) dest.Common = new List<Hl7.Fhir.Model.TestScript.CommonComponent>(_Common.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new TestScript();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not TestScript otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.Equals(_UrlElement, otherT._UrlElement)) return false;
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_VersionElement, otherT._VersionElement)) return false;
      if(!comparer.Equals(_VersionAlgorithm, otherT._VersionAlgorithm)) return false;
      if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
      if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_ExperimentalElement, otherT._ExperimentalElement)) return false;
      if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
      if(!comparer.Equals(_PublisherElement, otherT._PublisherElement)) return false;
      if(!comparer.ListEquals(_Contact, otherT._Contact)) return false;
      if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
      if(!comparer.ListEquals(_UseContext, otherT._UseContext)) return false;
      if(!comparer.ListEquals(_Jurisdiction, otherT._Jurisdiction)) return false;
      if(!comparer.Equals(_PurposeElement, otherT._PurposeElement)) return false;
      if(!comparer.Equals(_CopyrightElement, otherT._CopyrightElement)) return false;
      if(!comparer.Equals(_CopyrightLabelElement, otherT._CopyrightLabelElement)) return false;
      if(!comparer.ListEquals(_TestSystem, otherT._TestSystem)) return false;
      if(!comparer.Equals(_Metadata, otherT._Metadata)) return false;
      if(!comparer.ListEquals(_Scope, otherT._Scope)) return false;
      if(!comparer.ListEquals(_Fixture, otherT._Fixture)) return false;
      if(!comparer.ListEquals(_ProfileElement, otherT._ProfileElement)) return false;
      if(!comparer.ListEquals(_Variable, otherT._Variable)) return false;
      if(!comparer.Equals(_Setup, otherT._Setup)) return false;
      if(!comparer.ListEquals(_Test, otherT._Test)) return false;
      if(!comparer.Equals(_Teardown, otherT._Teardown)) return false;
      if(!comparer.ListEquals(_Common, otherT._Common)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "url":
          if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
          {
            value = Overflow["url"];
            return true;
          }
          value = _UrlElement;
          return (value as Hl7.Fhir.Model.FhirUri) is not null;
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "version":
          if (_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["version"];
            return true;
          }
          value = _VersionElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "versionAlgorithm":
          if (_VersionAlgorithm.InOverflow<DynamicDataType>())
          {
            value = Overflow["versionAlgorithm"];
            return true;
          }
          value = _VersionAlgorithm;
          return (value as Hl7.Fhir.Model.DataType) is not null;
        case "name":
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["name"];
            return true;
          }
          value = _NameElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "title":
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["title"];
            return true;
          }
          value = _TitleElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.PublicationStatus>) is not null;
        case "experimental":
          if (_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          {
            value = Overflow["experimental"];
            return true;
          }
          value = _ExperimentalElement;
          return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
        case "date":
          if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["date"];
            return true;
          }
          value = _DateElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "publisher":
          if (_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["publisher"];
            return true;
          }
          value = _PublisherElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "contact":
          if (_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>())
          {
            value = Overflow["contact"];
            return true;
          }
          value = _Contact;
          return (value as List<Hl7.Fhir.Model.ContactDetail>)?.Any() is true;
        case "description":
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          {
            value = Overflow["description"];
            return true;
          }
          value = _DescriptionElement;
          return (value as Hl7.Fhir.Model.Markdown) is not null;
        case "useContext":
          if (_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>())
          {
            value = Overflow["useContext"];
            return true;
          }
          value = _UseContext;
          return (value as List<Hl7.Fhir.Model.UsageContext>)?.Any() is true;
        case "jurisdiction":
          if (_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["jurisdiction"];
            return true;
          }
          value = _Jurisdiction;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "purpose":
          if (_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          {
            value = Overflow["purpose"];
            return true;
          }
          value = _PurposeElement;
          return (value as Hl7.Fhir.Model.Markdown) is not null;
        case "copyright":
          if (_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          {
            value = Overflow["copyright"];
            return true;
          }
          value = _CopyrightElement;
          return (value as Hl7.Fhir.Model.Markdown) is not null;
        case "copyrightLabel":
          if (_CopyrightLabelElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["copyrightLabel"];
            return true;
          }
          value = _CopyrightLabelElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "testSystem":
          if (_TestSystem.InOverflow<List<Hl7.Fhir.Model.TestScript.TestSystemComponent>>())
          {
            value = Overflow["testSystem"];
            return true;
          }
          value = _TestSystem;
          return (value as List<Hl7.Fhir.Model.TestScript.TestSystemComponent>)?.Any() is true;
        case "metadata":
          if (_Metadata.InOverflow<Hl7.Fhir.Model.TestScript.MetadataComponent>())
          {
            value = Overflow["metadata"];
            return true;
          }
          value = _Metadata;
          return (value as Hl7.Fhir.Model.TestScript.MetadataComponent) is not null;
        case "scope":
          if (_Scope.InOverflow<List<Hl7.Fhir.Model.TestScript.ScopeComponent>>())
          {
            value = Overflow["scope"];
            return true;
          }
          value = _Scope;
          return (value as List<Hl7.Fhir.Model.TestScript.ScopeComponent>)?.Any() is true;
        case "fixture":
          if (_Fixture.InOverflow<List<Hl7.Fhir.Model.TestScript.FixtureComponent>>())
          {
            value = Overflow["fixture"];
            return true;
          }
          value = _Fixture;
          return (value as List<Hl7.Fhir.Model.TestScript.FixtureComponent>)?.Any() is true;
        case "profile":
          if (_ProfileElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
          {
            value = Overflow["profile"];
            return true;
          }
          value = _ProfileElement;
          return (value as List<Hl7.Fhir.Model.Canonical>)?.Any() is true;
        case "variable":
          if (_Variable.InOverflow<List<Hl7.Fhir.Model.TestScript.VariableComponent>>())
          {
            value = Overflow["variable"];
            return true;
          }
          value = _Variable;
          return (value as List<Hl7.Fhir.Model.TestScript.VariableComponent>)?.Any() is true;
        case "setup":
          if (_Setup.InOverflow<Hl7.Fhir.Model.TestScript.SetupComponent>())
          {
            value = Overflow["setup"];
            return true;
          }
          value = _Setup;
          return (value as Hl7.Fhir.Model.TestScript.SetupComponent) is not null;
        case "test":
          if (_Test.InOverflow<List<Hl7.Fhir.Model.TestScript.TestComponent>>())
          {
            value = Overflow["test"];
            return true;
          }
          value = _Test;
          return (value as List<Hl7.Fhir.Model.TestScript.TestComponent>)?.Any() is true;
        case "teardown":
          if (_Teardown.InOverflow<Hl7.Fhir.Model.TestScript.TeardownComponent>())
          {
            value = Overflow["teardown"];
            return true;
          }
          value = _Teardown;
          return (value as Hl7.Fhir.Model.TestScript.TeardownComponent) is not null;
        case "common":
          if (_Common.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonComponent>>())
          {
            value = Overflow["common"];
            return true;
          }
          value = _Common;
          return (value as List<Hl7.Fhir.Model.TestScript.CommonComponent>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "url":
          if (value is not (Hl7.Fhir.Model.FhirUri or null))
          {
            UrlElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
            Overflow["url"] = value;
          }
          else UrlElement = (Hl7.Fhir.Model.FhirUri?)value;
          return this;
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "version":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            VersionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["version"] = value;
          }
          else VersionElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "versionAlgorithm":
          if (value is not (Hl7.Fhir.Model.DataType or null))
          {
            VersionAlgorithm = OverflowNull<DynamicDataType>.INSTANCE;
            Overflow["versionAlgorithm"] = value;
          }
          else VersionAlgorithm = (Hl7.Fhir.Model.DataType?)value;
          return this;
        case "name":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["name"] = value;
          }
          else NameElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "title":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["title"] = value;
          }
          else TitleElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.PublicationStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.PublicationStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.PublicationStatus>?)value;
          return this;
        case "experimental":
          if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
          {
            ExperimentalElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
            Overflow["experimental"] = value;
          }
          else ExperimentalElement = (Hl7.Fhir.Model.FhirBoolean?)value;
          return this;
        case "date":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            DateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["date"] = value;
          }
          else DateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "publisher":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            PublisherElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["publisher"] = value;
          }
          else PublisherElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "contact":
          if (value is not (List<Hl7.Fhir.Model.ContactDetail> or null))
          {
            Contact = OverflowNull<List<Hl7.Fhir.Model.ContactDetail>>.INSTANCE;
            Overflow["contact"] = value;
          }
          else Contact = (List<Hl7.Fhir.Model.ContactDetail>?)value!;
          return this;
        case "description":
          if (value is not (Hl7.Fhir.Model.Markdown or null))
          {
            DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
            Overflow["description"] = value;
          }
          else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
          return this;
        case "useContext":
          if (value is not (List<Hl7.Fhir.Model.UsageContext> or null))
          {
            UseContext = OverflowNull<List<Hl7.Fhir.Model.UsageContext>>.INSTANCE;
            Overflow["useContext"] = value;
          }
          else UseContext = (List<Hl7.Fhir.Model.UsageContext>?)value!;
          return this;
        case "jurisdiction":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Jurisdiction = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["jurisdiction"] = value;
          }
          else Jurisdiction = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "purpose":
          if (value is not (Hl7.Fhir.Model.Markdown or null))
          {
            PurposeElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
            Overflow["purpose"] = value;
          }
          else PurposeElement = (Hl7.Fhir.Model.Markdown?)value;
          return this;
        case "copyright":
          if (value is not (Hl7.Fhir.Model.Markdown or null))
          {
            CopyrightElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
            Overflow["copyright"] = value;
          }
          else CopyrightElement = (Hl7.Fhir.Model.Markdown?)value;
          return this;
        case "copyrightLabel":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            CopyrightLabelElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["copyrightLabel"] = value;
          }
          else CopyrightLabelElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "testSystem":
          if (value is not (List<Hl7.Fhir.Model.TestScript.TestSystemComponent> or null))
          {
            TestSystem = OverflowNull<List<Hl7.Fhir.Model.TestScript.TestSystemComponent>>.INSTANCE;
            Overflow["testSystem"] = value;
          }
          else TestSystem = (List<Hl7.Fhir.Model.TestScript.TestSystemComponent>?)value!;
          return this;
        case "metadata":
          if (value is not (Hl7.Fhir.Model.TestScript.MetadataComponent or null))
          {
            Metadata = OverflowNull<Hl7.Fhir.Model.TestScript.MetadataComponent>.INSTANCE;
            Overflow["metadata"] = value;
          }
          else Metadata = (Hl7.Fhir.Model.TestScript.MetadataComponent?)value;
          return this;
        case "scope":
          if (value is not (List<Hl7.Fhir.Model.TestScript.ScopeComponent> or null))
          {
            Scope = OverflowNull<List<Hl7.Fhir.Model.TestScript.ScopeComponent>>.INSTANCE;
            Overflow["scope"] = value;
          }
          else Scope = (List<Hl7.Fhir.Model.TestScript.ScopeComponent>?)value!;
          return this;
        case "fixture":
          if (value is not (List<Hl7.Fhir.Model.TestScript.FixtureComponent> or null))
          {
            Fixture = OverflowNull<List<Hl7.Fhir.Model.TestScript.FixtureComponent>>.INSTANCE;
            Overflow["fixture"] = value;
          }
          else Fixture = (List<Hl7.Fhir.Model.TestScript.FixtureComponent>?)value!;
          return this;
        case "profile":
          if (value is not (List<Hl7.Fhir.Model.Canonical> or null))
          {
            ProfileElement = OverflowNull<List<Hl7.Fhir.Model.Canonical>>.INSTANCE;
            Overflow["profile"] = value;
          }
          else ProfileElement = (List<Hl7.Fhir.Model.Canonical>?)value!;
          return this;
        case "variable":
          if (value is not (List<Hl7.Fhir.Model.TestScript.VariableComponent> or null))
          {
            Variable = OverflowNull<List<Hl7.Fhir.Model.TestScript.VariableComponent>>.INSTANCE;
            Overflow["variable"] = value;
          }
          else Variable = (List<Hl7.Fhir.Model.TestScript.VariableComponent>?)value!;
          return this;
        case "setup":
          if (value is not (Hl7.Fhir.Model.TestScript.SetupComponent or null))
          {
            Setup = OverflowNull<Hl7.Fhir.Model.TestScript.SetupComponent>.INSTANCE;
            Overflow["setup"] = value;
          }
          else Setup = (Hl7.Fhir.Model.TestScript.SetupComponent?)value;
          return this;
        case "test":
          if (value is not (List<Hl7.Fhir.Model.TestScript.TestComponent> or null))
          {
            Test = OverflowNull<List<Hl7.Fhir.Model.TestScript.TestComponent>>.INSTANCE;
            Overflow["test"] = value;
          }
          else Test = (List<Hl7.Fhir.Model.TestScript.TestComponent>?)value!;
          return this;
        case "teardown":
          if (value is not (Hl7.Fhir.Model.TestScript.TeardownComponent or null))
          {
            Teardown = OverflowNull<Hl7.Fhir.Model.TestScript.TeardownComponent>.INSTANCE;
            Overflow["teardown"] = value;
          }
          else Teardown = (Hl7.Fhir.Model.TestScript.TeardownComponent?)value;
          return this;
        case "common":
          if (value is not (List<Hl7.Fhir.Model.TestScript.CommonComponent> or null))
          {
            Common = OverflowNull<List<Hl7.Fhir.Model.TestScript.CommonComponent>>.INSTANCE;
            Overflow["common"] = value;
          }
          else Common = (List<Hl7.Fhir.Model.TestScript.CommonComponent>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_UrlElement is not null && !_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("url",_UrlElement);
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_VersionElement is not null && !_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("version",_VersionElement);
      if (_VersionAlgorithm is not null && !_VersionAlgorithm.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("versionAlgorithm",_VersionAlgorithm);
      if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
      if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_ExperimentalElement is not null && !_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("experimental",_ExperimentalElement);
      if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("date",_DateElement);
      if (_PublisherElement is not null && !_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("publisher",_PublisherElement);
      if (_Contact?.Any() is true && !_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>()) yield return new KeyValuePair<string,object>("contact",_Contact);
      if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      if (_UseContext?.Any() is true && !_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>()) yield return new KeyValuePair<string,object>("useContext",_UseContext);
      if (_Jurisdiction?.Any() is true && !_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("jurisdiction",_Jurisdiction);
      if (_PurposeElement is not null && !_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("purpose",_PurposeElement);
      if (_CopyrightElement is not null && !_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("copyright",_CopyrightElement);
      if (_CopyrightLabelElement is not null && !_CopyrightLabelElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("copyrightLabel",_CopyrightLabelElement);
      if (_TestSystem?.Any() is true && !_TestSystem.InOverflow<List<Hl7.Fhir.Model.TestScript.TestSystemComponent>>()) yield return new KeyValuePair<string,object>("testSystem",_TestSystem);
      if (_Metadata is not null && !_Metadata.InOverflow<Hl7.Fhir.Model.TestScript.MetadataComponent>()) yield return new KeyValuePair<string,object>("metadata",_Metadata);
      if (_Scope?.Any() is true && !_Scope.InOverflow<List<Hl7.Fhir.Model.TestScript.ScopeComponent>>()) yield return new KeyValuePair<string,object>("scope",_Scope);
      if (_Fixture?.Any() is true && !_Fixture.InOverflow<List<Hl7.Fhir.Model.TestScript.FixtureComponent>>()) yield return new KeyValuePair<string,object>("fixture",_Fixture);
      if (_ProfileElement?.Any() is true && !_ProfileElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>()) yield return new KeyValuePair<string,object>("profile",_ProfileElement);
      if (_Variable?.Any() is true && !_Variable.InOverflow<List<Hl7.Fhir.Model.TestScript.VariableComponent>>()) yield return new KeyValuePair<string,object>("variable",_Variable);
      if (_Setup is not null && !_Setup.InOverflow<Hl7.Fhir.Model.TestScript.SetupComponent>()) yield return new KeyValuePair<string,object>("setup",_Setup);
      if (_Test?.Any() is true && !_Test.InOverflow<List<Hl7.Fhir.Model.TestScript.TestComponent>>()) yield return new KeyValuePair<string,object>("test",_Test);
      if (_Teardown is not null && !_Teardown.InOverflow<Hl7.Fhir.Model.TestScript.TeardownComponent>()) yield return new KeyValuePair<string,object>("teardown",_Teardown);
      if (_Common?.Any() is true && !_Common.InOverflow<List<Hl7.Fhir.Model.TestScript.CommonComponent>>()) yield return new KeyValuePair<string,object>("common",_Common);
    }

  }

}

// end of file
