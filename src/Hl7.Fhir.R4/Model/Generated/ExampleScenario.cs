// <auto-generated/>
// Contents of: hl7.fhir.r4.expansions@4.0.1, hl7.fhir.r4.core@4.0.1

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// Example of workflow instance
  /// </summary>
  [Serializable]
  [DataContract]
  [FhirType("ExampleScenario","http://hl7.org/fhir/StructureDefinition/ExampleScenario")]
  public partial class ExampleScenario : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "ExampleScenario";

    /// <summary>
    /// The type of actor - system or human.
    /// (url: http://hl7.org/fhir/ValueSet/examplescenario-actor-type)
    /// (system: http://hl7.org/fhir/examplescenario-actor-type)
    /// </summary>
    [FhirEnumeration("ExampleScenarioActorType", "http://hl7.org/fhir/ValueSet/examplescenario-actor-type", "http://hl7.org/fhir/examplescenario-actor-type")]
    public enum ExampleScenarioActorType
    {
      /// <summary>
      /// A person.
      /// (system: http://hl7.org/fhir/examplescenario-actor-type)
      /// </summary>
      [EnumLiteral("person"), Description("Person")]
      Person,
      /// <summary>
      /// A system.
      /// (system: http://hl7.org/fhir/examplescenario-actor-type)
      /// </summary>
      [EnumLiteral("entity"), Description("System")]
      Entity,
    }

    /// <summary>
    /// Actor participating in the resource
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.actor", IsBackboneType=true)]
    public partial class ActorComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.actor";

      /// <summary>
      /// ID or acronym of the actor.
      /// </summary>
      [FhirElement("actorId", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString ActorIdElement
      {
        get
        {
          if(_ActorIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["actorId"]);
          return _ActorIdElement!;
        }

        set
        {
          if (_ActorIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("actorId");
          _ActorIdElement = value;
          OnPropertyChanged("ActorIdElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ActorIdElement;

      /// <summary>
      /// ID or acronym of the actor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? ActorId
      {
        get => ActorIdElement?.Value;
        set
        {
          ActorIdElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("ActorId");
        }
      }

      /// <summary>
      /// person | entity.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("ExampleScenarioActorType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType> TypeElement
      {
        get
        {
          if(_TypeElement.InOverflow<Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>), Overflow["type"]);
          return _TypeElement!;
        }

        set
        {
          if (_TypeElement.InOverflow<Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>>())
            Overflow.Remove("type");
          _TypeElement = value;
          OnPropertyChanged("TypeElement");
        }

      }

      private Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>? _TypeElement;

      /// <summary>
      /// person | entity
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType? Type
      {
        get => TypeElement?.Value;
        set
        {
          TypeElement = value is null ? null! : new Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>(value);
          OnPropertyChanged("Type");
        }
      }

      /// <summary>
      /// The name of the actor as shown in the page.
      /// </summary>
      [FhirElement("name", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// The name of the actor as shown in the page
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// The description of the actor.
      /// </summary>
      [FhirElement("description", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// The description of the actor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ActorComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_ActorIdElement is not null) dest.ActorIdElement = (Hl7.Fhir.Model.FhirString)_ActorIdElement.DeepCopyInternal();
        if(_TypeElement is not null) dest.TypeElement = (Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>)_TypeElement.DeepCopyInternal();
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ActorComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ActorComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_ActorIdElement, otherT._ActorIdElement)) return false;
        if(!comparer.Equals(_TypeElement, otherT._TypeElement)) return false;
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "actorId":
            if (_ActorIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["actorId"];
              return true;
            }
            value = _ActorIdElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "type":
            if (_TypeElement.InOverflow<Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _TypeElement;
            return (value as Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>) is not null;
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "actorId":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ActorIdElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["actorId"] = value;
            }
            else ActorIdElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "type":
            if (value is not (Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType> or null))
            {
              TypeElement = OverflowNull<Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>>.INSTANCE;
              Overflow["type"] = value;
            }
            else TypeElement = (Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>?)value!;
            return this;
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_ActorIdElement is not null && !_ActorIdElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("actorId",_ActorIdElement);
        if (_TypeElement is not null && !_TypeElement.InOverflow<Code<Hl7.Fhir.Model.ExampleScenario.ExampleScenarioActorType>>()) yield return new KeyValuePair<string,object>("type",_TypeElement);
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      }

    }

    /// <summary>
    /// Each resource and each version that is present in the workflow
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.instance", IsBackboneType=true)]
    public partial class InstanceComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.instance";

      /// <summary>
      /// The id of the resource for referencing.
      /// </summary>
      [FhirElement("resourceId", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString ResourceIdElement
      {
        get
        {
          if(_ResourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["resourceId"]);
          return _ResourceIdElement!;
        }

        set
        {
          if (_ResourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("resourceId");
          _ResourceIdElement = value;
          OnPropertyChanged("ResourceIdElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ResourceIdElement;

      /// <summary>
      /// The id of the resource for referencing
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? ResourceId
      {
        get => ResourceIdElement?.Value;
        set
        {
          ResourceIdElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("ResourceId");
        }
      }

      /// <summary>
      /// The type of the resource.
      /// </summary>
      [FhirElement("resourceType", Order=50)]
      [Binding("FHIRResourceType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.ResourceType> ResourceTypeElement
      {
        get
        {
          if(_ResourceTypeElement.InOverflow<Code<Hl7.Fhir.Model.ResourceType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ResourceType>), Overflow["resourceType"]);
          return _ResourceTypeElement!;
        }

        set
        {
          if (_ResourceTypeElement.InOverflow<Code<Hl7.Fhir.Model.ResourceType>>())
            Overflow.Remove("resourceType");
          _ResourceTypeElement = value;
          OnPropertyChanged("ResourceTypeElement");
        }

      }

      private Code<Hl7.Fhir.Model.ResourceType>? _ResourceTypeElement;

      /// <summary>
      /// The type of the resource
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.ResourceType? ResourceType
      {
        get => ResourceTypeElement?.Value;
        set
        {
          ResourceTypeElement = value is null ? null! : new Code<Hl7.Fhir.Model.ResourceType>(value);
          OnPropertyChanged("ResourceType");
        }
      }

      /// <summary>
      /// A short name for the resource instance.
      /// </summary>
      [FhirElement("name", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// A short name for the resource instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Human-friendly description of the resource instance.
      /// </summary>
      [FhirElement("description", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// Human-friendly description of the resource instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// A specific version of the resource.
      /// </summary>
      [FhirElement("version", Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.VersionComponent> Version
      {
        get
        {
          if(_Version.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>), Overflow["version"]);
          return _Version ??= [];
        }

        set
        {
          if (_Version.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>>())
            Overflow.Remove("version");
          _Version = value;
          OnPropertyChanged("Version");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>? _Version;

      /// <summary>
      /// Resources contained in the instance.
      /// </summary>
      [FhirElement("containedInstance", Order=90)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent> ContainedInstance
      {
        get
        {
          if(_ContainedInstance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>), Overflow["containedInstance"]);
          return _ContainedInstance ??= [];
        }

        set
        {
          if (_ContainedInstance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>>())
            Overflow.Remove("containedInstance");
          _ContainedInstance = value;
          OnPropertyChanged("ContainedInstance");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>? _ContainedInstance;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not InstanceComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_ResourceIdElement is not null) dest.ResourceIdElement = (Hl7.Fhir.Model.FhirString)_ResourceIdElement.DeepCopyInternal();
        if(_ResourceTypeElement is not null) dest.ResourceTypeElement = (Code<Hl7.Fhir.Model.ResourceType>)_ResourceTypeElement.DeepCopyInternal();
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
        if(_Version is not null) dest.Version = new List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>(_Version.DeepCopyInternal());
        if(_ContainedInstance is not null) dest.ContainedInstance = new List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>(_ContainedInstance.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new InstanceComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not InstanceComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_ResourceIdElement, otherT._ResourceIdElement)) return false;
        if(!comparer.Equals(_ResourceTypeElement, otherT._ResourceTypeElement)) return false;
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.ListEquals(_Version, otherT._Version)) return false;
        if(!comparer.ListEquals(_ContainedInstance, otherT._ContainedInstance)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "resourceId":
            if (_ResourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["resourceId"];
              return true;
            }
            value = _ResourceIdElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "resourceType":
            if (_ResourceTypeElement.InOverflow<Code<Hl7.Fhir.Model.ResourceType>>())
            {
              value = Overflow["resourceType"];
              return true;
            }
            value = _ResourceTypeElement;
            return (value as Code<Hl7.Fhir.Model.ResourceType>) is not null;
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "version":
            if (_Version.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>>())
            {
              value = Overflow["version"];
              return true;
            }
            value = _Version;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>)?.Any() is true;
          case "containedInstance":
            if (_ContainedInstance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>>())
            {
              value = Overflow["containedInstance"];
              return true;
            }
            value = _ContainedInstance;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "resourceId":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ResourceIdElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["resourceId"] = value;
            }
            else ResourceIdElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "resourceType":
            if (value is not (Code<Hl7.Fhir.Model.ResourceType> or null))
            {
              ResourceTypeElement = OverflowNull<Code<Hl7.Fhir.Model.ResourceType>>.INSTANCE;
              Overflow["resourceType"] = value;
            }
            else ResourceTypeElement = (Code<Hl7.Fhir.Model.ResourceType>?)value!;
            return this;
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "version":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.VersionComponent> or null))
            {
              Version = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>>.INSTANCE;
              Overflow["version"] = value;
            }
            else Version = (List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>?)value!;
            return this;
          case "containedInstance":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent> or null))
            {
              ContainedInstance = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>>.INSTANCE;
              Overflow["containedInstance"] = value;
            }
            else ContainedInstance = (List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_ResourceIdElement is not null && !_ResourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("resourceId",_ResourceIdElement);
        if (_ResourceTypeElement is not null && !_ResourceTypeElement.InOverflow<Code<Hl7.Fhir.Model.ResourceType>>()) yield return new KeyValuePair<string,object>("resourceType",_ResourceTypeElement);
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_Version?.Any() is true && !_Version.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.VersionComponent>>()) yield return new KeyValuePair<string,object>("version",_Version);
        if (_ContainedInstance?.Any() is true && !_ContainedInstance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>>()) yield return new KeyValuePair<string,object>("containedInstance",_ContainedInstance);
      }

    }

    /// <summary>
    /// A specific version of the resource
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.instance.version", IsBackboneType=true)]
    public partial class VersionComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.instance.version";

      /// <summary>
      /// The identifier of a specific version of a resource.
      /// </summary>
      [FhirElement("versionId", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString VersionIdElement
      {
        get
        {
          if(_VersionIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["versionId"]);
          return _VersionIdElement!;
        }

        set
        {
          if (_VersionIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("versionId");
          _VersionIdElement = value;
          OnPropertyChanged("VersionIdElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _VersionIdElement;

      /// <summary>
      /// The identifier of a specific version of a resource
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? VersionId
      {
        get => VersionIdElement?.Value;
        set
        {
          VersionIdElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("VersionId");
        }
      }

      /// <summary>
      /// The description of the resource version.
      /// </summary>
      [FhirElement("description", Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement!;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// The description of the resource version
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not VersionComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_VersionIdElement is not null) dest.VersionIdElement = (Hl7.Fhir.Model.FhirString)_VersionIdElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new VersionComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not VersionComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_VersionIdElement, otherT._VersionIdElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "versionId":
            if (_VersionIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["versionId"];
              return true;
            }
            value = _VersionIdElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "versionId":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              VersionIdElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["versionId"] = value;
            }
            else VersionIdElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_VersionIdElement is not null && !_VersionIdElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("versionId",_VersionIdElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      }

    }

    /// <summary>
    /// Resources contained in the instance
    /// </summary>
    /// <remarks>
    /// Resources contained in the instance (e.g. the observations contained in a bundle).
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.instance.containedInstance", IsBackboneType=true)]
    public partial class ContainedInstanceComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.instance.containedInstance";

      /// <summary>
      /// Each resource contained in the instance.
      /// </summary>
      [FhirElement("resourceId", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString ResourceIdElement
      {
        get
        {
          if(_ResourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["resourceId"]);
          return _ResourceIdElement!;
        }

        set
        {
          if (_ResourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("resourceId");
          _ResourceIdElement = value;
          OnPropertyChanged("ResourceIdElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ResourceIdElement;

      /// <summary>
      /// Each resource contained in the instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? ResourceId
      {
        get => ResourceIdElement?.Value;
        set
        {
          ResourceIdElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("ResourceId");
        }
      }

      /// <summary>
      /// A specific version of a resource contained in the instance.
      /// </summary>
      [FhirElement("versionId", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? VersionIdElement
      {
        get
        {
          if(_VersionIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["versionId"]);
          return _VersionIdElement;
        }

        set
        {
          if (_VersionIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("versionId");
          _VersionIdElement = value;
          OnPropertyChanged("VersionIdElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _VersionIdElement;

      /// <summary>
      /// A specific version of a resource contained in the instance
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? VersionId
      {
        get => VersionIdElement?.Value;
        set
        {
          VersionIdElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("VersionId");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ContainedInstanceComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_ResourceIdElement is not null) dest.ResourceIdElement = (Hl7.Fhir.Model.FhirString)_ResourceIdElement.DeepCopyInternal();
        if(_VersionIdElement is not null) dest.VersionIdElement = (Hl7.Fhir.Model.FhirString)_VersionIdElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ContainedInstanceComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ContainedInstanceComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_ResourceIdElement, otherT._ResourceIdElement)) return false;
        if(!comparer.Equals(_VersionIdElement, otherT._VersionIdElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "resourceId":
            if (_ResourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["resourceId"];
              return true;
            }
            value = _ResourceIdElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "versionId":
            if (_VersionIdElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["versionId"];
              return true;
            }
            value = _VersionIdElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "resourceId":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ResourceIdElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["resourceId"] = value;
            }
            else ResourceIdElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "versionId":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              VersionIdElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["versionId"] = value;
            }
            else VersionIdElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_ResourceIdElement is not null && !_ResourceIdElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("resourceId",_ResourceIdElement);
        if (_VersionIdElement is not null && !_VersionIdElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("versionId",_VersionIdElement);
      }

    }

    /// <summary>
    /// Each major process - a group of operations
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.process", IsBackboneType=true)]
    public partial class ProcessComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.process";

      /// <summary>
      /// The diagram title of the group of operations.
      /// </summary>
      [FhirElement("title", InSummary=true, Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString TitleElement
      {
        get
        {
          if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
          return _TitleElement!;
        }

        set
        {
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("title");
          _TitleElement = value;
          OnPropertyChanged("TitleElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TitleElement;

      /// <summary>
      /// The diagram title of the group of operations
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Title
      {
        get => TitleElement?.Value;
        set
        {
          TitleElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Title");
        }
      }

      /// <summary>
      /// A longer description of the group of operations.
      /// </summary>
      [FhirElement("description", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// A longer description of the group of operations
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// Description of initial status before the process starts.
      /// </summary>
      [FhirElement("preConditions", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? PreConditionsElement
      {
        get
        {
          if(_PreConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["preConditions"]);
          return _PreConditionsElement;
        }

        set
        {
          if (_PreConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("preConditions");
          _PreConditionsElement = value;
          OnPropertyChanged("PreConditionsElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _PreConditionsElement;

      /// <summary>
      /// Description of initial status before the process starts
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? PreConditions
      {
        get => PreConditionsElement?.Value;
        set
        {
          PreConditionsElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("PreConditions");
        }
      }

      /// <summary>
      /// Description of final status after the process ends.
      /// </summary>
      [FhirElement("postConditions", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? PostConditionsElement
      {
        get
        {
          if(_PostConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["postConditions"]);
          return _PostConditionsElement;
        }

        set
        {
          if (_PostConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("postConditions");
          _PostConditionsElement = value;
          OnPropertyChanged("PostConditionsElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _PostConditionsElement;

      /// <summary>
      /// Description of final status after the process ends
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? PostConditions
      {
        get => PostConditionsElement?.Value;
        set
        {
          PostConditionsElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("PostConditions");
        }
      }

      /// <summary>
      /// Each step of the process.
      /// </summary>
      [FhirElement("step", Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.StepComponent> Step
      {
        get
        {
          if(_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.StepComponent>), Overflow["step"]);
          return _Step ??= [];
        }

        set
        {
          if (_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            Overflow.Remove("step");
          _Step = value;
          OnPropertyChanged("Step");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.StepComponent>? _Step;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ProcessComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
        if(_PreConditionsElement is not null) dest.PreConditionsElement = (Hl7.Fhir.Model.Markdown)_PreConditionsElement.DeepCopyInternal();
        if(_PostConditionsElement is not null) dest.PostConditionsElement = (Hl7.Fhir.Model.Markdown)_PostConditionsElement.DeepCopyInternal();
        if(_Step is not null) dest.Step = new List<Hl7.Fhir.Model.ExampleScenario.StepComponent>(_Step.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ProcessComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ProcessComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_PreConditionsElement, otherT._PreConditionsElement)) return false;
        if(!comparer.Equals(_PostConditionsElement, otherT._PostConditionsElement)) return false;
        if(!comparer.ListEquals(_Step, otherT._Step)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "title":
            if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["title"];
              return true;
            }
            value = _TitleElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "preConditions":
            if (_PreConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["preConditions"];
              return true;
            }
            value = _PreConditionsElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "postConditions":
            if (_PostConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["postConditions"];
              return true;
            }
            value = _PostConditionsElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "step":
            if (_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            {
              value = Overflow["step"];
              return true;
            }
            value = _Step;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.StepComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "title":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["title"] = value;
            }
            else TitleElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "preConditions":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              PreConditionsElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["preConditions"] = value;
            }
            else PreConditionsElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "postConditions":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              PostConditionsElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["postConditions"] = value;
            }
            else PostConditionsElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "step":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.StepComponent> or null))
            {
              Step = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>.INSTANCE;
              Overflow["step"] = value;
            }
            else Step = (List<Hl7.Fhir.Model.ExampleScenario.StepComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_PreConditionsElement is not null && !_PreConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("preConditions",_PreConditionsElement);
        if (_PostConditionsElement is not null && !_PostConditionsElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("postConditions",_PostConditionsElement);
        if (_Step?.Any() is true && !_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>()) yield return new KeyValuePair<string,object>("step",_Step);
      }

    }

    /// <summary>
    /// Each step of the process
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.process.step", IsBackboneType=true)]
    public partial class StepComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.process.step";

      /// <summary>
      /// Nested process.
      /// </summary>
      [FhirElement("process", Order=40)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent> Process
      {
        get
        {
          if(_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>), Overflow["process"]);
          return _Process ??= [];
        }

        set
        {
          if (_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>())
            Overflow.Remove("process");
          _Process = value;
          OnPropertyChanged("Process");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>? _Process;

      /// <summary>
      /// If there is a pause in the flow.
      /// </summary>
      [FhirElement("pause", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? PauseElement
      {
        get
        {
          if(_PauseElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["pause"]);
          return _PauseElement;
        }

        set
        {
          if (_PauseElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("pause");
          _PauseElement = value;
          OnPropertyChanged("PauseElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _PauseElement;

      /// <summary>
      /// If there is a pause in the flow
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Pause
      {
        get => PauseElement?.Value;
        set
        {
          PauseElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Pause");
        }
      }

      /// <summary>
      /// Each interaction or action.
      /// </summary>
      [FhirElement("operation", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.ExampleScenario.OperationComponent? Operation
      {
        get
        {
          if(_Operation.InOverflow<Hl7.Fhir.Model.ExampleScenario.OperationComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExampleScenario.OperationComponent), Overflow["operation"]);
          return _Operation;
        }

        set
        {
          if (_Operation.InOverflow<Hl7.Fhir.Model.ExampleScenario.OperationComponent>())
            Overflow.Remove("operation");
          _Operation = value;
          OnPropertyChanged("Operation");
        }

      }

      private Hl7.Fhir.Model.ExampleScenario.OperationComponent? _Operation;

      /// <summary>
      /// Alternate non-typical step action.
      /// </summary>
      [FhirElement("alternative", Order=70)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent> Alternative
      {
        get
        {
          if(_Alternative.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>), Overflow["alternative"]);
          return _Alternative ??= [];
        }

        set
        {
          if (_Alternative.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>>())
            Overflow.Remove("alternative");
          _Alternative = value;
          OnPropertyChanged("Alternative");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>? _Alternative;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not StepComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Process is not null) dest.Process = new List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>(_Process.DeepCopyInternal());
        if(_PauseElement is not null) dest.PauseElement = (Hl7.Fhir.Model.FhirBoolean)_PauseElement.DeepCopyInternal();
        if(_Operation is not null) dest.Operation = (Hl7.Fhir.Model.ExampleScenario.OperationComponent)_Operation.DeepCopyInternal();
        if(_Alternative is not null) dest.Alternative = new List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>(_Alternative.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new StepComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not StepComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.ListEquals(_Process, otherT._Process)) return false;
        if(!comparer.Equals(_PauseElement, otherT._PauseElement)) return false;
        if(!comparer.Equals(_Operation, otherT._Operation)) return false;
        if(!comparer.ListEquals(_Alternative, otherT._Alternative)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "process":
            if (_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>())
            {
              value = Overflow["process"];
              return true;
            }
            value = _Process;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>)?.Any() is true;
          case "pause":
            if (_PauseElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["pause"];
              return true;
            }
            value = _PauseElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "operation":
            if (_Operation.InOverflow<Hl7.Fhir.Model.ExampleScenario.OperationComponent>())
            {
              value = Overflow["operation"];
              return true;
            }
            value = _Operation;
            return (value as Hl7.Fhir.Model.ExampleScenario.OperationComponent) is not null;
          case "alternative":
            if (_Alternative.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>>())
            {
              value = Overflow["alternative"];
              return true;
            }
            value = _Alternative;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "process":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent> or null))
            {
              Process = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>.INSTANCE;
              Overflow["process"] = value;
            }
            else Process = (List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>?)value!;
            return this;
          case "pause":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              PauseElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["pause"] = value;
            }
            else PauseElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "operation":
            if (value is not (Hl7.Fhir.Model.ExampleScenario.OperationComponent or null))
            {
              Operation = OverflowNull<Hl7.Fhir.Model.ExampleScenario.OperationComponent>.INSTANCE;
              Overflow["operation"] = value;
            }
            else Operation = (Hl7.Fhir.Model.ExampleScenario.OperationComponent?)value;
            return this;
          case "alternative":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent> or null))
            {
              Alternative = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>>.INSTANCE;
              Overflow["alternative"] = value;
            }
            else Alternative = (List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Process?.Any() is true && !_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>()) yield return new KeyValuePair<string,object>("process",_Process);
        if (_PauseElement is not null && !_PauseElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("pause",_PauseElement);
        if (_Operation is not null && !_Operation.InOverflow<Hl7.Fhir.Model.ExampleScenario.OperationComponent>()) yield return new KeyValuePair<string,object>("operation",_Operation);
        if (_Alternative?.Any() is true && !_Alternative.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.AlternativeComponent>>()) yield return new KeyValuePair<string,object>("alternative",_Alternative);
      }

    }

    /// <summary>
    /// Each interaction or action
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.process.step.operation", IsBackboneType=true)]
    public partial class OperationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.process.step.operation";

      /// <summary>
      /// The sequential number of the interaction.
      /// </summary>
      [FhirElement("number", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString NumberElement
      {
        get
        {
          if(_NumberElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["number"]);
          return _NumberElement!;
        }

        set
        {
          if (_NumberElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("number");
          _NumberElement = value;
          OnPropertyChanged("NumberElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NumberElement;

      /// <summary>
      /// The sequential number of the interaction
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Number
      {
        get => NumberElement?.Value;
        set
        {
          NumberElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Number");
        }
      }

      /// <summary>
      /// The type of operation - CRUD.
      /// </summary>
      [FhirElement("type", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? TypeElement
      {
        get
        {
          if(_TypeElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["type"]);
          return _TypeElement;
        }

        set
        {
          if (_TypeElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("type");
          _TypeElement = value;
          OnPropertyChanged("TypeElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TypeElement;

      /// <summary>
      /// The type of operation - CRUD
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Type
      {
        get => TypeElement?.Value;
        set
        {
          TypeElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Type");
        }
      }

      /// <summary>
      /// The human-friendly name of the interaction.
      /// </summary>
      [FhirElement("name", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// The human-friendly name of the interaction
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Who starts the transaction.
      /// </summary>
      [FhirElement("initiator", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? InitiatorElement
      {
        get
        {
          if(_InitiatorElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["initiator"]);
          return _InitiatorElement;
        }

        set
        {
          if (_InitiatorElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("initiator");
          _InitiatorElement = value;
          OnPropertyChanged("InitiatorElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _InitiatorElement;

      /// <summary>
      /// Who starts the transaction
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Initiator
      {
        get => InitiatorElement?.Value;
        set
        {
          InitiatorElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Initiator");
        }
      }

      /// <summary>
      /// Who receives the transaction.
      /// </summary>
      [FhirElement("receiver", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? ReceiverElement
      {
        get
        {
          if(_ReceiverElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["receiver"]);
          return _ReceiverElement;
        }

        set
        {
          if (_ReceiverElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("receiver");
          _ReceiverElement = value;
          OnPropertyChanged("ReceiverElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _ReceiverElement;

      /// <summary>
      /// Who receives the transaction
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Receiver
      {
        get => ReceiverElement?.Value;
        set
        {
          ReceiverElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Receiver");
        }
      }

      /// <summary>
      /// A comment to be inserted in the diagram.
      /// </summary>
      [FhirElement("description", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// A comment to be inserted in the diagram
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// Whether the initiator is deactivated right after the transaction.
      /// </summary>
      [FhirElement("initiatorActive", Order=100)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? InitiatorActiveElement
      {
        get
        {
          if(_InitiatorActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["initiatorActive"]);
          return _InitiatorActiveElement;
        }

        set
        {
          if (_InitiatorActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("initiatorActive");
          _InitiatorActiveElement = value;
          OnPropertyChanged("InitiatorActiveElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _InitiatorActiveElement;

      /// <summary>
      /// Whether the initiator is deactivated right after the transaction
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? InitiatorActive
      {
        get => InitiatorActiveElement?.Value;
        set
        {
          InitiatorActiveElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("InitiatorActive");
        }
      }

      /// <summary>
      /// Whether the receiver is deactivated right after the transaction.
      /// </summary>
      [FhirElement("receiverActive", Order=110)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? ReceiverActiveElement
      {
        get
        {
          if(_ReceiverActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["receiverActive"]);
          return _ReceiverActiveElement;
        }

        set
        {
          if (_ReceiverActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("receiverActive");
          _ReceiverActiveElement = value;
          OnPropertyChanged("ReceiverActiveElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _ReceiverActiveElement;

      /// <summary>
      /// Whether the receiver is deactivated right after the transaction
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? ReceiverActive
      {
        get => ReceiverActiveElement?.Value;
        set
        {
          ReceiverActiveElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("ReceiverActive");
        }
      }

      /// <summary>
      /// Each resource instance used by the initiator.
      /// </summary>
      [FhirElement("request", Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent? Request
      {
        get
        {
          if(_Request.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent), Overflow["request"]);
          return _Request;
        }

        set
        {
          if (_Request.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            Overflow.Remove("request");
          _Request = value;
          OnPropertyChanged("Request");
        }

      }

      private Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent? _Request;

      /// <summary>
      /// Each resource instance used by the responder.
      /// </summary>
      [FhirElement("response", Order=130)]
      [DataMember]
      public Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent? Response
      {
        get
        {
          if(_Response.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent), Overflow["response"]);
          return _Response;
        }

        set
        {
          if (_Response.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            Overflow.Remove("response");
          _Response = value;
          OnPropertyChanged("Response");
        }

      }

      private Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent? _Response;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not OperationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_NumberElement is not null) dest.NumberElement = (Hl7.Fhir.Model.FhirString)_NumberElement.DeepCopyInternal();
        if(_TypeElement is not null) dest.TypeElement = (Hl7.Fhir.Model.FhirString)_TypeElement.DeepCopyInternal();
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_InitiatorElement is not null) dest.InitiatorElement = (Hl7.Fhir.Model.FhirString)_InitiatorElement.DeepCopyInternal();
        if(_ReceiverElement is not null) dest.ReceiverElement = (Hl7.Fhir.Model.FhirString)_ReceiverElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
        if(_InitiatorActiveElement is not null) dest.InitiatorActiveElement = (Hl7.Fhir.Model.FhirBoolean)_InitiatorActiveElement.DeepCopyInternal();
        if(_ReceiverActiveElement is not null) dest.ReceiverActiveElement = (Hl7.Fhir.Model.FhirBoolean)_ReceiverActiveElement.DeepCopyInternal();
        if(_Request is not null) dest.Request = (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent)_Request.DeepCopyInternal();
        if(_Response is not null) dest.Response = (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent)_Response.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new OperationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not OperationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_NumberElement, otherT._NumberElement)) return false;
        if(!comparer.Equals(_TypeElement, otherT._TypeElement)) return false;
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_InitiatorElement, otherT._InitiatorElement)) return false;
        if(!comparer.Equals(_ReceiverElement, otherT._ReceiverElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_InitiatorActiveElement, otherT._InitiatorActiveElement)) return false;
        if(!comparer.Equals(_ReceiverActiveElement, otherT._ReceiverActiveElement)) return false;
        if(!comparer.Equals(_Request, otherT._Request)) return false;
        if(!comparer.Equals(_Response, otherT._Response)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "number":
            if (_NumberElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["number"];
              return true;
            }
            value = _NumberElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "type":
            if (_TypeElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _TypeElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "initiator":
            if (_InitiatorElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["initiator"];
              return true;
            }
            value = _InitiatorElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "receiver":
            if (_ReceiverElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["receiver"];
              return true;
            }
            value = _ReceiverElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "initiatorActive":
            if (_InitiatorActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["initiatorActive"];
              return true;
            }
            value = _InitiatorActiveElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "receiverActive":
            if (_ReceiverActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["receiverActive"];
              return true;
            }
            value = _ReceiverActiveElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "request":
            if (_Request.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            {
              value = Overflow["request"];
              return true;
            }
            value = _Request;
            return (value as Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent) is not null;
          case "response":
            if (_Response.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>())
            {
              value = Overflow["response"];
              return true;
            }
            value = _Response;
            return (value as Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "number":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NumberElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["number"] = value;
            }
            else NumberElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "type":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TypeElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["type"] = value;
            }
            else TypeElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "initiator":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              InitiatorElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["initiator"] = value;
            }
            else InitiatorElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "receiver":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              ReceiverElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["receiver"] = value;
            }
            else ReceiverElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "initiatorActive":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              InitiatorActiveElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["initiatorActive"] = value;
            }
            else InitiatorActiveElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "receiverActive":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              ReceiverActiveElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["receiverActive"] = value;
            }
            else ReceiverActiveElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "request":
            if (value is not (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent or null))
            {
              Request = OverflowNull<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>.INSTANCE;
              Overflow["request"] = value;
            }
            else Request = (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent?)value;
            return this;
          case "response":
            if (value is not (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent or null))
            {
              Response = OverflowNull<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>.INSTANCE;
              Overflow["response"] = value;
            }
            else Response = (Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_NumberElement is not null && !_NumberElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("number",_NumberElement);
        if (_TypeElement is not null && !_TypeElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("type",_TypeElement);
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_InitiatorElement is not null && !_InitiatorElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("initiator",_InitiatorElement);
        if (_ReceiverElement is not null && !_ReceiverElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("receiver",_ReceiverElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_InitiatorActiveElement is not null && !_InitiatorActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("initiatorActive",_InitiatorActiveElement);
        if (_ReceiverActiveElement is not null && !_ReceiverActiveElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("receiverActive",_ReceiverActiveElement);
        if (_Request is not null && !_Request.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>()) yield return new KeyValuePair<string,object>("request",_Request);
        if (_Response is not null && !_Response.InOverflow<Hl7.Fhir.Model.ExampleScenario.ContainedInstanceComponent>()) yield return new KeyValuePair<string,object>("response",_Response);
      }

    }

    /// <summary>
    /// Alternate non-typical step action
    /// </summary>
    /// <remarks>
    /// Indicates an alternative step that can be taken instead of the operations on the base step in exceptional/atypical circumstances.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExampleScenario.process.step.alternative", IsBackboneType=true)]
    public partial class AlternativeComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExampleScenario.process.step.alternative";

      /// <summary>
      /// Label for alternative.
      /// </summary>
      [FhirElement("title", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString TitleElement
      {
        get
        {
          if(_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["title"]);
          return _TitleElement!;
        }

        set
        {
          if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("title");
          _TitleElement = value;
          OnPropertyChanged("TitleElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TitleElement;

      /// <summary>
      /// Label for alternative
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Title
      {
        get => TitleElement?.Value;
        set
        {
          TitleElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Title");
        }
      }

      /// <summary>
      /// A human-readable description of each option.
      /// </summary>
      [FhirElement("description", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Markdown? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.Markdown? _DescriptionElement;

      /// <summary>
      /// A human-readable description of each option
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// What happens in each alternative option.
      /// </summary>
      [FhirElement("step", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExampleScenario.StepComponent> Step
      {
        get
        {
          if(_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.StepComponent>), Overflow["step"]);
          return _Step ??= [];
        }

        set
        {
          if (_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            Overflow.Remove("step");
          _Step = value;
          OnPropertyChanged("Step");
        }

      }

      private List<Hl7.Fhir.Model.ExampleScenario.StepComponent>? _Step;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AlternativeComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_TitleElement is not null) dest.TitleElement = (Hl7.Fhir.Model.FhirString)_TitleElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
        if(_Step is not null) dest.Step = new List<Hl7.Fhir.Model.ExampleScenario.StepComponent>(_Step.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AlternativeComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AlternativeComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_TitleElement, otherT._TitleElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.ListEquals(_Step, otherT._Step)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "title":
            if (_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["title"];
              return true;
            }
            value = _TitleElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.Markdown) is not null;
          case "step":
            if (_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>())
            {
              value = Overflow["step"];
              return true;
            }
            value = _Step;
            return (value as List<Hl7.Fhir.Model.ExampleScenario.StepComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "title":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TitleElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["title"] = value;
            }
            else TitleElement = (Hl7.Fhir.Model.FhirString?)value!;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.Markdown or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
            return this;
          case "step":
            if (value is not (List<Hl7.Fhir.Model.ExampleScenario.StepComponent> or null))
            {
              Step = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>.INSTANCE;
              Overflow["step"] = value;
            }
            else Step = (List<Hl7.Fhir.Model.ExampleScenario.StepComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_TitleElement is not null && !_TitleElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("title",_TitleElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_Step?.Any() is true && !_Step.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.StepComponent>>()) yield return new KeyValuePair<string,object>("step",_Step);
      }

    }

    /// <summary>
    /// Canonical identifier for this example scenario, represented as a URI (globally unique).
    /// </summary>
    [FhirElement("url", InSummary=true, Order=90, FiveWs="FiveWs.identifier")]
    [DataMember]
    public Hl7.Fhir.Model.FhirUri? UrlElement
    {
      get
      {
        if(_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirUri), Overflow["url"]);
        return _UrlElement;
      }

      set
      {
        if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
          Overflow.Remove("url");
        _UrlElement = value;
        OnPropertyChanged("UrlElement");
      }

    }

    private Hl7.Fhir.Model.FhirUri? _UrlElement;

    /// <summary>
    /// Canonical identifier for this example scenario, represented as a URI (globally unique)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Url
    {
      get => UrlElement?.Value;
      set
      {
        UrlElement = value is null ? null! : new Hl7.Fhir.Model.FhirUri(value);
        OnPropertyChanged("Url");
      }
    }

    /// <summary>
    /// Additional identifier for the example scenario.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=100, FiveWs="FiveWs.identifier")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// Business version of the example scenario.
    /// </summary>
    [FhirElement("version", InSummary=true, Order=110, FiveWs="FiveWs.version")]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? VersionElement
    {
      get
      {
        if(_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["version"]);
        return _VersionElement;
      }

      set
      {
        if (_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("version");
        _VersionElement = value;
        OnPropertyChanged("VersionElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _VersionElement;

    /// <summary>
    /// Business version of the example scenario
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Version
    {
      get => VersionElement?.Value;
      set
      {
        VersionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Version");
      }
    }

    /// <summary>
    /// Name for this example scenario (computer friendly).
    /// </summary>
    [FhirElement("name", InSummary=true, Order=120)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? NameElement
    {
      get
      {
        if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
        return _NameElement;
      }

      set
      {
        if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("name");
        _NameElement = value;
        OnPropertyChanged("NameElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _NameElement;

    /// <summary>
    /// Name for this example scenario (computer friendly)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Name
    {
      get => NameElement?.Value;
      set
      {
        NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Name");
      }
    }

    /// <summary>
    /// draft | active | retired | unknown.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=130, FiveWs="FiveWs.status")]
    [Binding("PublicationStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.PublicationStatus> StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.PublicationStatus>), Overflow["status"]);
        return _StatusElement!;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.PublicationStatus>? _StatusElement;

    /// <summary>
    /// draft | active | retired | unknown
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.PublicationStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.PublicationStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// For testing purposes, not real usage.
    /// </summary>
    [FhirElement("experimental", InSummary=true, Order=140, FiveWs="FiveWs.class")]
    [DataMember]
    public Hl7.Fhir.Model.FhirBoolean? ExperimentalElement
    {
      get
      {
        if(_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["experimental"]);
        return _ExperimentalElement;
      }

      set
      {
        if (_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          Overflow.Remove("experimental");
        _ExperimentalElement = value;
        OnPropertyChanged("ExperimentalElement");
      }

    }

    private Hl7.Fhir.Model.FhirBoolean? _ExperimentalElement;

    /// <summary>
    /// For testing purposes, not real usage
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public bool? Experimental
    {
      get => ExperimentalElement?.Value;
      set
      {
        ExperimentalElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
        OnPropertyChanged("Experimental");
      }
    }

    /// <summary>
    /// Date last changed.
    /// </summary>
    [FhirElement("date", InSummary=true, Order=150, FiveWs="FiveWs.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? DateElement
    {
      get
      {
        if(_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["date"]);
        return _DateElement;
      }

      set
      {
        if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("date");
        _DateElement = value;
        OnPropertyChanged("DateElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _DateElement;

    /// <summary>
    /// Date last changed
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Date
    {
      get => DateElement?.Value;
      set
      {
        DateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("Date");
      }
    }

    /// <summary>
    /// Name of the publisher (organization or individual).
    /// </summary>
    [FhirElement("publisher", InSummary=true, Order=160, FiveWs="FiveWs.witness")]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? PublisherElement
    {
      get
      {
        if(_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["publisher"]);
        return _PublisherElement;
      }

      set
      {
        if (_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("publisher");
        _PublisherElement = value;
        OnPropertyChanged("PublisherElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _PublisherElement;

    /// <summary>
    /// Name of the publisher (organization or individual)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Publisher
    {
      get => PublisherElement?.Value;
      set
      {
        PublisherElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Publisher");
      }
    }

    /// <summary>
    /// Contact details for the publisher.
    /// </summary>
    [FhirElement("contact", InSummary=true, Order=170)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ContactDetail> Contact
    {
      get
      {
        if(_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ContactDetail>), Overflow["contact"]);
        return _Contact ??= [];
      }

      set
      {
        if (_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>())
          Overflow.Remove("contact");
        _Contact = value;
        OnPropertyChanged("Contact");
      }

    }

    private List<Hl7.Fhir.Model.ContactDetail>? _Contact;

    /// <summary>
    /// The context that the content is intended to support.
    /// </summary>
    [FhirElement("useContext", InSummary=true, Order=180)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.UsageContext> UseContext
    {
      get
      {
        if(_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.UsageContext>), Overflow["useContext"]);
        return _UseContext ??= [];
      }

      set
      {
        if (_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>())
          Overflow.Remove("useContext");
        _UseContext = value;
        OnPropertyChanged("UseContext");
      }

    }

    private List<Hl7.Fhir.Model.UsageContext>? _UseContext;

    /// <summary>
    /// Intended jurisdiction for example scenario (if applicable).
    /// </summary>
    [FhirElement("jurisdiction", InSummary=true, Order=190)]
    [Binding("Jurisdiction")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Jurisdiction
    {
      get
      {
        if(_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["jurisdiction"]);
        return _Jurisdiction ??= [];
      }

      set
      {
        if (_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("jurisdiction");
        _Jurisdiction = value;
        OnPropertyChanged("Jurisdiction");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Jurisdiction;

    /// <summary>
    /// Use and/or publishing restrictions.
    /// </summary>
    [FhirElement("copyright", Order=200)]
    [DataMember]
    public Hl7.Fhir.Model.Markdown? CopyrightElement
    {
      get
      {
        if(_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["copyright"]);
        return _CopyrightElement;
      }

      set
      {
        if (_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          Overflow.Remove("copyright");
        _CopyrightElement = value;
        OnPropertyChanged("CopyrightElement");
      }

    }

    private Hl7.Fhir.Model.Markdown? _CopyrightElement;

    /// <summary>
    /// Use and/or publishing restrictions
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Copyright
    {
      get => CopyrightElement?.Value;
      set
      {
        CopyrightElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
        OnPropertyChanged("Copyright");
      }
    }

    /// <summary>
    /// The purpose of the example, e.g. to illustrate a scenario.
    /// </summary>
    [FhirElement("purpose", Order=210, FiveWs="FiveWs.why[x]")]
    [DataMember]
    public Hl7.Fhir.Model.Markdown? PurposeElement
    {
      get
      {
        if(_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["purpose"]);
        return _PurposeElement;
      }

      set
      {
        if (_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          Overflow.Remove("purpose");
        _PurposeElement = value;
        OnPropertyChanged("PurposeElement");
      }

    }

    private Hl7.Fhir.Model.Markdown? _PurposeElement;

    /// <summary>
    /// The purpose of the example, e.g. to illustrate a scenario
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Purpose
    {
      get => PurposeElement?.Value;
      set
      {
        PurposeElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
        OnPropertyChanged("Purpose");
      }
    }

    /// <summary>
    /// Actor participating in the resource.
    /// </summary>
    [FhirElement("actor", Order=220)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExampleScenario.ActorComponent> Actor
    {
      get
      {
        if(_Actor.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>), Overflow["actor"]);
        return _Actor ??= [];
      }

      set
      {
        if (_Actor.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>>())
          Overflow.Remove("actor");
        _Actor = value;
        OnPropertyChanged("Actor");
      }

    }

    private List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>? _Actor;

    /// <summary>
    /// Each resource and each version that is present in the workflow.
    /// </summary>
    [FhirElement("instance", Order=230)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent> Instance
    {
      get
      {
        if(_Instance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>), Overflow["instance"]);
        return _Instance ??= [];
      }

      set
      {
        if (_Instance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>>())
          Overflow.Remove("instance");
        _Instance = value;
        OnPropertyChanged("Instance");
      }

    }

    private List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>? _Instance;

    /// <summary>
    /// Each major process - a group of operations.
    /// </summary>
    [FhirElement("process", Order=240)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent> Process
    {
      get
      {
        if(_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>), Overflow["process"]);
        return _Process ??= [];
      }

      set
      {
        if (_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>())
          Overflow.Remove("process");
        _Process = value;
        OnPropertyChanged("Process");
      }

    }

    private List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>? _Process;

    /// <summary>
    /// Another nested workflow.
    /// </summary>
    [FhirElement("workflow", Order=250)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Canonical> WorkflowElement
    {
      get
      {
        if(_WorkflowElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Canonical>), Overflow["workflow"]);
        return _WorkflowElement ??= [];
      }

      set
      {
        if (_WorkflowElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
          Overflow.Remove("workflow");
        _WorkflowElement = value;
        OnPropertyChanged("WorkflowElement");
      }

    }

    private List<Hl7.Fhir.Model.Canonical>? _WorkflowElement;

    /// <summary>
    /// Another nested workflow
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public IEnumerable<string?> Workflow
    {
      get => _WorkflowElement?.Select(elem => elem.Value) ?? [];
      set
      {
        if (value == null)
          WorkflowElement = null!;
        else
          WorkflowElement = new List<Hl7.Fhir.Model.Canonical>(value.Select(elem=>new Hl7.Fhir.Model.Canonical(elem)));
        OnPropertyChanged("Workflow");
      }
    }

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not ExampleScenario dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_UrlElement is not null) dest.UrlElement = (Hl7.Fhir.Model.FhirUri)_UrlElement.DeepCopyInternal();
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_VersionElement is not null) dest.VersionElement = (Hl7.Fhir.Model.FhirString)_VersionElement.DeepCopyInternal();
      if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.PublicationStatus>)_StatusElement.DeepCopyInternal();
      if(_ExperimentalElement is not null) dest.ExperimentalElement = (Hl7.Fhir.Model.FhirBoolean)_ExperimentalElement.DeepCopyInternal();
      if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.FhirDateTime)_DateElement.DeepCopyInternal();
      if(_PublisherElement is not null) dest.PublisherElement = (Hl7.Fhir.Model.FhirString)_PublisherElement.DeepCopyInternal();
      if(_Contact is not null) dest.Contact = new List<Hl7.Fhir.Model.ContactDetail>(_Contact.DeepCopyInternal());
      if(_UseContext is not null) dest.UseContext = new List<Hl7.Fhir.Model.UsageContext>(_UseContext.DeepCopyInternal());
      if(_Jurisdiction is not null) dest.Jurisdiction = new List<Hl7.Fhir.Model.CodeableConcept>(_Jurisdiction.DeepCopyInternal());
      if(_CopyrightElement is not null) dest.CopyrightElement = (Hl7.Fhir.Model.Markdown)_CopyrightElement.DeepCopyInternal();
      if(_PurposeElement is not null) dest.PurposeElement = (Hl7.Fhir.Model.Markdown)_PurposeElement.DeepCopyInternal();
      if(_Actor is not null) dest.Actor = new List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>(_Actor.DeepCopyInternal());
      if(_Instance is not null) dest.Instance = new List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>(_Instance.DeepCopyInternal());
      if(_Process is not null) dest.Process = new List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>(_Process.DeepCopyInternal());
      if(_WorkflowElement is not null) dest.WorkflowElement = new List<Hl7.Fhir.Model.Canonical>(_WorkflowElement.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new ExampleScenario();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not ExampleScenario otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.Equals(_UrlElement, otherT._UrlElement)) return false;
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_VersionElement, otherT._VersionElement)) return false;
      if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_ExperimentalElement, otherT._ExperimentalElement)) return false;
      if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
      if(!comparer.Equals(_PublisherElement, otherT._PublisherElement)) return false;
      if(!comparer.ListEquals(_Contact, otherT._Contact)) return false;
      if(!comparer.ListEquals(_UseContext, otherT._UseContext)) return false;
      if(!comparer.ListEquals(_Jurisdiction, otherT._Jurisdiction)) return false;
      if(!comparer.Equals(_CopyrightElement, otherT._CopyrightElement)) return false;
      if(!comparer.Equals(_PurposeElement, otherT._PurposeElement)) return false;
      if(!comparer.ListEquals(_Actor, otherT._Actor)) return false;
      if(!comparer.ListEquals(_Instance, otherT._Instance)) return false;
      if(!comparer.ListEquals(_Process, otherT._Process)) return false;
      if(!comparer.ListEquals(_WorkflowElement, otherT._WorkflowElement)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "url":
          if (_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>())
          {
            value = Overflow["url"];
            return true;
          }
          value = _UrlElement;
          return (value as Hl7.Fhir.Model.FhirUri) is not null;
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "version":
          if (_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["version"];
            return true;
          }
          value = _VersionElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "name":
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["name"];
            return true;
          }
          value = _NameElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.PublicationStatus>) is not null;
        case "experimental":
          if (_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          {
            value = Overflow["experimental"];
            return true;
          }
          value = _ExperimentalElement;
          return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
        case "date":
          if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["date"];
            return true;
          }
          value = _DateElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "publisher":
          if (_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["publisher"];
            return true;
          }
          value = _PublisherElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "contact":
          if (_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>())
          {
            value = Overflow["contact"];
            return true;
          }
          value = _Contact;
          return (value as List<Hl7.Fhir.Model.ContactDetail>)?.Any() is true;
        case "useContext":
          if (_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>())
          {
            value = Overflow["useContext"];
            return true;
          }
          value = _UseContext;
          return (value as List<Hl7.Fhir.Model.UsageContext>)?.Any() is true;
        case "jurisdiction":
          if (_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["jurisdiction"];
            return true;
          }
          value = _Jurisdiction;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "copyright":
          if (_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          {
            value = Overflow["copyright"];
            return true;
          }
          value = _CopyrightElement;
          return (value as Hl7.Fhir.Model.Markdown) is not null;
        case "purpose":
          if (_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          {
            value = Overflow["purpose"];
            return true;
          }
          value = _PurposeElement;
          return (value as Hl7.Fhir.Model.Markdown) is not null;
        case "actor":
          if (_Actor.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>>())
          {
            value = Overflow["actor"];
            return true;
          }
          value = _Actor;
          return (value as List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>)?.Any() is true;
        case "instance":
          if (_Instance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>>())
          {
            value = Overflow["instance"];
            return true;
          }
          value = _Instance;
          return (value as List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>)?.Any() is true;
        case "process":
          if (_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>())
          {
            value = Overflow["process"];
            return true;
          }
          value = _Process;
          return (value as List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>)?.Any() is true;
        case "workflow":
          if (_WorkflowElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>())
          {
            value = Overflow["workflow"];
            return true;
          }
          value = _WorkflowElement;
          return (value as List<Hl7.Fhir.Model.Canonical>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "url":
          if (value is not (Hl7.Fhir.Model.FhirUri or null))
          {
            UrlElement = OverflowNull<Hl7.Fhir.Model.FhirUri>.INSTANCE;
            Overflow["url"] = value;
          }
          else UrlElement = (Hl7.Fhir.Model.FhirUri?)value;
          return this;
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "version":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            VersionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["version"] = value;
          }
          else VersionElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "name":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["name"] = value;
          }
          else NameElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.PublicationStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.PublicationStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.PublicationStatus>?)value!;
          return this;
        case "experimental":
          if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
          {
            ExperimentalElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
            Overflow["experimental"] = value;
          }
          else ExperimentalElement = (Hl7.Fhir.Model.FhirBoolean?)value;
          return this;
        case "date":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            DateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["date"] = value;
          }
          else DateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "publisher":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            PublisherElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["publisher"] = value;
          }
          else PublisherElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "contact":
          if (value is not (List<Hl7.Fhir.Model.ContactDetail> or null))
          {
            Contact = OverflowNull<List<Hl7.Fhir.Model.ContactDetail>>.INSTANCE;
            Overflow["contact"] = value;
          }
          else Contact = (List<Hl7.Fhir.Model.ContactDetail>?)value!;
          return this;
        case "useContext":
          if (value is not (List<Hl7.Fhir.Model.UsageContext> or null))
          {
            UseContext = OverflowNull<List<Hl7.Fhir.Model.UsageContext>>.INSTANCE;
            Overflow["useContext"] = value;
          }
          else UseContext = (List<Hl7.Fhir.Model.UsageContext>?)value!;
          return this;
        case "jurisdiction":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Jurisdiction = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["jurisdiction"] = value;
          }
          else Jurisdiction = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "copyright":
          if (value is not (Hl7.Fhir.Model.Markdown or null))
          {
            CopyrightElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
            Overflow["copyright"] = value;
          }
          else CopyrightElement = (Hl7.Fhir.Model.Markdown?)value;
          return this;
        case "purpose":
          if (value is not (Hl7.Fhir.Model.Markdown or null))
          {
            PurposeElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
            Overflow["purpose"] = value;
          }
          else PurposeElement = (Hl7.Fhir.Model.Markdown?)value;
          return this;
        case "actor":
          if (value is not (List<Hl7.Fhir.Model.ExampleScenario.ActorComponent> or null))
          {
            Actor = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>>.INSTANCE;
            Overflow["actor"] = value;
          }
          else Actor = (List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>?)value!;
          return this;
        case "instance":
          if (value is not (List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent> or null))
          {
            Instance = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>>.INSTANCE;
            Overflow["instance"] = value;
          }
          else Instance = (List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>?)value!;
          return this;
        case "process":
          if (value is not (List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent> or null))
          {
            Process = OverflowNull<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>.INSTANCE;
            Overflow["process"] = value;
          }
          else Process = (List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>?)value!;
          return this;
        case "workflow":
          if (value is not (List<Hl7.Fhir.Model.Canonical> or null))
          {
            WorkflowElement = OverflowNull<List<Hl7.Fhir.Model.Canonical>>.INSTANCE;
            Overflow["workflow"] = value;
          }
          else WorkflowElement = (List<Hl7.Fhir.Model.Canonical>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_UrlElement is not null && !_UrlElement.InOverflow<Hl7.Fhir.Model.FhirUri>()) yield return new KeyValuePair<string,object>("url",_UrlElement);
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_VersionElement is not null && !_VersionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("version",_VersionElement);
      if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.PublicationStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_ExperimentalElement is not null && !_ExperimentalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("experimental",_ExperimentalElement);
      if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("date",_DateElement);
      if (_PublisherElement is not null && !_PublisherElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("publisher",_PublisherElement);
      if (_Contact?.Any() is true && !_Contact.InOverflow<List<Hl7.Fhir.Model.ContactDetail>>()) yield return new KeyValuePair<string,object>("contact",_Contact);
      if (_UseContext?.Any() is true && !_UseContext.InOverflow<List<Hl7.Fhir.Model.UsageContext>>()) yield return new KeyValuePair<string,object>("useContext",_UseContext);
      if (_Jurisdiction?.Any() is true && !_Jurisdiction.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("jurisdiction",_Jurisdiction);
      if (_CopyrightElement is not null && !_CopyrightElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("copyright",_CopyrightElement);
      if (_PurposeElement is not null && !_PurposeElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("purpose",_PurposeElement);
      if (_Actor?.Any() is true && !_Actor.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ActorComponent>>()) yield return new KeyValuePair<string,object>("actor",_Actor);
      if (_Instance?.Any() is true && !_Instance.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.InstanceComponent>>()) yield return new KeyValuePair<string,object>("instance",_Instance);
      if (_Process?.Any() is true && !_Process.InOverflow<List<Hl7.Fhir.Model.ExampleScenario.ProcessComponent>>()) yield return new KeyValuePair<string,object>("process",_Process);
      if (_WorkflowElement?.Any() is true && !_WorkflowElement.InOverflow<List<Hl7.Fhir.Model.Canonical>>()) yield return new KeyValuePair<string,object>("workflow",_WorkflowElement);
    }

  }

}

// end of file
