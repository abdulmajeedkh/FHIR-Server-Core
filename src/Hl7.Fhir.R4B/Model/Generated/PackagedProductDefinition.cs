// <auto-generated/>
// Contents of: hl7.fhir.r4b.expansions@4.3.0, hl7.fhir.r4b.core@4.3.0

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// A medically related item or items, in a container or package
  /// </summary>
  [Serializable]
  [DataContract]
  [FhirType("PackagedProductDefinition","http://hl7.org/fhir/StructureDefinition/PackagedProductDefinition")]
  public partial class PackagedProductDefinition : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "PackagedProductDefinition";

    /// <summary>
    /// The legal status of supply of the packaged item as classified by the regulator
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("PackagedProductDefinition.legalStatusOfSupply", IsBackboneType=true)]
    public partial class LegalStatusOfSupplyComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "PackagedProductDefinition.legalStatusOfSupply";

      /// <summary>
      /// The actual status of supply. In what situation this package type may be supplied for use.
      /// </summary>
      [FhirElement("code", InSummary=true, Order=40)]
      [Binding("LegalStatusOfSupply")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Code
      {
        get
        {
          if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
          return _Code;
        }

        set
        {
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("code");
          _Code = value;
          OnPropertyChanged("Code");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Code;

      /// <summary>
      /// The place where the legal status of supply applies.
      /// </summary>
      [FhirElement("jurisdiction", InSummary=true, Order=50)]
      [Binding("Jurisdiction")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Jurisdiction
      {
        get
        {
          if(_Jurisdiction.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["jurisdiction"]);
          return _Jurisdiction;
        }

        set
        {
          if (_Jurisdiction.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("jurisdiction");
          _Jurisdiction = value;
          OnPropertyChanged("Jurisdiction");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Jurisdiction;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not LegalStatusOfSupplyComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
        if(_Jurisdiction is not null) dest.Jurisdiction = (Hl7.Fhir.Model.CodeableConcept)_Jurisdiction.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new LegalStatusOfSupplyComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not LegalStatusOfSupplyComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Code, otherT._Code)) return false;
        if(!comparer.Equals(_Jurisdiction, otherT._Jurisdiction)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "code":
            if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _Code;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "jurisdiction":
            if (_Jurisdiction.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["jurisdiction"];
              return true;
            }
            value = _Jurisdiction;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "code":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["code"] = value;
            }
            else Code = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "jurisdiction":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Jurisdiction = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["jurisdiction"] = value;
            }
            else Jurisdiction = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
        if (_Jurisdiction is not null && !_Jurisdiction.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("jurisdiction",_Jurisdiction);
      }

    }

    /// <summary>
    /// A packaging item, as a container for medically related items, possibly with other packaging items within, or a packaging component, such as bottle cap
    /// </summary>
    /// <remarks>
    /// A packaging item, as a container for medically related items, possibly with other packaging items within, or a packaging component, such as bottle cap (which is not a device or a medication manufactured item).
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("PackagedProductDefinition.package", IsBackboneType=true)]
    public partial class PackageComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "PackagedProductDefinition.package";

      /// <summary>
      /// An identifier that is specific to this particular part of the packaging. Including possibly a Data Carrier Identifier.
      /// </summary>
      [FhirElement("identifier", InSummary=true, Order=40)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Identifier> Identifier
      {
        get
        {
          if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
          return _Identifier ??= [];
        }

        set
        {
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
            Overflow.Remove("identifier");
          _Identifier = value;
          OnPropertyChanged("Identifier");
        }

      }

      private List<Hl7.Fhir.Model.Identifier>? _Identifier;

      /// <summary>
      /// The physical type of the container of the items.
      /// </summary>
      [FhirElement("type", InSummary=true, Order=50)]
      [Binding("PackagingType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// The quantity of this level of packaging in the package that contains it (with the outermost level being 1).
      /// </summary>
      [FhirElement("quantity", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Integer? QuantityElement
      {
        get
        {
          if(_QuantityElement.InOverflow<Hl7.Fhir.Model.Integer>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Integer), Overflow["quantity"]);
          return _QuantityElement;
        }

        set
        {
          if (_QuantityElement.InOverflow<Hl7.Fhir.Model.Integer>())
            Overflow.Remove("quantity");
          _QuantityElement = value;
          OnPropertyChanged("QuantityElement");
        }

      }

      private Hl7.Fhir.Model.Integer? _QuantityElement;

      /// <summary>
      /// The quantity of this level of packaging in the package that contains it (with the outermost level being 1)
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Quantity
      {
        get => QuantityElement?.Value;
        set
        {
          QuantityElement = value is null ? null! : new Hl7.Fhir.Model.Integer(value);
          OnPropertyChanged("Quantity");
        }
      }

      /// <summary>
      /// Material type of the package item.
      /// </summary>
      [FhirElement("material", InSummary=true, Order=70)]
      [Binding("PackageMaterial")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Material
      {
        get
        {
          if(_Material.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["material"]);
          return _Material ??= [];
        }

        set
        {
          if (_Material.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("material");
          _Material = value;
          OnPropertyChanged("Material");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Material;

      /// <summary>
      /// A possible alternate material for this part of the packaging, that is allowed to be used instead of the usual material.
      /// </summary>
      [FhirElement("alternateMaterial", InSummary=true, Order=80)]
      [Binding("PackageMaterial")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> AlternateMaterial
      {
        get
        {
          if(_AlternateMaterial.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["alternateMaterial"]);
          return _AlternateMaterial ??= [];
        }

        set
        {
          if (_AlternateMaterial.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("alternateMaterial");
          _AlternateMaterial = value;
          OnPropertyChanged("AlternateMaterial");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _AlternateMaterial;

      /// <summary>
      /// Shelf Life and storage information.
      /// </summary>
      [FhirElement("shelfLifeStorage", InSummary=true, Order=90)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent> ShelfLifeStorage
      {
        get
        {
          if(_ShelfLifeStorage.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent>), Overflow["shelfLifeStorage"]);
          return _ShelfLifeStorage ??= [];
        }

        set
        {
          if (_ShelfLifeStorage.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent>>())
            Overflow.Remove("shelfLifeStorage");
          _ShelfLifeStorage = value;
          OnPropertyChanged("ShelfLifeStorage");
        }

      }

      private List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent>? _ShelfLifeStorage;

      /// <summary>
      /// Manufacturer of this package Item (multiple means these are all possible manufacturers).
      /// </summary>
      [FhirElement("manufacturer", InSummary=true, Order=100)]
      [CLSCompliant(false)]
      [References("Organization")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Manufacturer
      {
        get
        {
          if(_Manufacturer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["manufacturer"]);
          return _Manufacturer ??= [];
        }

        set
        {
          if (_Manufacturer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("manufacturer");
          _Manufacturer = value;
          OnPropertyChanged("Manufacturer");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Manufacturer;

      /// <summary>
      /// General characteristics of this item.
      /// </summary>
      [FhirElement("property", InSummary=true, Order=110)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent> Property
      {
        get
        {
          if(_Property.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent>), Overflow["property"]);
          return _Property ??= [];
        }

        set
        {
          if (_Property.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent>>())
            Overflow.Remove("property");
          _Property = value;
          OnPropertyChanged("Property");
        }

      }

      private List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent>? _Property;

      /// <summary>
      /// The item(s) within the packaging.
      /// </summary>
      [FhirElement("containedItem", InSummary=true, Order=120)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent> ContainedItem
      {
        get
        {
          if(_ContainedItem.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent>), Overflow["containedItem"]);
          return _ContainedItem ??= [];
        }

        set
        {
          if (_ContainedItem.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent>>())
            Overflow.Remove("containedItem");
          _ContainedItem = value;
          OnPropertyChanged("ContainedItem");
        }

      }

      private List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent>? _ContainedItem;

      /// <summary>
      /// Allows containers (and parts of containers) within containers, still a single packaged product.
      /// </summary>
      [FhirElement("package", InSummary=true, Order=130)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent> Package
      {
        get
        {
          if(_Package.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>), Overflow["package"]);
          return _Package ??= [];
        }

        set
        {
          if (_Package.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>>())
            Overflow.Remove("package");
          _Package = value;
          OnPropertyChanged("Package");
        }

      }

      private List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>? _Package;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PackageComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_QuantityElement is not null) dest.QuantityElement = (Hl7.Fhir.Model.Integer)_QuantityElement.DeepCopyInternal();
        if(_Material is not null) dest.Material = new List<Hl7.Fhir.Model.CodeableConcept>(_Material.DeepCopyInternal());
        if(_AlternateMaterial is not null) dest.AlternateMaterial = new List<Hl7.Fhir.Model.CodeableConcept>(_AlternateMaterial.DeepCopyInternal());
        if(_ShelfLifeStorage is not null) dest.ShelfLifeStorage = new List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent>(_ShelfLifeStorage.DeepCopyInternal());
        if(_Manufacturer is not null) dest.Manufacturer = new List<Hl7.Fhir.Model.ResourceReference>(_Manufacturer.DeepCopyInternal());
        if(_Property is not null) dest.Property = new List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent>(_Property.DeepCopyInternal());
        if(_ContainedItem is not null) dest.ContainedItem = new List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent>(_ContainedItem.DeepCopyInternal());
        if(_Package is not null) dest.Package = new List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>(_Package.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PackageComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PackageComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_QuantityElement, otherT._QuantityElement)) return false;
        if(!comparer.ListEquals(_Material, otherT._Material)) return false;
        if(!comparer.ListEquals(_AlternateMaterial, otherT._AlternateMaterial)) return false;
        if(!comparer.ListEquals(_ShelfLifeStorage, otherT._ShelfLifeStorage)) return false;
        if(!comparer.ListEquals(_Manufacturer, otherT._Manufacturer)) return false;
        if(!comparer.ListEquals(_Property, otherT._Property)) return false;
        if(!comparer.ListEquals(_ContainedItem, otherT._ContainedItem)) return false;
        if(!comparer.ListEquals(_Package, otherT._Package)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "identifier":
            if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
            {
              value = Overflow["identifier"];
              return true;
            }
            value = _Identifier;
            return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "quantity":
            if (_QuantityElement.InOverflow<Hl7.Fhir.Model.Integer>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _QuantityElement;
            return (value as Hl7.Fhir.Model.Integer) is not null;
          case "material":
            if (_Material.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["material"];
              return true;
            }
            value = _Material;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "alternateMaterial":
            if (_AlternateMaterial.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["alternateMaterial"];
              return true;
            }
            value = _AlternateMaterial;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "shelfLifeStorage":
            if (_ShelfLifeStorage.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent>>())
            {
              value = Overflow["shelfLifeStorage"];
              return true;
            }
            value = _ShelfLifeStorage;
            return (value as List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent>)?.Any() is true;
          case "manufacturer":
            if (_Manufacturer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["manufacturer"];
              return true;
            }
            value = _Manufacturer;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "property":
            if (_Property.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent>>())
            {
              value = Overflow["property"];
              return true;
            }
            value = _Property;
            return (value as List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent>)?.Any() is true;
          case "containedItem":
            if (_ContainedItem.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent>>())
            {
              value = Overflow["containedItem"];
              return true;
            }
            value = _ContainedItem;
            return (value as List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent>)?.Any() is true;
          case "package":
            if (_Package.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>>())
            {
              value = Overflow["package"];
              return true;
            }
            value = _Package;
            return (value as List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "identifier":
            if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
            {
              Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
              Overflow["identifier"] = value;
            }
            else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
            return this;
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Integer or null))
            {
              QuantityElement = OverflowNull<Hl7.Fhir.Model.Integer>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else QuantityElement = (Hl7.Fhir.Model.Integer?)value;
            return this;
          case "material":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Material = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["material"] = value;
            }
            else Material = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "alternateMaterial":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              AlternateMaterial = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["alternateMaterial"] = value;
            }
            else AlternateMaterial = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "shelfLifeStorage":
            if (value is not (List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent> or null))
            {
              ShelfLifeStorage = OverflowNull<List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent>>.INSTANCE;
              Overflow["shelfLifeStorage"] = value;
            }
            else ShelfLifeStorage = (List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent>?)value!;
            return this;
          case "manufacturer":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Manufacturer = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["manufacturer"] = value;
            }
            else Manufacturer = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "property":
            if (value is not (List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent> or null))
            {
              Property = OverflowNull<List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent>>.INSTANCE;
              Overflow["property"] = value;
            }
            else Property = (List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent>?)value!;
            return this;
          case "containedItem":
            if (value is not (List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent> or null))
            {
              ContainedItem = OverflowNull<List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent>>.INSTANCE;
              Overflow["containedItem"] = value;
            }
            else ContainedItem = (List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent>?)value!;
            return this;
          case "package":
            if (value is not (List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent> or null))
            {
              Package = OverflowNull<List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>>.INSTANCE;
              Overflow["package"] = value;
            }
            else Package = (List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_QuantityElement is not null && !_QuantityElement.InOverflow<Hl7.Fhir.Model.Integer>()) yield return new KeyValuePair<string,object>("quantity",_QuantityElement);
        if (_Material?.Any() is true && !_Material.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("material",_Material);
        if (_AlternateMaterial?.Any() is true && !_AlternateMaterial.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("alternateMaterial",_AlternateMaterial);
        if (_ShelfLifeStorage?.Any() is true && !_ShelfLifeStorage.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.ShelfLifeStorageComponent>>()) yield return new KeyValuePair<string,object>("shelfLifeStorage",_ShelfLifeStorage);
        if (_Manufacturer?.Any() is true && !_Manufacturer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("manufacturer",_Manufacturer);
        if (_Property?.Any() is true && !_Property.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.PropertyComponent>>()) yield return new KeyValuePair<string,object>("property",_Property);
        if (_ContainedItem?.Any() is true && !_ContainedItem.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.ContainedItemComponent>>()) yield return new KeyValuePair<string,object>("containedItem",_ContainedItem);
        if (_Package?.Any() is true && !_Package.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>>()) yield return new KeyValuePair<string,object>("package",_Package);
      }

    }

    /// <summary>
    /// Shelf Life and storage information
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("PackagedProductDefinition.package.shelfLifeStorage", IsBackboneType=true)]
    public partial class ShelfLifeStorageComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "PackagedProductDefinition.package.shelfLifeStorage";

      /// <summary>
      /// This describes the shelf life, taking into account various scenarios such as shelf life of the packaged Medicinal Product itself, shelf life after transformation where necessary and shelf life after the first opening of a bottle, etc. The shelf life type shall be specified using an appropriate controlled vocabulary The controlled term and the controlled term identifier shall be specified.
      /// </summary>
      [FhirElement("type", InSummary=true, Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// The shelf life time period can be specified using a numerical value for the period of time and its unit of time measurement The unit of measurement shall be specified in accordance with ISO 11240 and the resulting terminology The symbol and the symbol identifier shall be used.
      /// </summary>
      [FhirElement("period", InSummary=true, Order=50, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Duration),typeof(Hl7.Fhir.Model.FhirString))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Period
      {
        get
        {
          if(_Period.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["period"]);
          return _Period;
        }

        set
        {
          if (_Period.InOverflow<DynamicDataType>())
            Overflow.Remove("period");
          _Period = value;
          OnPropertyChanged("Period");
        }

      }

      private Hl7.Fhir.Model.DataType? _Period;

      /// <summary>
      /// Special precautions for storage, if any, can be specified using an appropriate controlled vocabulary. The controlled term and the controlled term identifier shall be specified.
      /// </summary>
      [FhirElement("specialPrecautionsForStorage", InSummary=true, Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> SpecialPrecautionsForStorage
      {
        get
        {
          if(_SpecialPrecautionsForStorage.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["specialPrecautionsForStorage"]);
          return _SpecialPrecautionsForStorage ??= [];
        }

        set
        {
          if (_SpecialPrecautionsForStorage.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("specialPrecautionsForStorage");
          _SpecialPrecautionsForStorage = value;
          OnPropertyChanged("SpecialPrecautionsForStorage");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _SpecialPrecautionsForStorage;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ShelfLifeStorageComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Period is not null) dest.Period = (Hl7.Fhir.Model.DataType)_Period.DeepCopyInternal();
        if(_SpecialPrecautionsForStorage is not null) dest.SpecialPrecautionsForStorage = new List<Hl7.Fhir.Model.CodeableConcept>(_SpecialPrecautionsForStorage.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ShelfLifeStorageComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ShelfLifeStorageComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Period, otherT._Period)) return false;
        if(!comparer.ListEquals(_SpecialPrecautionsForStorage, otherT._SpecialPrecautionsForStorage)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "period":
            if (_Period.InOverflow<DynamicDataType>())
            {
              value = Overflow["period"];
              return true;
            }
            value = _Period;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "specialPrecautionsForStorage":
            if (_SpecialPrecautionsForStorage.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["specialPrecautionsForStorage"];
              return true;
            }
            value = _SpecialPrecautionsForStorage;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "period":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Period = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["period"] = value;
            }
            else Period = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "specialPrecautionsForStorage":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              SpecialPrecautionsForStorage = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["specialPrecautionsForStorage"] = value;
            }
            else SpecialPrecautionsForStorage = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Period is not null && !_Period.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("period",_Period);
        if (_SpecialPrecautionsForStorage?.Any() is true && !_SpecialPrecautionsForStorage.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("specialPrecautionsForStorage",_SpecialPrecautionsForStorage);
      }

    }

    /// <summary>
    /// General characteristics of this item
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("PackagedProductDefinition.package.property", IsBackboneType=true)]
    public partial class PropertyComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "PackagedProductDefinition.package.property";

      /// <summary>
      /// A code expressing the type of characteristic.
      /// </summary>
      [FhirElement("type", InSummary=true, Order=40)]
      [Binding("ProductCharacteristic")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type!;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// A value for the characteristic.
      /// </summary>
      [FhirElement("value", InSummary=true, Order=50, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.Quantity),typeof(Hl7.Fhir.Model.Date),typeof(Hl7.Fhir.Model.FhirBoolean),typeof(Hl7.Fhir.Model.Attachment))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Value
      {
        get
        {
          if(_Value.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["value"]);
          return _Value;
        }

        set
        {
          if (_Value.InOverflow<DynamicDataType>())
            Overflow.Remove("value");
          _Value = value;
          OnPropertyChanged("Value");
        }

      }

      private Hl7.Fhir.Model.DataType? _Value;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PropertyComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Value is not null) dest.Value = (Hl7.Fhir.Model.DataType)_Value.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PropertyComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PropertyComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Value, otherT._Value)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "value":
            if (_Value.InOverflow<DynamicDataType>())
            {
              value = Overflow["value"];
              return true;
            }
            value = _Value;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "value":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Value = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["value"] = value;
            }
            else Value = (Hl7.Fhir.Model.DataType?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Value is not null && !_Value.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("value",_Value);
      }

    }

    /// <summary>
    /// The item(s) within the packaging
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("PackagedProductDefinition.package.containedItem", IsBackboneType=true)]
    public partial class ContainedItemComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "PackagedProductDefinition.package.containedItem";

      /// <summary>
      /// The actual item(s) of medication, as manufactured, or a device, or other medically related item (food, biologicals, raw materials, medical fluids, gases etc.), as contained in the package.
      /// </summary>
      [FhirElement("item", InSummary=true, Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableReference Item
      {
        get
        {
          if(_Item.InOverflow<Hl7.Fhir.Model.CodeableReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableReference), Overflow["item"]);
          return _Item!;
        }

        set
        {
          if (_Item.InOverflow<Hl7.Fhir.Model.CodeableReference>())
            Overflow.Remove("item");
          _Item = value;
          OnPropertyChanged("Item");
        }

      }

      private Hl7.Fhir.Model.CodeableReference? _Item;

      /// <summary>
      /// The number of this type of item within this packaging.
      /// </summary>
      [FhirElement("amount", InSummary=true, Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Amount
      {
        get
        {
          if(_Amount.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["amount"]);
          return _Amount;
        }

        set
        {
          if (_Amount.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("amount");
          _Amount = value;
          OnPropertyChanged("Amount");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Amount;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ContainedItemComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Item is not null) dest.Item = (Hl7.Fhir.Model.CodeableReference)_Item.DeepCopyInternal();
        if(_Amount is not null) dest.Amount = (Hl7.Fhir.Model.Quantity)_Amount.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ContainedItemComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ContainedItemComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Item, otherT._Item)) return false;
        if(!comparer.Equals(_Amount, otherT._Amount)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "item":
            if (_Item.InOverflow<Hl7.Fhir.Model.CodeableReference>())
            {
              value = Overflow["item"];
              return true;
            }
            value = _Item;
            return (value as Hl7.Fhir.Model.CodeableReference) is not null;
          case "amount":
            if (_Amount.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["amount"];
              return true;
            }
            value = _Amount;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "item":
            if (value is not (Hl7.Fhir.Model.CodeableReference or null))
            {
              Item = OverflowNull<Hl7.Fhir.Model.CodeableReference>.INSTANCE;
              Overflow["item"] = value;
            }
            else Item = (Hl7.Fhir.Model.CodeableReference?)value!;
            return this;
          case "amount":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Amount = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["amount"] = value;
            }
            else Amount = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Item is not null && !_Item.InOverflow<Hl7.Fhir.Model.CodeableReference>()) yield return new KeyValuePair<string,object>("item",_Item);
        if (_Amount is not null && !_Amount.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("amount",_Amount);
      }

    }

    /// <summary>
    /// A unique identifier for this package as whole.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=90)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// A name for this package. Typically as listed in a drug formulary, catalogue, inventory etc.
    /// </summary>
    [FhirElement("name", InSummary=true, Order=100)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? NameElement
    {
      get
      {
        if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
        return _NameElement;
      }

      set
      {
        if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("name");
        _NameElement = value;
        OnPropertyChanged("NameElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _NameElement;

    /// <summary>
    /// A name for this package. Typically as listed in a drug formulary, catalogue, inventory etc
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Name
    {
      get => NameElement?.Value;
      set
      {
        NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Name");
      }
    }

    /// <summary>
    /// A high level category e.g. medicinal product, raw material, shipping container etc.
    /// </summary>
    [FhirElement("type", InSummary=true, Order=110)]
    [Binding("PackageType")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Type
    {
      get
      {
        if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
        return _Type;
      }

      set
      {
        if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("type");
        _Type = value;
        OnPropertyChanged("Type");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Type;

    /// <summary>
    /// The product that this is a pack for.
    /// </summary>
    [FhirElement("packageFor", InSummary=true, Order=120)]
    [CLSCompliant(false)]
    [References("MedicinalProductDefinition")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> PackageFor
    {
      get
      {
        if(_PackageFor.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["packageFor"]);
        return _PackageFor ??= [];
      }

      set
      {
        if (_PackageFor.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("packageFor");
        _PackageFor = value;
        OnPropertyChanged("PackageFor");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _PackageFor;

    /// <summary>
    /// The status within the lifecycle of this item. High level - not intended to duplicate details elsewhere e.g. legal status, or authorization/marketing status.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=130)]
    [Binding("PublicationStatus")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Status
    {
      get
      {
        if(_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["status"]);
        return _Status;
      }

      set
      {
        if (_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("status");
        _Status = value;
        OnPropertyChanged("Status");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Status;

    /// <summary>
    /// The date at which the given status became applicable.
    /// </summary>
    [FhirElement("statusDate", InSummary=true, Order=140)]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime? StatusDateElement
    {
      get
      {
        if(_StatusDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["statusDate"]);
        return _StatusDateElement;
      }

      set
      {
        if (_StatusDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("statusDate");
        _StatusDateElement = value;
        OnPropertyChanged("StatusDateElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _StatusDateElement;

    /// <summary>
    /// The date at which the given status became applicable
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? StatusDate
    {
      get => StatusDateElement?.Value;
      set
      {
        StatusDateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("StatusDate");
      }
    }

    /// <summary>
    /// A total of the complete count of contained items of a particular type/form, independent of sub-packaging or organization. This can be considered as the pack size.
    /// </summary>
    [FhirElement("containedItemQuantity", InSummary=true, Order=150)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Quantity> ContainedItemQuantity
    {
      get
      {
        if(_ContainedItemQuantity.InOverflow<List<Hl7.Fhir.Model.Quantity>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Quantity>), Overflow["containedItemQuantity"]);
        return _ContainedItemQuantity ??= [];
      }

      set
      {
        if (_ContainedItemQuantity.InOverflow<List<Hl7.Fhir.Model.Quantity>>())
          Overflow.Remove("containedItemQuantity");
        _ContainedItemQuantity = value;
        OnPropertyChanged("ContainedItemQuantity");
      }

    }

    private List<Hl7.Fhir.Model.Quantity>? _ContainedItemQuantity;

    /// <summary>
    /// Textual description. Note that this is not the name of the package or product.
    /// </summary>
    [FhirElement("description", InSummary=true, Order=160)]
    [DataMember]
    public Hl7.Fhir.Model.Markdown? DescriptionElement
    {
      get
      {
        if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Markdown), Overflow["description"]);
        return _DescriptionElement;
      }

      set
      {
        if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          Overflow.Remove("description");
        _DescriptionElement = value;
        OnPropertyChanged("DescriptionElement");
      }

    }

    private Hl7.Fhir.Model.Markdown? _DescriptionElement;

    /// <summary>
    /// Textual description. Note that this is not the name of the package or product
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Description
    {
      get => DescriptionElement?.Value;
      set
      {
        DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.Markdown(value);
        OnPropertyChanged("Description");
      }
    }

    /// <summary>
    /// The legal status of supply of the packaged item as classified by the regulator.
    /// </summary>
    [FhirElement("legalStatusOfSupply", InSummary=true, Order=170)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent> LegalStatusOfSupply
    {
      get
      {
        if(_LegalStatusOfSupply.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent>), Overflow["legalStatusOfSupply"]);
        return _LegalStatusOfSupply ??= [];
      }

      set
      {
        if (_LegalStatusOfSupply.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent>>())
          Overflow.Remove("legalStatusOfSupply");
        _LegalStatusOfSupply = value;
        OnPropertyChanged("LegalStatusOfSupply");
      }

    }

    private List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent>? _LegalStatusOfSupply;

    /// <summary>
    /// Allows specifying that an item is on the market for sale, or that it is not available, and the dates and locations associated.
    /// </summary>
    [FhirElement("marketingStatus", InSummary=true, Order=180)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.MarketingStatus> MarketingStatus
    {
      get
      {
        if(_MarketingStatus.InOverflow<List<Hl7.Fhir.Model.MarketingStatus>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.MarketingStatus>), Overflow["marketingStatus"]);
        return _MarketingStatus ??= [];
      }

      set
      {
        if (_MarketingStatus.InOverflow<List<Hl7.Fhir.Model.MarketingStatus>>())
          Overflow.Remove("marketingStatus");
        _MarketingStatus = value;
        OnPropertyChanged("MarketingStatus");
      }

    }

    private List<Hl7.Fhir.Model.MarketingStatus>? _MarketingStatus;

    /// <summary>
    /// Allows the key features to be recorded, such as "hospital pack", "nurse prescribable".
    /// </summary>
    [FhirElement("characteristic", InSummary=true, Order=190)]
    [Binding("PackageCharacteristic")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Characteristic
    {
      get
      {
        if(_Characteristic.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["characteristic"]);
        return _Characteristic ??= [];
      }

      set
      {
        if (_Characteristic.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("characteristic");
        _Characteristic = value;
        OnPropertyChanged("Characteristic");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Characteristic;

    /// <summary>
    /// If the drug product is supplied with another item such as a diluent or adjuvant.
    /// </summary>
    [FhirElement("copackagedIndicator", InSummary=true, Order=200)]
    [DataMember]
    public Hl7.Fhir.Model.FhirBoolean? CopackagedIndicatorElement
    {
      get
      {
        if(_CopackagedIndicatorElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["copackagedIndicator"]);
        return _CopackagedIndicatorElement;
      }

      set
      {
        if (_CopackagedIndicatorElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          Overflow.Remove("copackagedIndicator");
        _CopackagedIndicatorElement = value;
        OnPropertyChanged("CopackagedIndicatorElement");
      }

    }

    private Hl7.Fhir.Model.FhirBoolean? _CopackagedIndicatorElement;

    /// <summary>
    /// If the drug product is supplied with another item such as a diluent or adjuvant
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public bool? CopackagedIndicator
    {
      get => CopackagedIndicatorElement?.Value;
      set
      {
        CopackagedIndicatorElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
        OnPropertyChanged("CopackagedIndicator");
      }
    }

    /// <summary>
    /// Manufacturer of this package type (multiple means these are all possible manufacturers).
    /// </summary>
    [FhirElement("manufacturer", InSummary=true, Order=210)]
    [CLSCompliant(false)]
    [References("Organization")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Manufacturer
    {
      get
      {
        if(_Manufacturer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["manufacturer"]);
        return _Manufacturer ??= [];
      }

      set
      {
        if (_Manufacturer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("manufacturer");
        _Manufacturer = value;
        OnPropertyChanged("Manufacturer");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Manufacturer;

    /// <summary>
    /// A packaging item, as a container for medically related items, possibly with other packaging items within, or a packaging component, such as bottle cap.
    /// </summary>
    [FhirElement("package", InSummary=true, Order=220)]
    [DataMember]
    public Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent? Package
    {
      get
      {
        if(_Package.InOverflow<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent), Overflow["package"]);
        return _Package;
      }

      set
      {
        if (_Package.InOverflow<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>())
          Overflow.Remove("package");
        _Package = value;
        OnPropertyChanged("Package");
      }

    }

    private Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent? _Package;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not PackagedProductDefinition dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
      if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
      if(_PackageFor is not null) dest.PackageFor = new List<Hl7.Fhir.Model.ResourceReference>(_PackageFor.DeepCopyInternal());
      if(_Status is not null) dest.Status = (Hl7.Fhir.Model.CodeableConcept)_Status.DeepCopyInternal();
      if(_StatusDateElement is not null) dest.StatusDateElement = (Hl7.Fhir.Model.FhirDateTime)_StatusDateElement.DeepCopyInternal();
      if(_ContainedItemQuantity is not null) dest.ContainedItemQuantity = new List<Hl7.Fhir.Model.Quantity>(_ContainedItemQuantity.DeepCopyInternal());
      if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.Markdown)_DescriptionElement.DeepCopyInternal();
      if(_LegalStatusOfSupply is not null) dest.LegalStatusOfSupply = new List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent>(_LegalStatusOfSupply.DeepCopyInternal());
      if(_MarketingStatus is not null) dest.MarketingStatus = new List<Hl7.Fhir.Model.MarketingStatus>(_MarketingStatus.DeepCopyInternal());
      if(_Characteristic is not null) dest.Characteristic = new List<Hl7.Fhir.Model.CodeableConcept>(_Characteristic.DeepCopyInternal());
      if(_CopackagedIndicatorElement is not null) dest.CopackagedIndicatorElement = (Hl7.Fhir.Model.FhirBoolean)_CopackagedIndicatorElement.DeepCopyInternal();
      if(_Manufacturer is not null) dest.Manufacturer = new List<Hl7.Fhir.Model.ResourceReference>(_Manufacturer.DeepCopyInternal());
      if(_Package is not null) dest.Package = (Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent)_Package.DeepCopyInternal();
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new PackagedProductDefinition();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not PackagedProductDefinition otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
      if(!comparer.Equals(_Type, otherT._Type)) return false;
      if(!comparer.ListEquals(_PackageFor, otherT._PackageFor)) return false;
      if(!comparer.Equals(_Status, otherT._Status)) return false;
      if(!comparer.Equals(_StatusDateElement, otherT._StatusDateElement)) return false;
      if(!comparer.ListEquals(_ContainedItemQuantity, otherT._ContainedItemQuantity)) return false;
      if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
      if(!comparer.ListEquals(_LegalStatusOfSupply, otherT._LegalStatusOfSupply)) return false;
      if(!comparer.ListEquals(_MarketingStatus, otherT._MarketingStatus)) return false;
      if(!comparer.ListEquals(_Characteristic, otherT._Characteristic)) return false;
      if(!comparer.Equals(_CopackagedIndicatorElement, otherT._CopackagedIndicatorElement)) return false;
      if(!comparer.ListEquals(_Manufacturer, otherT._Manufacturer)) return false;
      if(!comparer.Equals(_Package, otherT._Package)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "name":
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["name"];
            return true;
          }
          value = _NameElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "type":
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["type"];
            return true;
          }
          value = _Type;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "packageFor":
          if (_PackageFor.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["packageFor"];
            return true;
          }
          value = _PackageFor;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "status":
          if (_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _Status;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "statusDate":
          if (_StatusDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["statusDate"];
            return true;
          }
          value = _StatusDateElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "containedItemQuantity":
          if (_ContainedItemQuantity.InOverflow<List<Hl7.Fhir.Model.Quantity>>())
          {
            value = Overflow["containedItemQuantity"];
            return true;
          }
          value = _ContainedItemQuantity;
          return (value as List<Hl7.Fhir.Model.Quantity>)?.Any() is true;
        case "description":
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>())
          {
            value = Overflow["description"];
            return true;
          }
          value = _DescriptionElement;
          return (value as Hl7.Fhir.Model.Markdown) is not null;
        case "legalStatusOfSupply":
          if (_LegalStatusOfSupply.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent>>())
          {
            value = Overflow["legalStatusOfSupply"];
            return true;
          }
          value = _LegalStatusOfSupply;
          return (value as List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent>)?.Any() is true;
        case "marketingStatus":
          if (_MarketingStatus.InOverflow<List<Hl7.Fhir.Model.MarketingStatus>>())
          {
            value = Overflow["marketingStatus"];
            return true;
          }
          value = _MarketingStatus;
          return (value as List<Hl7.Fhir.Model.MarketingStatus>)?.Any() is true;
        case "characteristic":
          if (_Characteristic.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["characteristic"];
            return true;
          }
          value = _Characteristic;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "copackagedIndicator":
          if (_CopackagedIndicatorElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
          {
            value = Overflow["copackagedIndicator"];
            return true;
          }
          value = _CopackagedIndicatorElement;
          return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
        case "manufacturer":
          if (_Manufacturer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["manufacturer"];
            return true;
          }
          value = _Manufacturer;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "package":
          if (_Package.InOverflow<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>())
          {
            value = Overflow["package"];
            return true;
          }
          value = _Package;
          return (value as Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent) is not null;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "name":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["name"] = value;
          }
          else NameElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "type":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["type"] = value;
          }
          else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "packageFor":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            PackageFor = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["packageFor"] = value;
          }
          else PackageFor = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "status":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Status = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["status"] = value;
          }
          else Status = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "statusDate":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            StatusDateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["statusDate"] = value;
          }
          else StatusDateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
          return this;
        case "containedItemQuantity":
          if (value is not (List<Hl7.Fhir.Model.Quantity> or null))
          {
            ContainedItemQuantity = OverflowNull<List<Hl7.Fhir.Model.Quantity>>.INSTANCE;
            Overflow["containedItemQuantity"] = value;
          }
          else ContainedItemQuantity = (List<Hl7.Fhir.Model.Quantity>?)value!;
          return this;
        case "description":
          if (value is not (Hl7.Fhir.Model.Markdown or null))
          {
            DescriptionElement = OverflowNull<Hl7.Fhir.Model.Markdown>.INSTANCE;
            Overflow["description"] = value;
          }
          else DescriptionElement = (Hl7.Fhir.Model.Markdown?)value;
          return this;
        case "legalStatusOfSupply":
          if (value is not (List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent> or null))
          {
            LegalStatusOfSupply = OverflowNull<List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent>>.INSTANCE;
            Overflow["legalStatusOfSupply"] = value;
          }
          else LegalStatusOfSupply = (List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent>?)value!;
          return this;
        case "marketingStatus":
          if (value is not (List<Hl7.Fhir.Model.MarketingStatus> or null))
          {
            MarketingStatus = OverflowNull<List<Hl7.Fhir.Model.MarketingStatus>>.INSTANCE;
            Overflow["marketingStatus"] = value;
          }
          else MarketingStatus = (List<Hl7.Fhir.Model.MarketingStatus>?)value!;
          return this;
        case "characteristic":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Characteristic = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["characteristic"] = value;
          }
          else Characteristic = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "copackagedIndicator":
          if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
          {
            CopackagedIndicatorElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
            Overflow["copackagedIndicator"] = value;
          }
          else CopackagedIndicatorElement = (Hl7.Fhir.Model.FhirBoolean?)value;
          return this;
        case "manufacturer":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Manufacturer = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["manufacturer"] = value;
          }
          else Manufacturer = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "package":
          if (value is not (Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent or null))
          {
            Package = OverflowNull<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>.INSTANCE;
            Overflow["package"] = value;
          }
          else Package = (Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent?)value;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
      if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
      if (_PackageFor?.Any() is true && !_PackageFor.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("packageFor",_PackageFor);
      if (_Status is not null && !_Status.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("status",_Status);
      if (_StatusDateElement is not null && !_StatusDateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("statusDate",_StatusDateElement);
      if (_ContainedItemQuantity?.Any() is true && !_ContainedItemQuantity.InOverflow<List<Hl7.Fhir.Model.Quantity>>()) yield return new KeyValuePair<string,object>("containedItemQuantity",_ContainedItemQuantity);
      if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.Markdown>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      if (_LegalStatusOfSupply?.Any() is true && !_LegalStatusOfSupply.InOverflow<List<Hl7.Fhir.Model.PackagedProductDefinition.LegalStatusOfSupplyComponent>>()) yield return new KeyValuePair<string,object>("legalStatusOfSupply",_LegalStatusOfSupply);
      if (_MarketingStatus?.Any() is true && !_MarketingStatus.InOverflow<List<Hl7.Fhir.Model.MarketingStatus>>()) yield return new KeyValuePair<string,object>("marketingStatus",_MarketingStatus);
      if (_Characteristic?.Any() is true && !_Characteristic.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("characteristic",_Characteristic);
      if (_CopackagedIndicatorElement is not null && !_CopackagedIndicatorElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("copackagedIndicator",_CopackagedIndicatorElement);
      if (_Manufacturer?.Any() is true && !_Manufacturer.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("manufacturer",_Manufacturer);
      if (_Package is not null && !_Package.InOverflow<Hl7.Fhir.Model.PackagedProductDefinition.PackageComponent>()) yield return new KeyValuePair<string,object>("package",_Package);
    }

  }

}

// end of file
