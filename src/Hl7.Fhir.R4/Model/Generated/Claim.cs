// <auto-generated/>
// Contents of: hl7.fhir.r4.expansions@4.0.1, hl7.fhir.r4.core@4.0.1

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// Claim, Pre-determination or Pre-authorization
  /// </summary>
  /// <remarks>
  /// A provider issued list of professional services and products which have been provided, or are to be provided, to a patient which is sent to an insurer for reimbursement.
  /// The Claim resource fulfills three information request requirements: Claim - a request for adjudication for reimbursement for products and/or services provided; Preauthorization - a request to authorize the future provision of products and/or services including an anticipated adjudication; and, Predetermination - a request for a non-bind adjudication of possible future products and/or services.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("Claim","http://hl7.org/fhir/StructureDefinition/Claim")]
  public partial class Claim : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>, ICoded<Hl7.Fhir.Model.CodeableConcept?>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "Claim";

    /// <summary>
    /// Prior or corollary claims
    /// </summary>
    /// <remarks>
    /// Other claims which are related to this claim such as prior submissions or claims for related services or for the same event.
    /// For example,  for the original treatment and follow-up exams.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.related", IsBackboneType=true)]
    public partial class RelatedClaimComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.related";

      /// <summary>
      /// Reference to the related claim.
      /// </summary>
      [FhirElement("claim", Order=40)]
      [CLSCompliant(false)]
      [References("Claim")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Claim
      {
        get
        {
          if(_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["claim"]);
          return _Claim;
        }

        set
        {
          if (_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("claim");
          _Claim = value;
          OnPropertyChanged("Claim");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Claim;

      /// <summary>
      /// How the reference claim is related.
      /// </summary>
      [FhirElement("relationship", Order=50)]
      [Binding("RelatedClaimRelationship")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Relationship
      {
        get
        {
          if(_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["relationship"]);
          return _Relationship;
        }

        set
        {
          if (_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("relationship");
          _Relationship = value;
          OnPropertyChanged("Relationship");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Relationship;

      /// <summary>
      /// File or case reference.
      /// </summary>
      [FhirElement("reference", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Identifier? Reference
      {
        get
        {
          if(_Reference.InOverflow<Hl7.Fhir.Model.Identifier>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["reference"]);
          return _Reference;
        }

        set
        {
          if (_Reference.InOverflow<Hl7.Fhir.Model.Identifier>())
            Overflow.Remove("reference");
          _Reference = value;
          OnPropertyChanged("Reference");
        }

      }

      private Hl7.Fhir.Model.Identifier? _Reference;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not RelatedClaimComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Claim is not null) dest.Claim = (Hl7.Fhir.Model.ResourceReference)_Claim.DeepCopyInternal();
        if(_Relationship is not null) dest.Relationship = (Hl7.Fhir.Model.CodeableConcept)_Relationship.DeepCopyInternal();
        if(_Reference is not null) dest.Reference = (Hl7.Fhir.Model.Identifier)_Reference.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new RelatedClaimComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not RelatedClaimComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Claim, otherT._Claim)) return false;
        if(!comparer.Equals(_Relationship, otherT._Relationship)) return false;
        if(!comparer.Equals(_Reference, otherT._Reference)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "claim":
            if (_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["claim"];
              return true;
            }
            value = _Claim;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "relationship":
            if (_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["relationship"];
              return true;
            }
            value = _Relationship;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "reference":
            if (_Reference.InOverflow<Hl7.Fhir.Model.Identifier>())
            {
              value = Overflow["reference"];
              return true;
            }
            value = _Reference;
            return (value as Hl7.Fhir.Model.Identifier) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "claim":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Claim = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["claim"] = value;
            }
            else Claim = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          case "relationship":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Relationship = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["relationship"] = value;
            }
            else Relationship = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "reference":
            if (value is not (Hl7.Fhir.Model.Identifier or null))
            {
              Reference = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
              Overflow["reference"] = value;
            }
            else Reference = (Hl7.Fhir.Model.Identifier?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Claim is not null && !_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("claim",_Claim);
        if (_Relationship is not null && !_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("relationship",_Relationship);
        if (_Reference is not null && !_Reference.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("reference",_Reference);
      }

    }

    /// <summary>
    /// Recipient of benefits payable
    /// </summary>
    /// <remarks>
    /// The party to be reimbursed for cost of the products and services according to the terms of the policy.
    /// Often providers agree to receive the benefits payable to reduce the near-term costs to the patient. The insurer may decline to pay the provider and choose to pay the subscriber instead.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.payee", IsBackboneType=true)]
    public partial class PayeeComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.payee";

      /// <summary>
      /// Category of recipient.
      /// </summary>
      [FhirElement("type", Order=40)]
      [Binding("PayeeType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type!;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Recipient reference.
      /// </summary>
      [FhirElement("party", Order=50)]
      [CLSCompliant(false)]
      [References("Practitioner","PractitionerRole","Organization","Patient","RelatedPerson")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Party
      {
        get
        {
          if(_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["party"]);
          return _Party;
        }

        set
        {
          if (_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("party");
          _Party = value;
          OnPropertyChanged("Party");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Party;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PayeeComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Party is not null) dest.Party = (Hl7.Fhir.Model.ResourceReference)_Party.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PayeeComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PayeeComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Party, otherT._Party)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "party":
            if (_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["party"];
              return true;
            }
            value = _Party;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "party":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Party = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["party"] = value;
            }
            else Party = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Party is not null && !_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("party",_Party);
      }

    }

    /// <summary>
    /// Members of the care team
    /// </summary>
    /// <remarks>
    /// The members of the team who provided the products and services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.careTeam", IsBackboneType=true)]
    public partial class CareTeamComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.careTeam";

      /// <summary>
      /// Order of care team.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Order of care team
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Practitioner or organization.
      /// </summary>
      [FhirElement("provider", Order=50, FiveWs="FiveWs.actor")]
      [CLSCompliant(false)]
      [References("Practitioner","PractitionerRole","Organization")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference Provider
      {
        get
        {
          if(_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["provider"]);
          return _Provider!;
        }

        set
        {
          if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("provider");
          _Provider = value;
          OnPropertyChanged("Provider");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Provider;

      /// <summary>
      /// Indicator of the lead practitioner.
      /// </summary>
      [FhirElement("responsible", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? ResponsibleElement
      {
        get
        {
          if(_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["responsible"]);
          return _ResponsibleElement;
        }

        set
        {
          if (_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("responsible");
          _ResponsibleElement = value;
          OnPropertyChanged("ResponsibleElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _ResponsibleElement;

      /// <summary>
      /// Indicator of the lead practitioner
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Responsible
      {
        get => ResponsibleElement?.Value;
        set
        {
          ResponsibleElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Responsible");
        }
      }

      /// <summary>
      /// Function within the team.
      /// </summary>
      [FhirElement("role", Order=70)]
      [Binding("CareTeamRole")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Role
      {
        get
        {
          if(_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["role"]);
          return _Role;
        }

        set
        {
          if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("role");
          _Role = value;
          OnPropertyChanged("Role");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Role;

      /// <summary>
      /// Practitioner credential or specialization.
      /// </summary>
      [FhirElement("qualification", Order=80)]
      [Binding("ProviderQualification")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Qualification
      {
        get
        {
          if(_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["qualification"]);
          return _Qualification;
        }

        set
        {
          if (_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("qualification");
          _Qualification = value;
          OnPropertyChanged("Qualification");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Qualification;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not CareTeamComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Provider is not null) dest.Provider = (Hl7.Fhir.Model.ResourceReference)_Provider.DeepCopyInternal();
        if(_ResponsibleElement is not null) dest.ResponsibleElement = (Hl7.Fhir.Model.FhirBoolean)_ResponsibleElement.DeepCopyInternal();
        if(_Role is not null) dest.Role = (Hl7.Fhir.Model.CodeableConcept)_Role.DeepCopyInternal();
        if(_Qualification is not null) dest.Qualification = (Hl7.Fhir.Model.CodeableConcept)_Qualification.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new CareTeamComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not CareTeamComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Provider, otherT._Provider)) return false;
        if(!comparer.Equals(_ResponsibleElement, otherT._ResponsibleElement)) return false;
        if(!comparer.Equals(_Role, otherT._Role)) return false;
        if(!comparer.Equals(_Qualification, otherT._Qualification)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "provider":
            if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["provider"];
              return true;
            }
            value = _Provider;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "responsible":
            if (_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["responsible"];
              return true;
            }
            value = _ResponsibleElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "role":
            if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["role"];
              return true;
            }
            value = _Role;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "qualification":
            if (_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["qualification"];
              return true;
            }
            value = _Qualification;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "provider":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Provider = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["provider"] = value;
            }
            else Provider = (Hl7.Fhir.Model.ResourceReference?)value!;
            return this;
          case "responsible":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              ResponsibleElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["responsible"] = value;
            }
            else ResponsibleElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "role":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Role = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["role"] = value;
            }
            else Role = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "qualification":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Qualification = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["qualification"] = value;
            }
            else Qualification = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Provider is not null && !_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("provider",_Provider);
        if (_ResponsibleElement is not null && !_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("responsible",_ResponsibleElement);
        if (_Role is not null && !_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("role",_Role);
        if (_Qualification is not null && !_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("qualification",_Qualification);
      }

    }

    /// <summary>
    /// Supporting information
    /// </summary>
    /// <remarks>
    /// Additional information codes regarding exceptions, special considerations, the condition, situation, prior or concurrent issues.
    /// Often there are multiple jurisdiction specific valuesets which are required.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.supportingInfo", IsBackboneType=true)]
    public partial class SupportingInformationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.supportingInfo";

      /// <summary>
      /// Information instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Information instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Classification of the supplied information.
      /// </summary>
      [FhirElement("category", Order=50)]
      [Binding("InformationCategory")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category!;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Type of information.
      /// </summary>
      [FhirElement("code", Order=60)]
      [Binding("InformationCode")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Code
      {
        get
        {
          if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
          return _Code;
        }

        set
        {
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("code");
          _Code = value;
          OnPropertyChanged("Code");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Code;

      /// <summary>
      /// When it occurred.
      /// </summary>
      [FhirElement("timing", Order=70, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Date),typeof(Hl7.Fhir.Model.Period))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Timing
      {
        get
        {
          if(_Timing.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["timing"]);
          return _Timing;
        }

        set
        {
          if (_Timing.InOverflow<DynamicDataType>())
            Overflow.Remove("timing");
          _Timing = value;
          OnPropertyChanged("Timing");
        }

      }

      private Hl7.Fhir.Model.DataType? _Timing;

      /// <summary>
      /// Data to be provided.
      /// </summary>
      [FhirElement("value", Order=80, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [References("Resource")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.FhirBoolean),typeof(Hl7.Fhir.Model.FhirString),typeof(Hl7.Fhir.Model.Quantity),typeof(Hl7.Fhir.Model.Attachment),typeof(Hl7.Fhir.Model.ResourceReference))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Value
      {
        get
        {
          if(_Value.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["value"]);
          return _Value;
        }

        set
        {
          if (_Value.InOverflow<DynamicDataType>())
            Overflow.Remove("value");
          _Value = value;
          OnPropertyChanged("Value");
        }

      }

      private Hl7.Fhir.Model.DataType? _Value;

      /// <summary>
      /// Explanation for the information.
      /// </summary>
      [FhirElement("reason", Order=90)]
      [Binding("MissingReason")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Reason
      {
        get
        {
          if(_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["reason"]);
          return _Reason;
        }

        set
        {
          if (_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("reason");
          _Reason = value;
          OnPropertyChanged("Reason");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Reason;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SupportingInformationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
        if(_Timing is not null) dest.Timing = (Hl7.Fhir.Model.DataType)_Timing.DeepCopyInternal();
        if(_Value is not null) dest.Value = (Hl7.Fhir.Model.DataType)_Value.DeepCopyInternal();
        if(_Reason is not null) dest.Reason = (Hl7.Fhir.Model.CodeableConcept)_Reason.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SupportingInformationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SupportingInformationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Code, otherT._Code)) return false;
        if(!comparer.Equals(_Timing, otherT._Timing)) return false;
        if(!comparer.Equals(_Value, otherT._Value)) return false;
        if(!comparer.Equals(_Reason, otherT._Reason)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "code":
            if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _Code;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "timing":
            if (_Timing.InOverflow<DynamicDataType>())
            {
              value = Overflow["timing"];
              return true;
            }
            value = _Timing;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "value":
            if (_Value.InOverflow<DynamicDataType>())
            {
              value = Overflow["value"];
              return true;
            }
            value = _Value;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "reason":
            if (_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["reason"];
              return true;
            }
            value = _Reason;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "code":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["code"] = value;
            }
            else Code = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "timing":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Timing = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["timing"] = value;
            }
            else Timing = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "value":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Value = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["value"] = value;
            }
            else Value = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "reason":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Reason = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["reason"] = value;
            }
            else Reason = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
        if (_Timing is not null && !_Timing.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("timing",_Timing);
        if (_Value is not null && !_Value.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("value",_Value);
        if (_Reason is not null && !_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("reason",_Reason);
      }

    }

    /// <summary>
    /// Pertinent diagnosis information
    /// </summary>
    /// <remarks>
    /// Information about diagnoses relevant to the claim items.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.diagnosis", IsBackboneType=true)]
    public partial class DiagnosisComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.diagnosis";

      /// <summary>
      /// Diagnosis instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Diagnosis instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Nature of illness or problem.
      /// </summary>
      [FhirElement("diagnosis", Order=50, Choice=ChoiceType.DatatypeChoice)]
      [Binding("ICD10")]
      [CLSCompliant(false)]
      [References("Condition")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.ResourceReference))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Diagnosis
      {
        get
        {
          if(_Diagnosis.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["diagnosis"]);
          return _Diagnosis!;
        }

        set
        {
          if (_Diagnosis.InOverflow<DynamicDataType>())
            Overflow.Remove("diagnosis");
          _Diagnosis = value;
          OnPropertyChanged("Diagnosis");
        }

      }

      private Hl7.Fhir.Model.DataType? _Diagnosis;

      /// <summary>
      /// Timing or nature of the diagnosis.
      /// </summary>
      [FhirElement("type", Order=60)]
      [Binding("DiagnosisType")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Type
      {
        get
        {
          if(_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["type"]);
          return _Type ??= [];
        }

        set
        {
          if (_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Type;

      /// <summary>
      /// Present on admission.
      /// </summary>
      [FhirElement("onAdmission", Order=70)]
      [Binding("DiagnosisOnAdmission")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? OnAdmission
      {
        get
        {
          if(_OnAdmission.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["onAdmission"]);
          return _OnAdmission;
        }

        set
        {
          if (_OnAdmission.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("onAdmission");
          _OnAdmission = value;
          OnPropertyChanged("OnAdmission");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _OnAdmission;

      /// <summary>
      /// Package billing code.
      /// </summary>
      [FhirElement("packageCode", Order=80)]
      [Binding("DiagnosisRelatedGroup")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? PackageCode
      {
        get
        {
          if(_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["packageCode"]);
          return _PackageCode;
        }

        set
        {
          if (_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("packageCode");
          _PackageCode = value;
          OnPropertyChanged("PackageCode");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _PackageCode;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not DiagnosisComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Diagnosis is not null) dest.Diagnosis = (Hl7.Fhir.Model.DataType)_Diagnosis.DeepCopyInternal();
        if(_Type is not null) dest.Type = new List<Hl7.Fhir.Model.CodeableConcept>(_Type.DeepCopyInternal());
        if(_OnAdmission is not null) dest.OnAdmission = (Hl7.Fhir.Model.CodeableConcept)_OnAdmission.DeepCopyInternal();
        if(_PackageCode is not null) dest.PackageCode = (Hl7.Fhir.Model.CodeableConcept)_PackageCode.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new DiagnosisComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not DiagnosisComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Diagnosis, otherT._Diagnosis)) return false;
        if(!comparer.ListEquals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_OnAdmission, otherT._OnAdmission)) return false;
        if(!comparer.Equals(_PackageCode, otherT._PackageCode)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "diagnosis":
            if (_Diagnosis.InOverflow<DynamicDataType>())
            {
              value = Overflow["diagnosis"];
              return true;
            }
            value = _Diagnosis;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "type":
            if (_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "onAdmission":
            if (_OnAdmission.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["onAdmission"];
              return true;
            }
            value = _OnAdmission;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "packageCode":
            if (_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["packageCode"];
              return true;
            }
            value = _PackageCode;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "diagnosis":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Diagnosis = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["diagnosis"] = value;
            }
            else Diagnosis = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          case "type":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Type = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "onAdmission":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              OnAdmission = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["onAdmission"] = value;
            }
            else OnAdmission = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "packageCode":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              PackageCode = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["packageCode"] = value;
            }
            else PackageCode = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Diagnosis is not null && !_Diagnosis.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("diagnosis",_Diagnosis);
        if (_Type?.Any() is true && !_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_OnAdmission is not null && !_OnAdmission.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("onAdmission",_OnAdmission);
        if (_PackageCode is not null && !_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("packageCode",_PackageCode);
      }

    }

    /// <summary>
    /// Clinical procedures performed
    /// </summary>
    /// <remarks>
    /// Procedures performed on the patient relevant to the billing items with the claim.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.procedure", IsBackboneType=true)]
    public partial class ProcedureComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.procedure";

      /// <summary>
      /// Procedure instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Procedure instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Category of Procedure.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("ProcedureType")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Type
      {
        get
        {
          if(_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["type"]);
          return _Type ??= [];
        }

        set
        {
          if (_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Type;

      /// <summary>
      /// When the procedure was performed.
      /// </summary>
      [FhirElement("date", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDateTime? DateElement
      {
        get
        {
          if(_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["date"]);
          return _DateElement;
        }

        set
        {
          if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            Overflow.Remove("date");
          _DateElement = value;
          OnPropertyChanged("DateElement");
        }

      }

      private Hl7.Fhir.Model.FhirDateTime? _DateElement;

      /// <summary>
      /// When the procedure was performed
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Date
      {
        get => DateElement?.Value;
        set
        {
          DateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
          OnPropertyChanged("Date");
        }
      }

      /// <summary>
      /// Specific clinical procedure.
      /// </summary>
      [FhirElement("procedure", Order=70, Choice=ChoiceType.DatatypeChoice)]
      [Binding("ICD10_Procedures")]
      [CLSCompliant(false)]
      [References("Procedure")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.ResourceReference))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Procedure
      {
        get
        {
          if(_Procedure.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["procedure"]);
          return _Procedure!;
        }

        set
        {
          if (_Procedure.InOverflow<DynamicDataType>())
            Overflow.Remove("procedure");
          _Procedure = value;
          OnPropertyChanged("Procedure");
        }

      }

      private Hl7.Fhir.Model.DataType? _Procedure;

      /// <summary>
      /// Unique device identifier.
      /// </summary>
      [FhirElement("udi", Order=80)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ProcedureComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Type is not null) dest.Type = new List<Hl7.Fhir.Model.CodeableConcept>(_Type.DeepCopyInternal());
        if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.FhirDateTime)_DateElement.DeepCopyInternal();
        if(_Procedure is not null) dest.Procedure = (Hl7.Fhir.Model.DataType)_Procedure.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ProcedureComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ProcedureComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.ListEquals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
        if(!comparer.Equals(_Procedure, otherT._Procedure)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "type":
            if (_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "date":
            if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            {
              value = Overflow["date"];
              return true;
            }
            value = _DateElement;
            return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
          case "procedure":
            if (_Procedure.InOverflow<DynamicDataType>())
            {
              value = Overflow["procedure"];
              return true;
            }
            value = _Procedure;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "type":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Type = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "date":
            if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
            {
              DateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
              Overflow["date"] = value;
            }
            else DateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
            return this;
          case "procedure":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Procedure = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["procedure"] = value;
            }
            else Procedure = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Type?.Any() is true && !_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("date",_DateElement);
        if (_Procedure is not null && !_Procedure.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("procedure",_Procedure);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
      }

    }

    /// <summary>
    /// Patient insurance information
    /// </summary>
    /// <remarks>
    /// Financial instruments for reimbursement for the health care products and services specified on the claim.
    /// All insurance coverages for the patient which may be applicable for reimbursement, of the products and services listed in the claim, are typically provided in the claim to allow insurers to confirm the ordering of the insurance coverages relative to local 'coordination of benefit' rules. One coverage (and only one) with 'focal=true' is to be used in the adjudication of this claim. Coverages appearing before the focal Coverage in the list, and where 'Coverage.subrogation=false', should provide a reference to the ClaimResponse containing the adjudication results of the prior claim.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.insurance", IsBackboneType=true)]
    public partial class InsuranceComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.insurance";

      /// <summary>
      /// Insurance instance identifier.
      /// </summary>
      [FhirElement("sequence", InSummary=true, Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Insurance instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Coverage to be used for adjudication.
      /// </summary>
      [FhirElement("focal", InSummary=true, Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean FocalElement
      {
        get
        {
          if(_FocalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["focal"]);
          return _FocalElement!;
        }

        set
        {
          if (_FocalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("focal");
          _FocalElement = value;
          OnPropertyChanged("FocalElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _FocalElement;

      /// <summary>
      /// Coverage to be used for adjudication
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Focal
      {
        get => FocalElement?.Value;
        set
        {
          FocalElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Focal");
        }
      }

      /// <summary>
      /// Pre-assigned Claim number.
      /// </summary>
      [FhirElement("identifier", Order=60, FiveWs="FiveWs.identifier")]
      [DataMember]
      public Hl7.Fhir.Model.Identifier? Identifier
      {
        get
        {
          if(_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["identifier"]);
          return _Identifier;
        }

        set
        {
          if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            Overflow.Remove("identifier");
          _Identifier = value;
          OnPropertyChanged("Identifier");
        }

      }

      private Hl7.Fhir.Model.Identifier? _Identifier;

      /// <summary>
      /// Insurance information.
      /// </summary>
      [FhirElement("coverage", InSummary=true, Order=70)]
      [CLSCompliant(false)]
      [References("Coverage")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference Coverage
      {
        get
        {
          if(_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["coverage"]);
          return _Coverage!;
        }

        set
        {
          if (_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("coverage");
          _Coverage = value;
          OnPropertyChanged("Coverage");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Coverage;

      /// <summary>
      /// Additional provider contract number.
      /// </summary>
      [FhirElement("businessArrangement", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? BusinessArrangementElement
      {
        get
        {
          if(_BusinessArrangementElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["businessArrangement"]);
          return _BusinessArrangementElement;
        }

        set
        {
          if (_BusinessArrangementElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("businessArrangement");
          _BusinessArrangementElement = value;
          OnPropertyChanged("BusinessArrangementElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _BusinessArrangementElement;

      /// <summary>
      /// Additional provider contract number
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? BusinessArrangement
      {
        get => BusinessArrangementElement?.Value;
        set
        {
          BusinessArrangementElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("BusinessArrangement");
        }
      }

      /// <summary>
      /// Prior authorization reference number.
      /// </summary>
      [FhirElement("preAuthRef", Order=90)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.FhirString> PreAuthRefElement
      {
        get
        {
          if(_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirString>), Overflow["preAuthRef"]);
          return _PreAuthRefElement ??= [];
        }

        set
        {
          if (_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            Overflow.Remove("preAuthRef");
          _PreAuthRefElement = value;
          OnPropertyChanged("PreAuthRefElement");
        }

      }

      private List<Hl7.Fhir.Model.FhirString>? _PreAuthRefElement;

      /// <summary>
      /// Prior authorization reference number
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<string?> PreAuthRef
      {
        get => _PreAuthRefElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            PreAuthRefElement = null!;
          else
            PreAuthRefElement = new List<Hl7.Fhir.Model.FhirString>(value.Select(elem=>new Hl7.Fhir.Model.FhirString(elem)));
          OnPropertyChanged("PreAuthRef");
        }
      }

      /// <summary>
      /// Adjudication results.
      /// </summary>
      [FhirElement("claimResponse", Order=100)]
      [CLSCompliant(false)]
      [References("ClaimResponse")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? ClaimResponse
      {
        get
        {
          if(_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["claimResponse"]);
          return _ClaimResponse;
        }

        set
        {
          if (_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("claimResponse");
          _ClaimResponse = value;
          OnPropertyChanged("ClaimResponse");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _ClaimResponse;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not InsuranceComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_FocalElement is not null) dest.FocalElement = (Hl7.Fhir.Model.FhirBoolean)_FocalElement.DeepCopyInternal();
        if(_Identifier is not null) dest.Identifier = (Hl7.Fhir.Model.Identifier)_Identifier.DeepCopyInternal();
        if(_Coverage is not null) dest.Coverage = (Hl7.Fhir.Model.ResourceReference)_Coverage.DeepCopyInternal();
        if(_BusinessArrangementElement is not null) dest.BusinessArrangementElement = (Hl7.Fhir.Model.FhirString)_BusinessArrangementElement.DeepCopyInternal();
        if(_PreAuthRefElement is not null) dest.PreAuthRefElement = new List<Hl7.Fhir.Model.FhirString>(_PreAuthRefElement.DeepCopyInternal());
        if(_ClaimResponse is not null) dest.ClaimResponse = (Hl7.Fhir.Model.ResourceReference)_ClaimResponse.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new InsuranceComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not InsuranceComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_FocalElement, otherT._FocalElement)) return false;
        if(!comparer.Equals(_Identifier, otherT._Identifier)) return false;
        if(!comparer.Equals(_Coverage, otherT._Coverage)) return false;
        if(!comparer.Equals(_BusinessArrangementElement, otherT._BusinessArrangementElement)) return false;
        if(!comparer.ListEquals(_PreAuthRefElement, otherT._PreAuthRefElement)) return false;
        if(!comparer.Equals(_ClaimResponse, otherT._ClaimResponse)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "focal":
            if (_FocalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["focal"];
              return true;
            }
            value = _FocalElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "identifier":
            if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            {
              value = Overflow["identifier"];
              return true;
            }
            value = _Identifier;
            return (value as Hl7.Fhir.Model.Identifier) is not null;
          case "coverage":
            if (_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["coverage"];
              return true;
            }
            value = _Coverage;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "businessArrangement":
            if (_BusinessArrangementElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["businessArrangement"];
              return true;
            }
            value = _BusinessArrangementElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "preAuthRef":
            if (_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            {
              value = Overflow["preAuthRef"];
              return true;
            }
            value = _PreAuthRefElement;
            return (value as List<Hl7.Fhir.Model.FhirString>)?.Any() is true;
          case "claimResponse":
            if (_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["claimResponse"];
              return true;
            }
            value = _ClaimResponse;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "focal":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              FocalElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["focal"] = value;
            }
            else FocalElement = (Hl7.Fhir.Model.FhirBoolean?)value!;
            return this;
          case "identifier":
            if (value is not (Hl7.Fhir.Model.Identifier or null))
            {
              Identifier = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
              Overflow["identifier"] = value;
            }
            else Identifier = (Hl7.Fhir.Model.Identifier?)value;
            return this;
          case "coverage":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Coverage = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["coverage"] = value;
            }
            else Coverage = (Hl7.Fhir.Model.ResourceReference?)value!;
            return this;
          case "businessArrangement":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              BusinessArrangementElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["businessArrangement"] = value;
            }
            else BusinessArrangementElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "preAuthRef":
            if (value is not (List<Hl7.Fhir.Model.FhirString> or null))
            {
              PreAuthRefElement = OverflowNull<List<Hl7.Fhir.Model.FhirString>>.INSTANCE;
              Overflow["preAuthRef"] = value;
            }
            else PreAuthRefElement = (List<Hl7.Fhir.Model.FhirString>?)value!;
            return this;
          case "claimResponse":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              ClaimResponse = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["claimResponse"] = value;
            }
            else ClaimResponse = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_FocalElement is not null && !_FocalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("focal",_FocalElement);
        if (_Identifier is not null && !_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
        if (_Coverage is not null && !_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("coverage",_Coverage);
        if (_BusinessArrangementElement is not null && !_BusinessArrangementElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("businessArrangement",_BusinessArrangementElement);
        if (_PreAuthRefElement?.Any() is true && !_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>()) yield return new KeyValuePair<string,object>("preAuthRef",_PreAuthRefElement);
        if (_ClaimResponse is not null && !_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("claimResponse",_ClaimResponse);
      }

    }

    /// <summary>
    /// Details of the event
    /// </summary>
    /// <remarks>
    /// Details of an accident which resulted in injuries which required the products and services listed in the claim.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.accident", IsBackboneType=true)]
    public partial class AccidentComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.accident";

      /// <summary>
      /// When the incident occurred.
      /// </summary>
      [FhirElement("date", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Date DateElement
      {
        get
        {
          if(_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Date), Overflow["date"]);
          return _DateElement!;
        }

        set
        {
          if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            Overflow.Remove("date");
          _DateElement = value;
          OnPropertyChanged("DateElement");
        }

      }

      private Hl7.Fhir.Model.Date? _DateElement;

      /// <summary>
      /// When the incident occurred
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Date
      {
        get => DateElement?.Value;
        set
        {
          DateElement = value is null ? null! : new Hl7.Fhir.Model.Date(value);
          OnPropertyChanged("Date");
        }
      }

      /// <summary>
      /// The nature of the accident.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("AccidentType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Where the event occurred.
      /// </summary>
      [FhirElement("location", Order=60, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [References("Location")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Address),typeof(Hl7.Fhir.Model.ResourceReference))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Location
      {
        get
        {
          if(_Location.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["location"]);
          return _Location;
        }

        set
        {
          if (_Location.InOverflow<DynamicDataType>())
            Overflow.Remove("location");
          _Location = value;
          OnPropertyChanged("Location");
        }

      }

      private Hl7.Fhir.Model.DataType? _Location;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AccidentComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.Date)_DateElement.DeepCopyInternal();
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Location is not null) dest.Location = (Hl7.Fhir.Model.DataType)_Location.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AccidentComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AccidentComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Location, otherT._Location)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "date":
            if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            {
              value = Overflow["date"];
              return true;
            }
            value = _DateElement;
            return (value as Hl7.Fhir.Model.Date) is not null;
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "location":
            if (_Location.InOverflow<DynamicDataType>())
            {
              value = Overflow["location"];
              return true;
            }
            value = _Location;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "date":
            if (value is not (Hl7.Fhir.Model.Date or null))
            {
              DateElement = OverflowNull<Hl7.Fhir.Model.Date>.INSTANCE;
              Overflow["date"] = value;
            }
            else DateElement = (Hl7.Fhir.Model.Date?)value!;
            return this;
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "location":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Location = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["location"] = value;
            }
            else Location = (Hl7.Fhir.Model.DataType?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.Date>()) yield return new KeyValuePair<string,object>("date",_DateElement);
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Location is not null && !_Location.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("location",_Location);
      }

    }

    /// <summary>
    /// Product or service provided
    /// </summary>
    /// <remarks>
    /// A claim line. Either a simple  product or service or a 'group' of details which can each be a simple items or groups of sub-details.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.item", IsBackboneType=true)]
    public partial class ItemComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.item";

      /// <summary>
      /// Item instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Item instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Applicable careTeam members.
      /// </summary>
      [FhirElement("careTeamSequence", Order=50)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> CareTeamSequenceElement
      {
        get
        {
          if(_CareTeamSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["careTeamSequence"]);
          return _CareTeamSequenceElement ??= [];
        }

        set
        {
          if (_CareTeamSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("careTeamSequence");
          _CareTeamSequenceElement = value;
          OnPropertyChanged("CareTeamSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _CareTeamSequenceElement;

      /// <summary>
      /// Applicable careTeam members
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> CareTeamSequence
      {
        get => _CareTeamSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            CareTeamSequenceElement = null!;
          else
            CareTeamSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("CareTeamSequence");
        }
      }

      /// <summary>
      /// Applicable diagnoses.
      /// </summary>
      [FhirElement("diagnosisSequence", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> DiagnosisSequenceElement
      {
        get
        {
          if(_DiagnosisSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["diagnosisSequence"]);
          return _DiagnosisSequenceElement ??= [];
        }

        set
        {
          if (_DiagnosisSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("diagnosisSequence");
          _DiagnosisSequenceElement = value;
          OnPropertyChanged("DiagnosisSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _DiagnosisSequenceElement;

      /// <summary>
      /// Applicable diagnoses
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> DiagnosisSequence
      {
        get => _DiagnosisSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            DiagnosisSequenceElement = null!;
          else
            DiagnosisSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("DiagnosisSequence");
        }
      }

      /// <summary>
      /// Applicable procedures.
      /// </summary>
      [FhirElement("procedureSequence", Order=70)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> ProcedureSequenceElement
      {
        get
        {
          if(_ProcedureSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["procedureSequence"]);
          return _ProcedureSequenceElement ??= [];
        }

        set
        {
          if (_ProcedureSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("procedureSequence");
          _ProcedureSequenceElement = value;
          OnPropertyChanged("ProcedureSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _ProcedureSequenceElement;

      /// <summary>
      /// Applicable procedures
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> ProcedureSequence
      {
        get => _ProcedureSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            ProcedureSequenceElement = null!;
          else
            ProcedureSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("ProcedureSequence");
        }
      }

      /// <summary>
      /// Applicable exception and supporting information.
      /// </summary>
      [FhirElement("informationSequence", Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> InformationSequenceElement
      {
        get
        {
          if(_InformationSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["informationSequence"]);
          return _InformationSequenceElement ??= [];
        }

        set
        {
          if (_InformationSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("informationSequence");
          _InformationSequenceElement = value;
          OnPropertyChanged("InformationSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _InformationSequenceElement;

      /// <summary>
      /// Applicable exception and supporting information
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> InformationSequence
      {
        get => _InformationSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            InformationSequenceElement = null!;
          else
            InformationSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("InformationSequence");
        }
      }

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=90)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Benefit classification.
      /// </summary>
      [FhirElement("category", Order=100)]
      [Binding("BenefitCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing, service, product, or drug code.
      /// </summary>
      [FhirElement("productOrService", Order=110)]
      [Binding("ServiceProduct")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept ProductOrService
      {
        get
        {
          if(_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["productOrService"]);
          return _ProductOrService!;
        }

        set
        {
          if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("productOrService");
          _ProductOrService = value;
          OnPropertyChanged("ProductOrService");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _ProductOrService;

      /// <summary>
      /// Product or service billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=120)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Program the product or service is provided under.
      /// </summary>
      [FhirElement("programCode", Order=130)]
      [Binding("ProgramCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> ProgramCode
      {
        get
        {
          if(_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["programCode"]);
          return _ProgramCode ??= [];
        }

        set
        {
          if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("programCode");
          _ProgramCode = value;
          OnPropertyChanged("ProgramCode");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _ProgramCode;

      /// <summary>
      /// Date or dates of service or product delivery.
      /// </summary>
      [FhirElement("serviced", Order=140, Choice=ChoiceType.DatatypeChoice, FiveWs="FiveWs.done[x]")]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Date),typeof(Hl7.Fhir.Model.Period))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Serviced
      {
        get
        {
          if(_Serviced.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["serviced"]);
          return _Serviced;
        }

        set
        {
          if (_Serviced.InOverflow<DynamicDataType>())
            Overflow.Remove("serviced");
          _Serviced = value;
          OnPropertyChanged("Serviced");
        }

      }

      private Hl7.Fhir.Model.DataType? _Serviced;

      /// <summary>
      /// Place of service or where product was supplied.
      /// </summary>
      [FhirElement("location", Order=150, Choice=ChoiceType.DatatypeChoice, FiveWs="FiveWs.where[x]")]
      [Binding("ServicePlace")]
      [CLSCompliant(false)]
      [References("Location")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.Address),typeof(Hl7.Fhir.Model.ResourceReference))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Location
      {
        get
        {
          if(_Location.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["location"]);
          return _Location;
        }

        set
        {
          if (_Location.InOverflow<DynamicDataType>())
            Overflow.Remove("location");
          _Location = value;
          OnPropertyChanged("Location");
        }

      }

      private Hl7.Fhir.Model.DataType? _Location;

      /// <summary>
      /// Count of products or services.
      /// </summary>
      [FhirElement("quantity", Order=160)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per item.
      /// </summary>
      [FhirElement("unitPrice", Order=170)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=180)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total item cost.
      /// </summary>
      [FhirElement("net", Order=190)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Unique device identifier.
      /// </summary>
      [FhirElement("udi", Order=200)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      /// <summary>
      /// Anatomical location.
      /// </summary>
      [FhirElement("bodySite", Order=210)]
      [Binding("OralSites")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? BodySite
      {
        get
        {
          if(_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["bodySite"]);
          return _BodySite;
        }

        set
        {
          if (_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("bodySite");
          _BodySite = value;
          OnPropertyChanged("BodySite");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _BodySite;

      /// <summary>
      /// Anatomical sub-location.
      /// </summary>
      [FhirElement("subSite", Order=220)]
      [Binding("Surface")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> SubSite
      {
        get
        {
          if(_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["subSite"]);
          return _SubSite ??= [];
        }

        set
        {
          if (_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("subSite");
          _SubSite = value;
          OnPropertyChanged("SubSite");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _SubSite;

      /// <summary>
      /// Encounters related to this billed item.
      /// </summary>
      [FhirElement("encounter", Order=230)]
      [CLSCompliant(false)]
      [References("Encounter")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Encounter
      {
        get
        {
          if(_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["encounter"]);
          return _Encounter ??= [];
        }

        set
        {
          if (_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("encounter");
          _Encounter = value;
          OnPropertyChanged("Encounter");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Encounter;

      /// <summary>
      /// Product or service provided.
      /// </summary>
      [FhirElement("detail", Order=240)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Claim.DetailComponent> Detail
      {
        get
        {
          if(_Detail.InOverflow<List<Hl7.Fhir.Model.Claim.DetailComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Claim.DetailComponent>), Overflow["detail"]);
          return _Detail ??= [];
        }

        set
        {
          if (_Detail.InOverflow<List<Hl7.Fhir.Model.Claim.DetailComponent>>())
            Overflow.Remove("detail");
          _Detail = value;
          OnPropertyChanged("Detail");
        }

      }

      private List<Hl7.Fhir.Model.Claim.DetailComponent>? _Detail;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ItemComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_CareTeamSequenceElement is not null) dest.CareTeamSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_CareTeamSequenceElement.DeepCopyInternal());
        if(_DiagnosisSequenceElement is not null) dest.DiagnosisSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_DiagnosisSequenceElement.DeepCopyInternal());
        if(_ProcedureSequenceElement is not null) dest.ProcedureSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_ProcedureSequenceElement.DeepCopyInternal());
        if(_InformationSequenceElement is not null) dest.InformationSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_InformationSequenceElement.DeepCopyInternal());
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_ProductOrService is not null) dest.ProductOrService = (Hl7.Fhir.Model.CodeableConcept)_ProductOrService.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_ProgramCode is not null) dest.ProgramCode = new List<Hl7.Fhir.Model.CodeableConcept>(_ProgramCode.DeepCopyInternal());
        if(_Serviced is not null) dest.Serviced = (Hl7.Fhir.Model.DataType)_Serviced.DeepCopyInternal();
        if(_Location is not null) dest.Location = (Hl7.Fhir.Model.DataType)_Location.DeepCopyInternal();
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
        if(_BodySite is not null) dest.BodySite = (Hl7.Fhir.Model.CodeableConcept)_BodySite.DeepCopyInternal();
        if(_SubSite is not null) dest.SubSite = new List<Hl7.Fhir.Model.CodeableConcept>(_SubSite.DeepCopyInternal());
        if(_Encounter is not null) dest.Encounter = new List<Hl7.Fhir.Model.ResourceReference>(_Encounter.DeepCopyInternal());
        if(_Detail is not null) dest.Detail = new List<Hl7.Fhir.Model.Claim.DetailComponent>(_Detail.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ItemComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ItemComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.ListEquals(_CareTeamSequenceElement, otherT._CareTeamSequenceElement)) return false;
        if(!comparer.ListEquals(_DiagnosisSequenceElement, otherT._DiagnosisSequenceElement)) return false;
        if(!comparer.ListEquals(_ProcedureSequenceElement, otherT._ProcedureSequenceElement)) return false;
        if(!comparer.ListEquals(_InformationSequenceElement, otherT._InformationSequenceElement)) return false;
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_ProductOrService, otherT._ProductOrService)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.ListEquals(_ProgramCode, otherT._ProgramCode)) return false;
        if(!comparer.Equals(_Serviced, otherT._Serviced)) return false;
        if(!comparer.Equals(_Location, otherT._Location)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        if(!comparer.Equals(_BodySite, otherT._BodySite)) return false;
        if(!comparer.ListEquals(_SubSite, otherT._SubSite)) return false;
        if(!comparer.ListEquals(_Encounter, otherT._Encounter)) return false;
        if(!comparer.ListEquals(_Detail, otherT._Detail)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "careTeamSequence":
            if (_CareTeamSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["careTeamSequence"];
              return true;
            }
            value = _CareTeamSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "diagnosisSequence":
            if (_DiagnosisSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["diagnosisSequence"];
              return true;
            }
            value = _DiagnosisSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "procedureSequence":
            if (_ProcedureSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["procedureSequence"];
              return true;
            }
            value = _ProcedureSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "informationSequence":
            if (_InformationSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["informationSequence"];
              return true;
            }
            value = _InformationSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "productOrService":
            if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["productOrService"];
              return true;
            }
            value = _ProductOrService;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "programCode":
            if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["programCode"];
              return true;
            }
            value = _ProgramCode;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "serviced":
            if (_Serviced.InOverflow<DynamicDataType>())
            {
              value = Overflow["serviced"];
              return true;
            }
            value = _Serviced;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "location":
            if (_Location.InOverflow<DynamicDataType>())
            {
              value = Overflow["location"];
              return true;
            }
            value = _Location;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "bodySite":
            if (_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["bodySite"];
              return true;
            }
            value = _BodySite;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "subSite":
            if (_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["subSite"];
              return true;
            }
            value = _SubSite;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "encounter":
            if (_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["encounter"];
              return true;
            }
            value = _Encounter;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "detail":
            if (_Detail.InOverflow<List<Hl7.Fhir.Model.Claim.DetailComponent>>())
            {
              value = Overflow["detail"];
              return true;
            }
            value = _Detail;
            return (value as List<Hl7.Fhir.Model.Claim.DetailComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "careTeamSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              CareTeamSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["careTeamSequence"] = value;
            }
            else CareTeamSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "diagnosisSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              DiagnosisSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["diagnosisSequence"] = value;
            }
            else DiagnosisSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "procedureSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              ProcedureSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["procedureSequence"] = value;
            }
            else ProcedureSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "informationSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              InformationSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["informationSequence"] = value;
            }
            else InformationSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "productOrService":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              ProductOrService = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["productOrService"] = value;
            }
            else ProductOrService = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "programCode":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              ProgramCode = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["programCode"] = value;
            }
            else ProgramCode = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "serviced":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Serviced = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["serviced"] = value;
            }
            else Serviced = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "location":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Location = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["location"] = value;
            }
            else Location = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "bodySite":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              BodySite = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["bodySite"] = value;
            }
            else BodySite = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "subSite":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              SubSite = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["subSite"] = value;
            }
            else SubSite = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "encounter":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Encounter = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["encounter"] = value;
            }
            else Encounter = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "detail":
            if (value is not (List<Hl7.Fhir.Model.Claim.DetailComponent> or null))
            {
              Detail = OverflowNull<List<Hl7.Fhir.Model.Claim.DetailComponent>>.INSTANCE;
              Overflow["detail"] = value;
            }
            else Detail = (List<Hl7.Fhir.Model.Claim.DetailComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_CareTeamSequenceElement?.Any() is true && !_CareTeamSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("careTeamSequence",_CareTeamSequenceElement);
        if (_DiagnosisSequenceElement?.Any() is true && !_DiagnosisSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("diagnosisSequence",_DiagnosisSequenceElement);
        if (_ProcedureSequenceElement?.Any() is true && !_ProcedureSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("procedureSequence",_ProcedureSequenceElement);
        if (_InformationSequenceElement?.Any() is true && !_InformationSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("informationSequence",_InformationSequenceElement);
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_ProductOrService is not null && !_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("productOrService",_ProductOrService);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_ProgramCode?.Any() is true && !_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("programCode",_ProgramCode);
        if (_Serviced is not null && !_Serviced.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("serviced",_Serviced);
        if (_Location is not null && !_Location.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("location",_Location);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
        if (_BodySite is not null && !_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("bodySite",_BodySite);
        if (_SubSite?.Any() is true && !_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("subSite",_SubSite);
        if (_Encounter?.Any() is true && !_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("encounter",_Encounter);
        if (_Detail?.Any() is true && !_Detail.InOverflow<List<Hl7.Fhir.Model.Claim.DetailComponent>>()) yield return new KeyValuePair<string,object>("detail",_Detail);
      }

    }

    /// <summary>
    /// Product or service provided
    /// </summary>
    /// <remarks>
    /// A claim detail line. Either a simple (a product or service) or a 'group' of sub-details which are simple items.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.item.detail", IsBackboneType=true)]
    public partial class DetailComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.item.detail";

      /// <summary>
      /// Item instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Item instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=50)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Benefit classification.
      /// </summary>
      [FhirElement("category", Order=60)]
      [Binding("BenefitCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing, service, product, or drug code.
      /// </summary>
      [FhirElement("productOrService", Order=70)]
      [Binding("ServiceProduct")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept ProductOrService
      {
        get
        {
          if(_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["productOrService"]);
          return _ProductOrService!;
        }

        set
        {
          if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("productOrService");
          _ProductOrService = value;
          OnPropertyChanged("ProductOrService");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _ProductOrService;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=80)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Program the product or service is provided under.
      /// </summary>
      [FhirElement("programCode", Order=90)]
      [Binding("ProgramCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> ProgramCode
      {
        get
        {
          if(_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["programCode"]);
          return _ProgramCode ??= [];
        }

        set
        {
          if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("programCode");
          _ProgramCode = value;
          OnPropertyChanged("ProgramCode");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _ProgramCode;

      /// <summary>
      /// Count of products or services.
      /// </summary>
      [FhirElement("quantity", Order=100)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per item.
      /// </summary>
      [FhirElement("unitPrice", Order=110)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total item cost.
      /// </summary>
      [FhirElement("net", Order=130)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Unique device identifier.
      /// </summary>
      [FhirElement("udi", Order=140)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      /// <summary>
      /// Product or service provided.
      /// </summary>
      [FhirElement("subDetail", Order=150)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.Claim.SubDetailComponent> SubDetail
      {
        get
        {
          if(_SubDetail.InOverflow<List<Hl7.Fhir.Model.Claim.SubDetailComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Claim.SubDetailComponent>), Overflow["subDetail"]);
          return _SubDetail ??= [];
        }

        set
        {
          if (_SubDetail.InOverflow<List<Hl7.Fhir.Model.Claim.SubDetailComponent>>())
            Overflow.Remove("subDetail");
          _SubDetail = value;
          OnPropertyChanged("SubDetail");
        }

      }

      private List<Hl7.Fhir.Model.Claim.SubDetailComponent>? _SubDetail;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not DetailComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_ProductOrService is not null) dest.ProductOrService = (Hl7.Fhir.Model.CodeableConcept)_ProductOrService.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_ProgramCode is not null) dest.ProgramCode = new List<Hl7.Fhir.Model.CodeableConcept>(_ProgramCode.DeepCopyInternal());
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
        if(_SubDetail is not null) dest.SubDetail = new List<Hl7.Fhir.Model.Claim.SubDetailComponent>(_SubDetail.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new DetailComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not DetailComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_ProductOrService, otherT._ProductOrService)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.ListEquals(_ProgramCode, otherT._ProgramCode)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        if(!comparer.ListEquals(_SubDetail, otherT._SubDetail)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "productOrService":
            if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["productOrService"];
              return true;
            }
            value = _ProductOrService;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "programCode":
            if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["programCode"];
              return true;
            }
            value = _ProgramCode;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "subDetail":
            if (_SubDetail.InOverflow<List<Hl7.Fhir.Model.Claim.SubDetailComponent>>())
            {
              value = Overflow["subDetail"];
              return true;
            }
            value = _SubDetail;
            return (value as List<Hl7.Fhir.Model.Claim.SubDetailComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "productOrService":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              ProductOrService = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["productOrService"] = value;
            }
            else ProductOrService = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "programCode":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              ProgramCode = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["programCode"] = value;
            }
            else ProgramCode = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "subDetail":
            if (value is not (List<Hl7.Fhir.Model.Claim.SubDetailComponent> or null))
            {
              SubDetail = OverflowNull<List<Hl7.Fhir.Model.Claim.SubDetailComponent>>.INSTANCE;
              Overflow["subDetail"] = value;
            }
            else SubDetail = (List<Hl7.Fhir.Model.Claim.SubDetailComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_ProductOrService is not null && !_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("productOrService",_ProductOrService);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_ProgramCode?.Any() is true && !_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("programCode",_ProgramCode);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
        if (_SubDetail?.Any() is true && !_SubDetail.InOverflow<List<Hl7.Fhir.Model.Claim.SubDetailComponent>>()) yield return new KeyValuePair<string,object>("subDetail",_SubDetail);
      }

    }

    /// <summary>
    /// Product or service provided
    /// </summary>
    /// <remarks>
    /// A claim detail line. Either a simple (a product or service) or a 'group' of sub-details which are simple items.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("Claim.item.detail.subDetail", IsBackboneType=true)]
    public partial class SubDetailComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "Claim.item.detail.subDetail";

      /// <summary>
      /// Item instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Item instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=50)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Benefit classification.
      /// </summary>
      [FhirElement("category", Order=60)]
      [Binding("BenefitCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing, service, product, or drug code.
      /// </summary>
      [FhirElement("productOrService", Order=70)]
      [Binding("ServiceProduct")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept ProductOrService
      {
        get
        {
          if(_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["productOrService"]);
          return _ProductOrService!;
        }

        set
        {
          if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("productOrService");
          _ProductOrService = value;
          OnPropertyChanged("ProductOrService");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _ProductOrService;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=80)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Program the product or service is provided under.
      /// </summary>
      [FhirElement("programCode", Order=90)]
      [Binding("ProgramCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> ProgramCode
      {
        get
        {
          if(_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["programCode"]);
          return _ProgramCode ??= [];
        }

        set
        {
          if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("programCode");
          _ProgramCode = value;
          OnPropertyChanged("ProgramCode");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _ProgramCode;

      /// <summary>
      /// Count of products or services.
      /// </summary>
      [FhirElement("quantity", Order=100)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per item.
      /// </summary>
      [FhirElement("unitPrice", Order=110)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total item cost.
      /// </summary>
      [FhirElement("net", Order=130)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Unique device identifier.
      /// </summary>
      [FhirElement("udi", Order=140)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SubDetailComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_ProductOrService is not null) dest.ProductOrService = (Hl7.Fhir.Model.CodeableConcept)_ProductOrService.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_ProgramCode is not null) dest.ProgramCode = new List<Hl7.Fhir.Model.CodeableConcept>(_ProgramCode.DeepCopyInternal());
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SubDetailComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SubDetailComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_ProductOrService, otherT._ProductOrService)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.ListEquals(_ProgramCode, otherT._ProgramCode)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "productOrService":
            if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["productOrService"];
              return true;
            }
            value = _ProductOrService;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "programCode":
            if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["programCode"];
              return true;
            }
            value = _ProgramCode;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "productOrService":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              ProductOrService = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["productOrService"] = value;
            }
            else ProductOrService = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "programCode":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              ProgramCode = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["programCode"] = value;
            }
            else ProgramCode = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_ProductOrService is not null && !_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("productOrService",_ProductOrService);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_ProgramCode?.Any() is true && !_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("programCode",_ProgramCode);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
      }

    }

    /// <summary>
    /// Business Identifier for claim.
    /// </summary>
    [FhirElement("identifier", Order=90, FiveWs="FiveWs.identifier")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// active | cancelled | draft | entered-in-error.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=100, FiveWs="FiveWs.status")]
    [Binding("ClaimStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.FinancialResourceStatusCodes> StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>), Overflow["status"]);
        return _StatusElement!;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>? _StatusElement;

    /// <summary>
    /// active | cancelled | draft | entered-in-error
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.FinancialResourceStatusCodes? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// Category or discipline.
    /// </summary>
    [FhirElement("type", InSummary=true, Order=110, FiveWs="FiveWs.class")]
    [Binding("ClaimType")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept Type
    {
      get
      {
        if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
        return _Type!;
      }

      set
      {
        if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("type");
        _Type = value;
        OnPropertyChanged("Type");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Type;

    /// <summary>
    /// More granular claim type.
    /// </summary>
    [FhirElement("subType", Order=120, FiveWs="FiveWs.class")]
    [Binding("ClaimSubType")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? SubType
    {
      get
      {
        if(_SubType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["subType"]);
        return _SubType;
      }

      set
      {
        if (_SubType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("subType");
        _SubType = value;
        OnPropertyChanged("SubType");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _SubType;

    /// <summary>
    /// claim | preauthorization | predetermination.
    /// </summary>
    [FhirElement("use", InSummary=true, Order=130, FiveWs="FiveWs.class")]
    [Binding("Use")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.ClaimUseCode> UseElement
    {
      get
      {
        if(_UseElement.InOverflow<Code<Hl7.Fhir.Model.ClaimUseCode>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ClaimUseCode>), Overflow["use"]);
        return _UseElement!;
      }

      set
      {
        if (_UseElement.InOverflow<Code<Hl7.Fhir.Model.ClaimUseCode>>())
          Overflow.Remove("use");
        _UseElement = value;
        OnPropertyChanged("UseElement");
      }

    }

    private Code<Hl7.Fhir.Model.ClaimUseCode>? _UseElement;

    /// <summary>
    /// claim | preauthorization | predetermination
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.ClaimUseCode? Use
    {
      get => UseElement?.Value;
      set
      {
        UseElement = value is null ? null! : new Code<Hl7.Fhir.Model.ClaimUseCode>(value);
        OnPropertyChanged("Use");
      }
    }

    /// <summary>
    /// The recipient of the products and services.
    /// </summary>
    [FhirElement("patient", InSummary=true, Order=140, FiveWs="FiveWs.subject")]
    [CLSCompliant(false)]
    [References("Patient")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference Patient
    {
      get
      {
        if(_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["patient"]);
        return _Patient!;
      }

      set
      {
        if (_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("patient");
        _Patient = value;
        OnPropertyChanged("Patient");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Patient;

    /// <summary>
    /// Relevant time frame for the claim.
    /// </summary>
    [FhirElement("billablePeriod", InSummary=true, Order=150, FiveWs="FiveWs.done[x]")]
    [DataMember]
    public Hl7.Fhir.Model.Period? BillablePeriod
    {
      get
      {
        if(_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["billablePeriod"]);
        return _BillablePeriod;
      }

      set
      {
        if (_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>())
          Overflow.Remove("billablePeriod");
        _BillablePeriod = value;
        OnPropertyChanged("BillablePeriod");
      }

    }

    private Hl7.Fhir.Model.Period? _BillablePeriod;

    /// <summary>
    /// Resource creation date.
    /// </summary>
    [FhirElement("created", InSummary=true, Order=160, FiveWs="FiveWs.recorded")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime CreatedElement
    {
      get
      {
        if(_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["created"]);
        return _CreatedElement!;
      }

      set
      {
        if (_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("created");
        _CreatedElement = value;
        OnPropertyChanged("CreatedElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _CreatedElement;

    /// <summary>
    /// Resource creation date
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Created
    {
      get => CreatedElement?.Value;
      set
      {
        CreatedElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("Created");
      }
    }

    /// <summary>
    /// Author of the claim.
    /// </summary>
    [FhirElement("enterer", Order=170, FiveWs="FiveWs.author")]
    [CLSCompliant(false)]
    [References("Practitioner","PractitionerRole")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Enterer
    {
      get
      {
        if(_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["enterer"]);
        return _Enterer;
      }

      set
      {
        if (_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("enterer");
        _Enterer = value;
        OnPropertyChanged("Enterer");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Enterer;

    /// <summary>
    /// Target.
    /// </summary>
    [FhirElement("insurer", InSummary=true, Order=180)]
    [CLSCompliant(false)]
    [References("Organization")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Insurer
    {
      get
      {
        if(_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["insurer"]);
        return _Insurer;
      }

      set
      {
        if (_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("insurer");
        _Insurer = value;
        OnPropertyChanged("Insurer");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Insurer;

    /// <summary>
    /// Party responsible for the claim.
    /// </summary>
    [FhirElement("provider", InSummary=true, Order=190, FiveWs="FiveWs.source")]
    [CLSCompliant(false)]
    [References("Practitioner","PractitionerRole","Organization")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference Provider
    {
      get
      {
        if(_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["provider"]);
        return _Provider!;
      }

      set
      {
        if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("provider");
        _Provider = value;
        OnPropertyChanged("Provider");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Provider;

    /// <summary>
    /// Desired processing ugency.
    /// </summary>
    [FhirElement("priority", InSummary=true, Order=200)]
    [Binding("ProcessPriority")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept Priority
    {
      get
      {
        if(_Priority.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["priority"]);
        return _Priority!;
      }

      set
      {
        if (_Priority.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("priority");
        _Priority = value;
        OnPropertyChanged("Priority");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Priority;

    /// <summary>
    /// For whom to reserve funds.
    /// </summary>
    [FhirElement("fundsReserve", Order=210)]
    [Binding("FundsReserve")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? FundsReserve
    {
      get
      {
        if(_FundsReserve.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["fundsReserve"]);
        return _FundsReserve;
      }

      set
      {
        if (_FundsReserve.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("fundsReserve");
        _FundsReserve = value;
        OnPropertyChanged("FundsReserve");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _FundsReserve;

    /// <summary>
    /// Prior or corollary claims.
    /// </summary>
    [FhirElement("related", Order=220)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Claim.RelatedClaimComponent> Related
    {
      get
      {
        if(_Related.InOverflow<List<Hl7.Fhir.Model.Claim.RelatedClaimComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Claim.RelatedClaimComponent>), Overflow["related"]);
        return _Related ??= [];
      }

      set
      {
        if (_Related.InOverflow<List<Hl7.Fhir.Model.Claim.RelatedClaimComponent>>())
          Overflow.Remove("related");
        _Related = value;
        OnPropertyChanged("Related");
      }

    }

    private List<Hl7.Fhir.Model.Claim.RelatedClaimComponent>? _Related;

    /// <summary>
    /// Prescription authorizing services and products.
    /// </summary>
    [FhirElement("prescription", Order=230)]
    [CLSCompliant(false)]
    [References("DeviceRequest","MedicationRequest","VisionPrescription")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Prescription
    {
      get
      {
        if(_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["prescription"]);
        return _Prescription;
      }

      set
      {
        if (_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("prescription");
        _Prescription = value;
        OnPropertyChanged("Prescription");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Prescription;

    /// <summary>
    /// Original prescription if superseded by fulfiller.
    /// </summary>
    [FhirElement("originalPrescription", Order=240)]
    [CLSCompliant(false)]
    [References("DeviceRequest","MedicationRequest","VisionPrescription")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? OriginalPrescription
    {
      get
      {
        if(_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["originalPrescription"]);
        return _OriginalPrescription;
      }

      set
      {
        if (_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("originalPrescription");
        _OriginalPrescription = value;
        OnPropertyChanged("OriginalPrescription");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _OriginalPrescription;

    /// <summary>
    /// Recipient of benefits payable.
    /// </summary>
    [FhirElement("payee", Order=250)]
    [DataMember]
    public Hl7.Fhir.Model.Claim.PayeeComponent? Payee
    {
      get
      {
        if(_Payee.InOverflow<Hl7.Fhir.Model.Claim.PayeeComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Claim.PayeeComponent), Overflow["payee"]);
        return _Payee;
      }

      set
      {
        if (_Payee.InOverflow<Hl7.Fhir.Model.Claim.PayeeComponent>())
          Overflow.Remove("payee");
        _Payee = value;
        OnPropertyChanged("Payee");
      }

    }

    private Hl7.Fhir.Model.Claim.PayeeComponent? _Payee;

    /// <summary>
    /// Treatment referral.
    /// </summary>
    [FhirElement("referral", Order=260, FiveWs="FiveWs.cause")]
    [CLSCompliant(false)]
    [References("ServiceRequest")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Referral
    {
      get
      {
        if(_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["referral"]);
        return _Referral;
      }

      set
      {
        if (_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("referral");
        _Referral = value;
        OnPropertyChanged("Referral");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Referral;

    /// <summary>
    /// Servicing facility.
    /// </summary>
    [FhirElement("facility", Order=270, FiveWs="FiveWs.where[x]")]
    [CLSCompliant(false)]
    [References("Location")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Facility
    {
      get
      {
        if(_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["facility"]);
        return _Facility;
      }

      set
      {
        if (_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("facility");
        _Facility = value;
        OnPropertyChanged("Facility");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Facility;

    /// <summary>
    /// Members of the care team.
    /// </summary>
    [FhirElement("careTeam", Order=280)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Claim.CareTeamComponent> CareTeam
    {
      get
      {
        if(_CareTeam.InOverflow<List<Hl7.Fhir.Model.Claim.CareTeamComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Claim.CareTeamComponent>), Overflow["careTeam"]);
        return _CareTeam ??= [];
      }

      set
      {
        if (_CareTeam.InOverflow<List<Hl7.Fhir.Model.Claim.CareTeamComponent>>())
          Overflow.Remove("careTeam");
        _CareTeam = value;
        OnPropertyChanged("CareTeam");
      }

    }

    private List<Hl7.Fhir.Model.Claim.CareTeamComponent>? _CareTeam;

    /// <summary>
    /// Supporting information.
    /// </summary>
    [FhirElement("supportingInfo", Order=290)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Claim.SupportingInformationComponent> SupportingInfo
    {
      get
      {
        if(_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.Claim.SupportingInformationComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Claim.SupportingInformationComponent>), Overflow["supportingInfo"]);
        return _SupportingInfo ??= [];
      }

      set
      {
        if (_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.Claim.SupportingInformationComponent>>())
          Overflow.Remove("supportingInfo");
        _SupportingInfo = value;
        OnPropertyChanged("SupportingInfo");
      }

    }

    private List<Hl7.Fhir.Model.Claim.SupportingInformationComponent>? _SupportingInfo;

    /// <summary>
    /// Pertinent diagnosis information.
    /// </summary>
    [FhirElement("diagnosis", Order=300)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Claim.DiagnosisComponent> Diagnosis
    {
      get
      {
        if(_Diagnosis.InOverflow<List<Hl7.Fhir.Model.Claim.DiagnosisComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Claim.DiagnosisComponent>), Overflow["diagnosis"]);
        return _Diagnosis ??= [];
      }

      set
      {
        if (_Diagnosis.InOverflow<List<Hl7.Fhir.Model.Claim.DiagnosisComponent>>())
          Overflow.Remove("diagnosis");
        _Diagnosis = value;
        OnPropertyChanged("Diagnosis");
      }

    }

    private List<Hl7.Fhir.Model.Claim.DiagnosisComponent>? _Diagnosis;

    /// <summary>
    /// Clinical procedures performed.
    /// </summary>
    [FhirElement("procedure", Order=310)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Claim.ProcedureComponent> Procedure
    {
      get
      {
        if(_Procedure.InOverflow<List<Hl7.Fhir.Model.Claim.ProcedureComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Claim.ProcedureComponent>), Overflow["procedure"]);
        return _Procedure ??= [];
      }

      set
      {
        if (_Procedure.InOverflow<List<Hl7.Fhir.Model.Claim.ProcedureComponent>>())
          Overflow.Remove("procedure");
        _Procedure = value;
        OnPropertyChanged("Procedure");
      }

    }

    private List<Hl7.Fhir.Model.Claim.ProcedureComponent>? _Procedure;

    /// <summary>
    /// Patient insurance information.
    /// </summary>
    [FhirElement("insurance", InSummary=true, Order=320)]
    [Cardinality(Min=1,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Claim.InsuranceComponent> Insurance
    {
      get
      {
        if(_Insurance.InOverflow<List<Hl7.Fhir.Model.Claim.InsuranceComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Claim.InsuranceComponent>), Overflow["insurance"]);
        return _Insurance ??= [];
      }

      set
      {
        if (_Insurance.InOverflow<List<Hl7.Fhir.Model.Claim.InsuranceComponent>>())
          Overflow.Remove("insurance");
        _Insurance = value;
        OnPropertyChanged("Insurance");
      }

    }

    private List<Hl7.Fhir.Model.Claim.InsuranceComponent>? _Insurance;

    /// <summary>
    /// Details of the event.
    /// </summary>
    [FhirElement("accident", Order=330)]
    [DataMember]
    public Hl7.Fhir.Model.Claim.AccidentComponent? Accident
    {
      get
      {
        if(_Accident.InOverflow<Hl7.Fhir.Model.Claim.AccidentComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Claim.AccidentComponent), Overflow["accident"]);
        return _Accident;
      }

      set
      {
        if (_Accident.InOverflow<Hl7.Fhir.Model.Claim.AccidentComponent>())
          Overflow.Remove("accident");
        _Accident = value;
        OnPropertyChanged("Accident");
      }

    }

    private Hl7.Fhir.Model.Claim.AccidentComponent? _Accident;

    /// <summary>
    /// Product or service provided.
    /// </summary>
    [FhirElement("item", Order=340)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Claim.ItemComponent> Item
    {
      get
      {
        if(_Item.InOverflow<List<Hl7.Fhir.Model.Claim.ItemComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Claim.ItemComponent>), Overflow["item"]);
        return _Item ??= [];
      }

      set
      {
        if (_Item.InOverflow<List<Hl7.Fhir.Model.Claim.ItemComponent>>())
          Overflow.Remove("item");
        _Item = value;
        OnPropertyChanged("Item");
      }

    }

    private List<Hl7.Fhir.Model.Claim.ItemComponent>? _Item;

    /// <summary>
    /// Total claim cost.
    /// </summary>
    [FhirElement("total", Order=350)]
    [DataMember]
    public Hl7.Fhir.Model.Money? Total
    {
      get
      {
        if(_Total.InOverflow<Hl7.Fhir.Model.Money>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["total"]);
        return _Total;
      }

      set
      {
        if (_Total.InOverflow<Hl7.Fhir.Model.Money>())
          Overflow.Remove("total");
        _Total = value;
        OnPropertyChanged("Total");
      }

    }

    private Hl7.Fhir.Model.Money? _Total;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    Hl7.Fhir.Model.CodeableConcept? ICoded<Hl7.Fhir.Model.CodeableConcept?>.Code { get => Type; set => Type = value!; }
    IReadOnlyCollection<Coding> ICoded.ToCodings() => Type?.ToCodings() ?? [];

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not Claim dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>)_StatusElement.DeepCopyInternal();
      if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
      if(_SubType is not null) dest.SubType = (Hl7.Fhir.Model.CodeableConcept)_SubType.DeepCopyInternal();
      if(_UseElement is not null) dest.UseElement = (Code<Hl7.Fhir.Model.ClaimUseCode>)_UseElement.DeepCopyInternal();
      if(_Patient is not null) dest.Patient = (Hl7.Fhir.Model.ResourceReference)_Patient.DeepCopyInternal();
      if(_BillablePeriod is not null) dest.BillablePeriod = (Hl7.Fhir.Model.Period)_BillablePeriod.DeepCopyInternal();
      if(_CreatedElement is not null) dest.CreatedElement = (Hl7.Fhir.Model.FhirDateTime)_CreatedElement.DeepCopyInternal();
      if(_Enterer is not null) dest.Enterer = (Hl7.Fhir.Model.ResourceReference)_Enterer.DeepCopyInternal();
      if(_Insurer is not null) dest.Insurer = (Hl7.Fhir.Model.ResourceReference)_Insurer.DeepCopyInternal();
      if(_Provider is not null) dest.Provider = (Hl7.Fhir.Model.ResourceReference)_Provider.DeepCopyInternal();
      if(_Priority is not null) dest.Priority = (Hl7.Fhir.Model.CodeableConcept)_Priority.DeepCopyInternal();
      if(_FundsReserve is not null) dest.FundsReserve = (Hl7.Fhir.Model.CodeableConcept)_FundsReserve.DeepCopyInternal();
      if(_Related is not null) dest.Related = new List<Hl7.Fhir.Model.Claim.RelatedClaimComponent>(_Related.DeepCopyInternal());
      if(_Prescription is not null) dest.Prescription = (Hl7.Fhir.Model.ResourceReference)_Prescription.DeepCopyInternal();
      if(_OriginalPrescription is not null) dest.OriginalPrescription = (Hl7.Fhir.Model.ResourceReference)_OriginalPrescription.DeepCopyInternal();
      if(_Payee is not null) dest.Payee = (Hl7.Fhir.Model.Claim.PayeeComponent)_Payee.DeepCopyInternal();
      if(_Referral is not null) dest.Referral = (Hl7.Fhir.Model.ResourceReference)_Referral.DeepCopyInternal();
      if(_Facility is not null) dest.Facility = (Hl7.Fhir.Model.ResourceReference)_Facility.DeepCopyInternal();
      if(_CareTeam is not null) dest.CareTeam = new List<Hl7.Fhir.Model.Claim.CareTeamComponent>(_CareTeam.DeepCopyInternal());
      if(_SupportingInfo is not null) dest.SupportingInfo = new List<Hl7.Fhir.Model.Claim.SupportingInformationComponent>(_SupportingInfo.DeepCopyInternal());
      if(_Diagnosis is not null) dest.Diagnosis = new List<Hl7.Fhir.Model.Claim.DiagnosisComponent>(_Diagnosis.DeepCopyInternal());
      if(_Procedure is not null) dest.Procedure = new List<Hl7.Fhir.Model.Claim.ProcedureComponent>(_Procedure.DeepCopyInternal());
      if(_Insurance is not null) dest.Insurance = new List<Hl7.Fhir.Model.Claim.InsuranceComponent>(_Insurance.DeepCopyInternal());
      if(_Accident is not null) dest.Accident = (Hl7.Fhir.Model.Claim.AccidentComponent)_Accident.DeepCopyInternal();
      if(_Item is not null) dest.Item = new List<Hl7.Fhir.Model.Claim.ItemComponent>(_Item.DeepCopyInternal());
      if(_Total is not null) dest.Total = (Hl7.Fhir.Model.Money)_Total.DeepCopyInternal();
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new Claim();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not Claim otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_Type, otherT._Type)) return false;
      if(!comparer.Equals(_SubType, otherT._SubType)) return false;
      if(!comparer.Equals(_UseElement, otherT._UseElement)) return false;
      if(!comparer.Equals(_Patient, otherT._Patient)) return false;
      if(!comparer.Equals(_BillablePeriod, otherT._BillablePeriod)) return false;
      if(!comparer.Equals(_CreatedElement, otherT._CreatedElement)) return false;
      if(!comparer.Equals(_Enterer, otherT._Enterer)) return false;
      if(!comparer.Equals(_Insurer, otherT._Insurer)) return false;
      if(!comparer.Equals(_Provider, otherT._Provider)) return false;
      if(!comparer.Equals(_Priority, otherT._Priority)) return false;
      if(!comparer.Equals(_FundsReserve, otherT._FundsReserve)) return false;
      if(!comparer.ListEquals(_Related, otherT._Related)) return false;
      if(!comparer.Equals(_Prescription, otherT._Prescription)) return false;
      if(!comparer.Equals(_OriginalPrescription, otherT._OriginalPrescription)) return false;
      if(!comparer.Equals(_Payee, otherT._Payee)) return false;
      if(!comparer.Equals(_Referral, otherT._Referral)) return false;
      if(!comparer.Equals(_Facility, otherT._Facility)) return false;
      if(!comparer.ListEquals(_CareTeam, otherT._CareTeam)) return false;
      if(!comparer.ListEquals(_SupportingInfo, otherT._SupportingInfo)) return false;
      if(!comparer.ListEquals(_Diagnosis, otherT._Diagnosis)) return false;
      if(!comparer.ListEquals(_Procedure, otherT._Procedure)) return false;
      if(!comparer.ListEquals(_Insurance, otherT._Insurance)) return false;
      if(!comparer.Equals(_Accident, otherT._Accident)) return false;
      if(!comparer.ListEquals(_Item, otherT._Item)) return false;
      if(!comparer.Equals(_Total, otherT._Total)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>) is not null;
        case "type":
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["type"];
            return true;
          }
          value = _Type;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "subType":
          if (_SubType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["subType"];
            return true;
          }
          value = _SubType;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "use":
          if (_UseElement.InOverflow<Code<Hl7.Fhir.Model.ClaimUseCode>>())
          {
            value = Overflow["use"];
            return true;
          }
          value = _UseElement;
          return (value as Code<Hl7.Fhir.Model.ClaimUseCode>) is not null;
        case "patient":
          if (_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["patient"];
            return true;
          }
          value = _Patient;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "billablePeriod":
          if (_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>())
          {
            value = Overflow["billablePeriod"];
            return true;
          }
          value = _BillablePeriod;
          return (value as Hl7.Fhir.Model.Period) is not null;
        case "created":
          if (_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["created"];
            return true;
          }
          value = _CreatedElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "enterer":
          if (_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["enterer"];
            return true;
          }
          value = _Enterer;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "insurer":
          if (_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["insurer"];
            return true;
          }
          value = _Insurer;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "provider":
          if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["provider"];
            return true;
          }
          value = _Provider;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "priority":
          if (_Priority.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["priority"];
            return true;
          }
          value = _Priority;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "fundsReserve":
          if (_FundsReserve.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["fundsReserve"];
            return true;
          }
          value = _FundsReserve;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "related":
          if (_Related.InOverflow<List<Hl7.Fhir.Model.Claim.RelatedClaimComponent>>())
          {
            value = Overflow["related"];
            return true;
          }
          value = _Related;
          return (value as List<Hl7.Fhir.Model.Claim.RelatedClaimComponent>)?.Any() is true;
        case "prescription":
          if (_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["prescription"];
            return true;
          }
          value = _Prescription;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "originalPrescription":
          if (_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["originalPrescription"];
            return true;
          }
          value = _OriginalPrescription;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "payee":
          if (_Payee.InOverflow<Hl7.Fhir.Model.Claim.PayeeComponent>())
          {
            value = Overflow["payee"];
            return true;
          }
          value = _Payee;
          return (value as Hl7.Fhir.Model.Claim.PayeeComponent) is not null;
        case "referral":
          if (_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["referral"];
            return true;
          }
          value = _Referral;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "facility":
          if (_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["facility"];
            return true;
          }
          value = _Facility;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "careTeam":
          if (_CareTeam.InOverflow<List<Hl7.Fhir.Model.Claim.CareTeamComponent>>())
          {
            value = Overflow["careTeam"];
            return true;
          }
          value = _CareTeam;
          return (value as List<Hl7.Fhir.Model.Claim.CareTeamComponent>)?.Any() is true;
        case "supportingInfo":
          if (_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.Claim.SupportingInformationComponent>>())
          {
            value = Overflow["supportingInfo"];
            return true;
          }
          value = _SupportingInfo;
          return (value as List<Hl7.Fhir.Model.Claim.SupportingInformationComponent>)?.Any() is true;
        case "diagnosis":
          if (_Diagnosis.InOverflow<List<Hl7.Fhir.Model.Claim.DiagnosisComponent>>())
          {
            value = Overflow["diagnosis"];
            return true;
          }
          value = _Diagnosis;
          return (value as List<Hl7.Fhir.Model.Claim.DiagnosisComponent>)?.Any() is true;
        case "procedure":
          if (_Procedure.InOverflow<List<Hl7.Fhir.Model.Claim.ProcedureComponent>>())
          {
            value = Overflow["procedure"];
            return true;
          }
          value = _Procedure;
          return (value as List<Hl7.Fhir.Model.Claim.ProcedureComponent>)?.Any() is true;
        case "insurance":
          if (_Insurance.InOverflow<List<Hl7.Fhir.Model.Claim.InsuranceComponent>>())
          {
            value = Overflow["insurance"];
            return true;
          }
          value = _Insurance;
          return (value as List<Hl7.Fhir.Model.Claim.InsuranceComponent>)?.Any() is true;
        case "accident":
          if (_Accident.InOverflow<Hl7.Fhir.Model.Claim.AccidentComponent>())
          {
            value = Overflow["accident"];
            return true;
          }
          value = _Accident;
          return (value as Hl7.Fhir.Model.Claim.AccidentComponent) is not null;
        case "item":
          if (_Item.InOverflow<List<Hl7.Fhir.Model.Claim.ItemComponent>>())
          {
            value = Overflow["item"];
            return true;
          }
          value = _Item;
          return (value as List<Hl7.Fhir.Model.Claim.ItemComponent>)?.Any() is true;
        case "total":
          if (_Total.InOverflow<Hl7.Fhir.Model.Money>())
          {
            value = Overflow["total"];
            return true;
          }
          value = _Total;
          return (value as Hl7.Fhir.Model.Money) is not null;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.FinancialResourceStatusCodes> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>?)value!;
          return this;
        case "type":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["type"] = value;
          }
          else Type = (Hl7.Fhir.Model.CodeableConcept?)value!;
          return this;
        case "subType":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            SubType = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["subType"] = value;
          }
          else SubType = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "use":
          if (value is not (Code<Hl7.Fhir.Model.ClaimUseCode> or null))
          {
            UseElement = OverflowNull<Code<Hl7.Fhir.Model.ClaimUseCode>>.INSTANCE;
            Overflow["use"] = value;
          }
          else UseElement = (Code<Hl7.Fhir.Model.ClaimUseCode>?)value!;
          return this;
        case "patient":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Patient = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["patient"] = value;
          }
          else Patient = (Hl7.Fhir.Model.ResourceReference?)value!;
          return this;
        case "billablePeriod":
          if (value is not (Hl7.Fhir.Model.Period or null))
          {
            BillablePeriod = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
            Overflow["billablePeriod"] = value;
          }
          else BillablePeriod = (Hl7.Fhir.Model.Period?)value;
          return this;
        case "created":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            CreatedElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["created"] = value;
          }
          else CreatedElement = (Hl7.Fhir.Model.FhirDateTime?)value!;
          return this;
        case "enterer":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Enterer = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["enterer"] = value;
          }
          else Enterer = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "insurer":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Insurer = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["insurer"] = value;
          }
          else Insurer = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "provider":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Provider = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["provider"] = value;
          }
          else Provider = (Hl7.Fhir.Model.ResourceReference?)value!;
          return this;
        case "priority":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Priority = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["priority"] = value;
          }
          else Priority = (Hl7.Fhir.Model.CodeableConcept?)value!;
          return this;
        case "fundsReserve":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            FundsReserve = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["fundsReserve"] = value;
          }
          else FundsReserve = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "related":
          if (value is not (List<Hl7.Fhir.Model.Claim.RelatedClaimComponent> or null))
          {
            Related = OverflowNull<List<Hl7.Fhir.Model.Claim.RelatedClaimComponent>>.INSTANCE;
            Overflow["related"] = value;
          }
          else Related = (List<Hl7.Fhir.Model.Claim.RelatedClaimComponent>?)value!;
          return this;
        case "prescription":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Prescription = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["prescription"] = value;
          }
          else Prescription = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "originalPrescription":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            OriginalPrescription = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["originalPrescription"] = value;
          }
          else OriginalPrescription = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "payee":
          if (value is not (Hl7.Fhir.Model.Claim.PayeeComponent or null))
          {
            Payee = OverflowNull<Hl7.Fhir.Model.Claim.PayeeComponent>.INSTANCE;
            Overflow["payee"] = value;
          }
          else Payee = (Hl7.Fhir.Model.Claim.PayeeComponent?)value;
          return this;
        case "referral":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Referral = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["referral"] = value;
          }
          else Referral = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "facility":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Facility = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["facility"] = value;
          }
          else Facility = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "careTeam":
          if (value is not (List<Hl7.Fhir.Model.Claim.CareTeamComponent> or null))
          {
            CareTeam = OverflowNull<List<Hl7.Fhir.Model.Claim.CareTeamComponent>>.INSTANCE;
            Overflow["careTeam"] = value;
          }
          else CareTeam = (List<Hl7.Fhir.Model.Claim.CareTeamComponent>?)value!;
          return this;
        case "supportingInfo":
          if (value is not (List<Hl7.Fhir.Model.Claim.SupportingInformationComponent> or null))
          {
            SupportingInfo = OverflowNull<List<Hl7.Fhir.Model.Claim.SupportingInformationComponent>>.INSTANCE;
            Overflow["supportingInfo"] = value;
          }
          else SupportingInfo = (List<Hl7.Fhir.Model.Claim.SupportingInformationComponent>?)value!;
          return this;
        case "diagnosis":
          if (value is not (List<Hl7.Fhir.Model.Claim.DiagnosisComponent> or null))
          {
            Diagnosis = OverflowNull<List<Hl7.Fhir.Model.Claim.DiagnosisComponent>>.INSTANCE;
            Overflow["diagnosis"] = value;
          }
          else Diagnosis = (List<Hl7.Fhir.Model.Claim.DiagnosisComponent>?)value!;
          return this;
        case "procedure":
          if (value is not (List<Hl7.Fhir.Model.Claim.ProcedureComponent> or null))
          {
            Procedure = OverflowNull<List<Hl7.Fhir.Model.Claim.ProcedureComponent>>.INSTANCE;
            Overflow["procedure"] = value;
          }
          else Procedure = (List<Hl7.Fhir.Model.Claim.ProcedureComponent>?)value!;
          return this;
        case "insurance":
          if (value is not (List<Hl7.Fhir.Model.Claim.InsuranceComponent> or null))
          {
            Insurance = OverflowNull<List<Hl7.Fhir.Model.Claim.InsuranceComponent>>.INSTANCE;
            Overflow["insurance"] = value;
          }
          else Insurance = (List<Hl7.Fhir.Model.Claim.InsuranceComponent>?)value!;
          return this;
        case "accident":
          if (value is not (Hl7.Fhir.Model.Claim.AccidentComponent or null))
          {
            Accident = OverflowNull<Hl7.Fhir.Model.Claim.AccidentComponent>.INSTANCE;
            Overflow["accident"] = value;
          }
          else Accident = (Hl7.Fhir.Model.Claim.AccidentComponent?)value;
          return this;
        case "item":
          if (value is not (List<Hl7.Fhir.Model.Claim.ItemComponent> or null))
          {
            Item = OverflowNull<List<Hl7.Fhir.Model.Claim.ItemComponent>>.INSTANCE;
            Overflow["item"] = value;
          }
          else Item = (List<Hl7.Fhir.Model.Claim.ItemComponent>?)value!;
          return this;
        case "total":
          if (value is not (Hl7.Fhir.Model.Money or null))
          {
            Total = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
            Overflow["total"] = value;
          }
          else Total = (Hl7.Fhir.Model.Money?)value;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.FinancialResourceStatusCodes>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
      if (_SubType is not null && !_SubType.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("subType",_SubType);
      if (_UseElement is not null && !_UseElement.InOverflow<Code<Hl7.Fhir.Model.ClaimUseCode>>()) yield return new KeyValuePair<string,object>("use",_UseElement);
      if (_Patient is not null && !_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("patient",_Patient);
      if (_BillablePeriod is not null && !_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("billablePeriod",_BillablePeriod);
      if (_CreatedElement is not null && !_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("created",_CreatedElement);
      if (_Enterer is not null && !_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("enterer",_Enterer);
      if (_Insurer is not null && !_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("insurer",_Insurer);
      if (_Provider is not null && !_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("provider",_Provider);
      if (_Priority is not null && !_Priority.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("priority",_Priority);
      if (_FundsReserve is not null && !_FundsReserve.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("fundsReserve",_FundsReserve);
      if (_Related?.Any() is true && !_Related.InOverflow<List<Hl7.Fhir.Model.Claim.RelatedClaimComponent>>()) yield return new KeyValuePair<string,object>("related",_Related);
      if (_Prescription is not null && !_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("prescription",_Prescription);
      if (_OriginalPrescription is not null && !_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("originalPrescription",_OriginalPrescription);
      if (_Payee is not null && !_Payee.InOverflow<Hl7.Fhir.Model.Claim.PayeeComponent>()) yield return new KeyValuePair<string,object>("payee",_Payee);
      if (_Referral is not null && !_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("referral",_Referral);
      if (_Facility is not null && !_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("facility",_Facility);
      if (_CareTeam?.Any() is true && !_CareTeam.InOverflow<List<Hl7.Fhir.Model.Claim.CareTeamComponent>>()) yield return new KeyValuePair<string,object>("careTeam",_CareTeam);
      if (_SupportingInfo?.Any() is true && !_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.Claim.SupportingInformationComponent>>()) yield return new KeyValuePair<string,object>("supportingInfo",_SupportingInfo);
      if (_Diagnosis?.Any() is true && !_Diagnosis.InOverflow<List<Hl7.Fhir.Model.Claim.DiagnosisComponent>>()) yield return new KeyValuePair<string,object>("diagnosis",_Diagnosis);
      if (_Procedure?.Any() is true && !_Procedure.InOverflow<List<Hl7.Fhir.Model.Claim.ProcedureComponent>>()) yield return new KeyValuePair<string,object>("procedure",_Procedure);
      if (_Insurance?.Any() is true && !_Insurance.InOverflow<List<Hl7.Fhir.Model.Claim.InsuranceComponent>>()) yield return new KeyValuePair<string,object>("insurance",_Insurance);
      if (_Accident is not null && !_Accident.InOverflow<Hl7.Fhir.Model.Claim.AccidentComponent>()) yield return new KeyValuePair<string,object>("accident",_Accident);
      if (_Item?.Any() is true && !_Item.InOverflow<List<Hl7.Fhir.Model.Claim.ItemComponent>>()) yield return new KeyValuePair<string,object>("item",_Item);
      if (_Total is not null && !_Total.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("total",_Total);
    }

  }

}

// end of file
