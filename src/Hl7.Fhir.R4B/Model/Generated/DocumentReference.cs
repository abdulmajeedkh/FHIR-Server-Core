// <auto-generated/>
// Contents of: hl7.fhir.r4b.expansions@4.3.0, hl7.fhir.r4b.core@4.3.0

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// A reference to a document
  /// </summary>
  /// <remarks>
  /// A reference to a document of any kind for any purpose. Provides metadata about the document so that the document can be discovered and managed. The scope of a document is any seralized object with a mime-type, so includes formal patient centric documents (CDA), cliical notes, scanned paper, and non-patient specific documents like policy text.
  /// Usually, this is used for documents other than those defined by FHIR.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("DocumentReference","http://hl7.org/fhir/StructureDefinition/DocumentReference")]
  public partial class DocumentReference : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "DocumentReference";

    /// <summary>
    /// Relationships to other documents
    /// </summary>
    /// <remarks>
    /// Relationships that this document has with other document references that already exist.
    /// This element is labeled as a modifier because documents that append to other documents are incomplete on their own.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("DocumentReference.relatesTo", IsBackboneType=true)]
    public partial class RelatesToComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "DocumentReference.relatesTo";

      /// <summary>
      /// replaces | transforms | signs | appends.
      /// </summary>
      [FhirElement("code", InSummary=true, Order=40)]
      [Binding("DocumentRelationshipType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Code<Hl7.Fhir.Model.DocumentRelationshipType> CodeElement
      {
        get
        {
          if(_CodeElement.InOverflow<Code<Hl7.Fhir.Model.DocumentRelationshipType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.DocumentRelationshipType>), Overflow["code"]);
          return _CodeElement!;
        }

        set
        {
          if (_CodeElement.InOverflow<Code<Hl7.Fhir.Model.DocumentRelationshipType>>())
            Overflow.Remove("code");
          _CodeElement = value;
          OnPropertyChanged("CodeElement");
        }

      }

      private Code<Hl7.Fhir.Model.DocumentRelationshipType>? _CodeElement;

      /// <summary>
      /// replaces | transforms | signs | appends
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.DocumentRelationshipType? Code
      {
        get => CodeElement?.Value;
        set
        {
          CodeElement = value is null ? null! : new Code<Hl7.Fhir.Model.DocumentRelationshipType>(value);
          OnPropertyChanged("Code");
        }
      }

      /// <summary>
      /// Target of the relationship.
      /// </summary>
      [FhirElement("target", InSummary=true, Order=50)]
      [CLSCompliant(false)]
      [References("DocumentReference")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference Target
      {
        get
        {
          if(_Target.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["target"]);
          return _Target!;
        }

        set
        {
          if (_Target.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("target");
          _Target = value;
          OnPropertyChanged("Target");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Target;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not RelatesToComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_CodeElement is not null) dest.CodeElement = (Code<Hl7.Fhir.Model.DocumentRelationshipType>)_CodeElement.DeepCopyInternal();
        if(_Target is not null) dest.Target = (Hl7.Fhir.Model.ResourceReference)_Target.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new RelatesToComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not RelatesToComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_CodeElement, otherT._CodeElement)) return false;
        if(!comparer.Equals(_Target, otherT._Target)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "code":
            if (_CodeElement.InOverflow<Code<Hl7.Fhir.Model.DocumentRelationshipType>>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _CodeElement;
            return (value as Code<Hl7.Fhir.Model.DocumentRelationshipType>) is not null;
          case "target":
            if (_Target.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["target"];
              return true;
            }
            value = _Target;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "code":
            if (value is not (Code<Hl7.Fhir.Model.DocumentRelationshipType> or null))
            {
              CodeElement = OverflowNull<Code<Hl7.Fhir.Model.DocumentRelationshipType>>.INSTANCE;
              Overflow["code"] = value;
            }
            else CodeElement = (Code<Hl7.Fhir.Model.DocumentRelationshipType>?)value!;
            return this;
          case "target":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Target = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["target"] = value;
            }
            else Target = (Hl7.Fhir.Model.ResourceReference?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_CodeElement is not null && !_CodeElement.InOverflow<Code<Hl7.Fhir.Model.DocumentRelationshipType>>()) yield return new KeyValuePair<string,object>("code",_CodeElement);
        if (_Target is not null && !_Target.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("target",_Target);
      }

    }

    /// <summary>
    /// Document referenced
    /// </summary>
    /// <remarks>
    /// The document and format referenced. There may be multiple content element repetitions, each with a different format.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("DocumentReference.content", IsBackboneType=true)]
    public partial class ContentComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "DocumentReference.content";

      /// <summary>
      /// Where to access the document.
      /// </summary>
      [FhirElement("attachment", InSummary=true, Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Attachment Attachment
      {
        get
        {
          if(_Attachment.InOverflow<Hl7.Fhir.Model.Attachment>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Attachment), Overflow["attachment"]);
          return _Attachment!;
        }

        set
        {
          if (_Attachment.InOverflow<Hl7.Fhir.Model.Attachment>())
            Overflow.Remove("attachment");
          _Attachment = value;
          OnPropertyChanged("Attachment");
        }

      }

      private Hl7.Fhir.Model.Attachment? _Attachment;

      /// <summary>
      /// Format/content rules for the document.
      /// </summary>
      [FhirElement("format", InSummary=true, Order=50)]
      [Binding("DocumentFormat")]
      [DataMember]
      public Hl7.Fhir.Model.Coding? Format
      {
        get
        {
          if(_Format.InOverflow<Hl7.Fhir.Model.Coding>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Coding), Overflow["format"]);
          return _Format;
        }

        set
        {
          if (_Format.InOverflow<Hl7.Fhir.Model.Coding>())
            Overflow.Remove("format");
          _Format = value;
          OnPropertyChanged("Format");
        }

      }

      private Hl7.Fhir.Model.Coding? _Format;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ContentComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Attachment is not null) dest.Attachment = (Hl7.Fhir.Model.Attachment)_Attachment.DeepCopyInternal();
        if(_Format is not null) dest.Format = (Hl7.Fhir.Model.Coding)_Format.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ContentComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ContentComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Attachment, otherT._Attachment)) return false;
        if(!comparer.Equals(_Format, otherT._Format)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "attachment":
            if (_Attachment.InOverflow<Hl7.Fhir.Model.Attachment>())
            {
              value = Overflow["attachment"];
              return true;
            }
            value = _Attachment;
            return (value as Hl7.Fhir.Model.Attachment) is not null;
          case "format":
            if (_Format.InOverflow<Hl7.Fhir.Model.Coding>())
            {
              value = Overflow["format"];
              return true;
            }
            value = _Format;
            return (value as Hl7.Fhir.Model.Coding) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "attachment":
            if (value is not (Hl7.Fhir.Model.Attachment or null))
            {
              Attachment = OverflowNull<Hl7.Fhir.Model.Attachment>.INSTANCE;
              Overflow["attachment"] = value;
            }
            else Attachment = (Hl7.Fhir.Model.Attachment?)value!;
            return this;
          case "format":
            if (value is not (Hl7.Fhir.Model.Coding or null))
            {
              Format = OverflowNull<Hl7.Fhir.Model.Coding>.INSTANCE;
              Overflow["format"] = value;
            }
            else Format = (Hl7.Fhir.Model.Coding?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Attachment is not null && !_Attachment.InOverflow<Hl7.Fhir.Model.Attachment>()) yield return new KeyValuePair<string,object>("attachment",_Attachment);
        if (_Format is not null && !_Format.InOverflow<Hl7.Fhir.Model.Coding>()) yield return new KeyValuePair<string,object>("format",_Format);
      }

    }

    /// <summary>
    /// Clinical context of document
    /// </summary>
    /// <remarks>
    /// The clinical context in which the document was prepared.
    /// These values are primarily added to help with searching for interesting/relevant documents.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("DocumentReference.context", IsBackboneType=true)]
    public partial class ContextComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "DocumentReference.context";

      /// <summary>
      /// Context of the document  content.
      /// </summary>
      [FhirElement("encounter", Order=40, FiveWs="FiveWs.context")]
      [CLSCompliant(false)]
      [References("Encounter","EpisodeOfCare")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Encounter
      {
        get
        {
          if(_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["encounter"]);
          return _Encounter ??= [];
        }

        set
        {
          if (_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("encounter");
          _Encounter = value;
          OnPropertyChanged("Encounter");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Encounter;

      /// <summary>
      /// Main clinical acts documented.
      /// </summary>
      [FhirElement("event", Order=50)]
      [Binding("DocumentEventType")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Event
      {
        get
        {
          if(_Event.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["event"]);
          return _Event ??= [];
        }

        set
        {
          if (_Event.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("event");
          _Event = value;
          OnPropertyChanged("Event");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Event;

      /// <summary>
      /// Time of service that is being documented.
      /// </summary>
      [FhirElement("period", InSummary=true, Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Period? Period
      {
        get
        {
          if(_Period.InOverflow<Hl7.Fhir.Model.Period>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["period"]);
          return _Period;
        }

        set
        {
          if (_Period.InOverflow<Hl7.Fhir.Model.Period>())
            Overflow.Remove("period");
          _Period = value;
          OnPropertyChanged("Period");
        }

      }

      private Hl7.Fhir.Model.Period? _Period;

      /// <summary>
      /// Kind of facility where patient was seen.
      /// </summary>
      [FhirElement("facilityType", Order=70)]
      [Binding("DocumentC80FacilityType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? FacilityType
      {
        get
        {
          if(_FacilityType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["facilityType"]);
          return _FacilityType;
        }

        set
        {
          if (_FacilityType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("facilityType");
          _FacilityType = value;
          OnPropertyChanged("FacilityType");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _FacilityType;

      /// <summary>
      /// Additional details about where the content was created (e.g. clinical specialty).
      /// </summary>
      [FhirElement("practiceSetting", Order=80)]
      [Binding("DocumentC80PracticeSetting")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? PracticeSetting
      {
        get
        {
          if(_PracticeSetting.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["practiceSetting"]);
          return _PracticeSetting;
        }

        set
        {
          if (_PracticeSetting.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("practiceSetting");
          _PracticeSetting = value;
          OnPropertyChanged("PracticeSetting");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _PracticeSetting;

      /// <summary>
      /// Patient demographics from source.
      /// </summary>
      [FhirElement("sourcePatientInfo", Order=90)]
      [CLSCompliant(false)]
      [References("Patient")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? SourcePatientInfo
      {
        get
        {
          if(_SourcePatientInfo.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["sourcePatientInfo"]);
          return _SourcePatientInfo;
        }

        set
        {
          if (_SourcePatientInfo.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("sourcePatientInfo");
          _SourcePatientInfo = value;
          OnPropertyChanged("SourcePatientInfo");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _SourcePatientInfo;

      /// <summary>
      /// Related identifiers or resources.
      /// </summary>
      [FhirElement("related", Order=100)]
      [CLSCompliant(false)]
      [References("Resource")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Related
      {
        get
        {
          if(_Related.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["related"]);
          return _Related ??= [];
        }

        set
        {
          if (_Related.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("related");
          _Related = value;
          OnPropertyChanged("Related");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Related;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ContextComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Encounter is not null) dest.Encounter = new List<Hl7.Fhir.Model.ResourceReference>(_Encounter.DeepCopyInternal());
        if(_Event is not null) dest.Event = new List<Hl7.Fhir.Model.CodeableConcept>(_Event.DeepCopyInternal());
        if(_Period is not null) dest.Period = (Hl7.Fhir.Model.Period)_Period.DeepCopyInternal();
        if(_FacilityType is not null) dest.FacilityType = (Hl7.Fhir.Model.CodeableConcept)_FacilityType.DeepCopyInternal();
        if(_PracticeSetting is not null) dest.PracticeSetting = (Hl7.Fhir.Model.CodeableConcept)_PracticeSetting.DeepCopyInternal();
        if(_SourcePatientInfo is not null) dest.SourcePatientInfo = (Hl7.Fhir.Model.ResourceReference)_SourcePatientInfo.DeepCopyInternal();
        if(_Related is not null) dest.Related = new List<Hl7.Fhir.Model.ResourceReference>(_Related.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ContextComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ContextComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.ListEquals(_Encounter, otherT._Encounter)) return false;
        if(!comparer.ListEquals(_Event, otherT._Event)) return false;
        if(!comparer.Equals(_Period, otherT._Period)) return false;
        if(!comparer.Equals(_FacilityType, otherT._FacilityType)) return false;
        if(!comparer.Equals(_PracticeSetting, otherT._PracticeSetting)) return false;
        if(!comparer.Equals(_SourcePatientInfo, otherT._SourcePatientInfo)) return false;
        if(!comparer.ListEquals(_Related, otherT._Related)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "encounter":
            if (_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["encounter"];
              return true;
            }
            value = _Encounter;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "event":
            if (_Event.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["event"];
              return true;
            }
            value = _Event;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "period":
            if (_Period.InOverflow<Hl7.Fhir.Model.Period>())
            {
              value = Overflow["period"];
              return true;
            }
            value = _Period;
            return (value as Hl7.Fhir.Model.Period) is not null;
          case "facilityType":
            if (_FacilityType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["facilityType"];
              return true;
            }
            value = _FacilityType;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "practiceSetting":
            if (_PracticeSetting.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["practiceSetting"];
              return true;
            }
            value = _PracticeSetting;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "sourcePatientInfo":
            if (_SourcePatientInfo.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["sourcePatientInfo"];
              return true;
            }
            value = _SourcePatientInfo;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "related":
            if (_Related.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["related"];
              return true;
            }
            value = _Related;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "encounter":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Encounter = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["encounter"] = value;
            }
            else Encounter = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "event":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Event = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["event"] = value;
            }
            else Event = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "period":
            if (value is not (Hl7.Fhir.Model.Period or null))
            {
              Period = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
              Overflow["period"] = value;
            }
            else Period = (Hl7.Fhir.Model.Period?)value;
            return this;
          case "facilityType":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              FacilityType = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["facilityType"] = value;
            }
            else FacilityType = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "practiceSetting":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              PracticeSetting = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["practiceSetting"] = value;
            }
            else PracticeSetting = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "sourcePatientInfo":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              SourcePatientInfo = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["sourcePatientInfo"] = value;
            }
            else SourcePatientInfo = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          case "related":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Related = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["related"] = value;
            }
            else Related = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Encounter?.Any() is true && !_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("encounter",_Encounter);
        if (_Event?.Any() is true && !_Event.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("event",_Event);
        if (_Period is not null && !_Period.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("period",_Period);
        if (_FacilityType is not null && !_FacilityType.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("facilityType",_FacilityType);
        if (_PracticeSetting is not null && !_PracticeSetting.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("practiceSetting",_PracticeSetting);
        if (_SourcePatientInfo is not null && !_SourcePatientInfo.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("sourcePatientInfo",_SourcePatientInfo);
        if (_Related?.Any() is true && !_Related.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("related",_Related);
      }

    }

    /// <summary>
    /// Master Version Specific Identifier.
    /// </summary>
    [FhirElement("masterIdentifier", InSummary=true, Order=90, FiveWs="FiveWs.identifier")]
    [DataMember]
    public Hl7.Fhir.Model.Identifier? MasterIdentifier
    {
      get
      {
        if(_MasterIdentifier.InOverflow<Hl7.Fhir.Model.Identifier>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["masterIdentifier"]);
        return _MasterIdentifier;
      }

      set
      {
        if (_MasterIdentifier.InOverflow<Hl7.Fhir.Model.Identifier>())
          Overflow.Remove("masterIdentifier");
        _MasterIdentifier = value;
        OnPropertyChanged("MasterIdentifier");
      }

    }

    private Hl7.Fhir.Model.Identifier? _MasterIdentifier;

    /// <summary>
    /// Other identifiers for the document.
    /// </summary>
    [FhirElement("identifier", InSummary=true, Order=100, FiveWs="FiveWs.identifier")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// current | superseded | entered-in-error.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=110, FiveWs="FiveWs.status")]
    [Binding("DocumentReferenceStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.DocumentReferenceStatus> StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.DocumentReferenceStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.DocumentReferenceStatus>), Overflow["status"]);
        return _StatusElement!;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.DocumentReferenceStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.DocumentReferenceStatus>? _StatusElement;

    /// <summary>
    /// current | superseded | entered-in-error
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.DocumentReferenceStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.DocumentReferenceStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// preliminary | final | amended | entered-in-error.
    /// </summary>
    [FhirElement("docStatus", InSummary=true, Order=120, FiveWs="FiveWs.status")]
    [Binding("ReferredDocumentStatus")]
    [DataMember]
    public Code<Hl7.Fhir.Model.CompositionStatus>? DocStatusElement
    {
      get
      {
        if(_DocStatusElement.InOverflow<Code<Hl7.Fhir.Model.CompositionStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.CompositionStatus>), Overflow["docStatus"]);
        return _DocStatusElement;
      }

      set
      {
        if (_DocStatusElement.InOverflow<Code<Hl7.Fhir.Model.CompositionStatus>>())
          Overflow.Remove("docStatus");
        _DocStatusElement = value;
        OnPropertyChanged("DocStatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.CompositionStatus>? _DocStatusElement;

    /// <summary>
    /// preliminary | final | amended | entered-in-error
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.CompositionStatus? DocStatus
    {
      get => DocStatusElement?.Value;
      set
      {
        DocStatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.CompositionStatus>(value);
        OnPropertyChanged("DocStatus");
      }
    }

    /// <summary>
    /// Kind of document (LOINC if possible).
    /// </summary>
    [FhirElement("type", InSummary=true, Order=130, FiveWs="FiveWs.class")]
    [Binding("DocumentC80Type")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Type
    {
      get
      {
        if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
        return _Type;
      }

      set
      {
        if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("type");
        _Type = value;
        OnPropertyChanged("Type");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Type;

    /// <summary>
    /// Categorization of document.
    /// </summary>
    [FhirElement("category", InSummary=true, Order=140, FiveWs="FiveWs.class")]
    [Binding("DocumentC80Class")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> Category
    {
      get
      {
        if(_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["category"]);
        return _Category ??= [];
      }

      set
      {
        if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("category");
        _Category = value;
        OnPropertyChanged("Category");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _Category;

    /// <summary>
    /// Who/what is the subject of the document.
    /// </summary>
    [FhirElement("subject", InSummary=true, Order=150, FiveWs="FiveWs.subject")]
    [CLSCompliant(false)]
    [References("Patient","Practitioner","Group","Device")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Subject
    {
      get
      {
        if(_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["subject"]);
        return _Subject;
      }

      set
      {
        if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("subject");
        _Subject = value;
        OnPropertyChanged("Subject");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Subject;

    /// <summary>
    /// When this document reference was created.
    /// </summary>
    [FhirElement("date", InSummary=true, Order=160, FiveWs="FiveWs.recorded")]
    [DataMember]
    public Hl7.Fhir.Model.Instant? DateElement
    {
      get
      {
        if(_DateElement.InOverflow<Hl7.Fhir.Model.Instant>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Instant), Overflow["date"]);
        return _DateElement;
      }

      set
      {
        if (_DateElement.InOverflow<Hl7.Fhir.Model.Instant>())
          Overflow.Remove("date");
        _DateElement = value;
        OnPropertyChanged("DateElement");
      }

    }

    private Hl7.Fhir.Model.Instant? _DateElement;

    /// <summary>
    /// When this document reference was created
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public DateTimeOffset? Date
    {
      get => DateElement?.Value;
      set
      {
        DateElement = value is null ? null! : new Hl7.Fhir.Model.Instant(value);
        OnPropertyChanged("Date");
      }
    }

    /// <summary>
    /// Who and/or what authored the document.
    /// </summary>
    [FhirElement("author", InSummary=true, Order=170)]
    [CLSCompliant(false)]
    [References("Practitioner","PractitionerRole","Organization","Device","Patient","RelatedPerson")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ResourceReference> Author
    {
      get
      {
        if(_Author.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["author"]);
        return _Author ??= [];
      }

      set
      {
        if (_Author.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          Overflow.Remove("author");
        _Author = value;
        OnPropertyChanged("Author");
      }

    }

    private List<Hl7.Fhir.Model.ResourceReference>? _Author;

    /// <summary>
    /// Who/what authenticated the document.
    /// </summary>
    [FhirElement("authenticator", Order=180, FiveWs="FiveWs.witness")]
    [CLSCompliant(false)]
    [References("Practitioner","PractitionerRole","Organization")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Authenticator
    {
      get
      {
        if(_Authenticator.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["authenticator"]);
        return _Authenticator;
      }

      set
      {
        if (_Authenticator.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("authenticator");
        _Authenticator = value;
        OnPropertyChanged("Authenticator");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Authenticator;

    /// <summary>
    /// Organization which maintains the document.
    /// </summary>
    [FhirElement("custodian", Order=190)]
    [CLSCompliant(false)]
    [References("Organization")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Custodian
    {
      get
      {
        if(_Custodian.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["custodian"]);
        return _Custodian;
      }

      set
      {
        if (_Custodian.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("custodian");
        _Custodian = value;
        OnPropertyChanged("Custodian");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Custodian;

    /// <summary>
    /// Relationships to other documents.
    /// </summary>
    [FhirElement("relatesTo", InSummary=true, Order=200)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent> RelatesTo
    {
      get
      {
        if(_RelatesTo.InOverflow<List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent>), Overflow["relatesTo"]);
        return _RelatesTo ??= [];
      }

      set
      {
        if (_RelatesTo.InOverflow<List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent>>())
          Overflow.Remove("relatesTo");
        _RelatesTo = value;
        OnPropertyChanged("RelatesTo");
      }

    }

    private List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent>? _RelatesTo;

    /// <summary>
    /// Human-readable description.
    /// </summary>
    [FhirElement("description", InSummary=true, Order=210)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? DescriptionElement
    {
      get
      {
        if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
        return _DescriptionElement;
      }

      set
      {
        if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("description");
        _DescriptionElement = value;
        OnPropertyChanged("DescriptionElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _DescriptionElement;

    /// <summary>
    /// Human-readable description
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Description
    {
      get => DescriptionElement?.Value;
      set
      {
        DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Description");
      }
    }

    /// <summary>
    /// Document security-tags.
    /// </summary>
    [FhirElement("securityLabel", InSummary=true, Order=220)]
    [Binding("SecurityLabels")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.CodeableConcept> SecurityLabel
    {
      get
      {
        if(_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["securityLabel"]);
        return _SecurityLabel ??= [];
      }

      set
      {
        if (_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          Overflow.Remove("securityLabel");
        _SecurityLabel = value;
        OnPropertyChanged("SecurityLabel");
      }

    }

    private List<Hl7.Fhir.Model.CodeableConcept>? _SecurityLabel;

    /// <summary>
    /// Document referenced.
    /// </summary>
    [FhirElement("content", InSummary=true, Order=230)]
    [Cardinality(Min=1,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.DocumentReference.ContentComponent> Content
    {
      get
      {
        if(_Content.InOverflow<List<Hl7.Fhir.Model.DocumentReference.ContentComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.DocumentReference.ContentComponent>), Overflow["content"]);
        return _Content ??= [];
      }

      set
      {
        if (_Content.InOverflow<List<Hl7.Fhir.Model.DocumentReference.ContentComponent>>())
          Overflow.Remove("content");
        _Content = value;
        OnPropertyChanged("Content");
      }

    }

    private List<Hl7.Fhir.Model.DocumentReference.ContentComponent>? _Content;

    /// <summary>
    /// Clinical context of document.
    /// </summary>
    [FhirElement("context", InSummary=true, Order=240)]
    [DataMember]
    public Hl7.Fhir.Model.DocumentReference.ContextComponent? Context
    {
      get
      {
        if(_Context.InOverflow<Hl7.Fhir.Model.DocumentReference.ContextComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DocumentReference.ContextComponent), Overflow["context"]);
        return _Context;
      }

      set
      {
        if (_Context.InOverflow<Hl7.Fhir.Model.DocumentReference.ContextComponent>())
          Overflow.Remove("context");
        _Context = value;
        OnPropertyChanged("Context");
      }

    }

    private Hl7.Fhir.Model.DocumentReference.ContextComponent? _Context;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not DocumentReference dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_MasterIdentifier is not null) dest.MasterIdentifier = (Hl7.Fhir.Model.Identifier)_MasterIdentifier.DeepCopyInternal();
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.DocumentReferenceStatus>)_StatusElement.DeepCopyInternal();
      if(_DocStatusElement is not null) dest.DocStatusElement = (Code<Hl7.Fhir.Model.CompositionStatus>)_DocStatusElement.DeepCopyInternal();
      if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
      if(_Category is not null) dest.Category = new List<Hl7.Fhir.Model.CodeableConcept>(_Category.DeepCopyInternal());
      if(_Subject is not null) dest.Subject = (Hl7.Fhir.Model.ResourceReference)_Subject.DeepCopyInternal();
      if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.Instant)_DateElement.DeepCopyInternal();
      if(_Author is not null) dest.Author = new List<Hl7.Fhir.Model.ResourceReference>(_Author.DeepCopyInternal());
      if(_Authenticator is not null) dest.Authenticator = (Hl7.Fhir.Model.ResourceReference)_Authenticator.DeepCopyInternal();
      if(_Custodian is not null) dest.Custodian = (Hl7.Fhir.Model.ResourceReference)_Custodian.DeepCopyInternal();
      if(_RelatesTo is not null) dest.RelatesTo = new List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent>(_RelatesTo.DeepCopyInternal());
      if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
      if(_SecurityLabel is not null) dest.SecurityLabel = new List<Hl7.Fhir.Model.CodeableConcept>(_SecurityLabel.DeepCopyInternal());
      if(_Content is not null) dest.Content = new List<Hl7.Fhir.Model.DocumentReference.ContentComponent>(_Content.DeepCopyInternal());
      if(_Context is not null) dest.Context = (Hl7.Fhir.Model.DocumentReference.ContextComponent)_Context.DeepCopyInternal();
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new DocumentReference();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not DocumentReference otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.Equals(_MasterIdentifier, otherT._MasterIdentifier)) return false;
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_DocStatusElement, otherT._DocStatusElement)) return false;
      if(!comparer.Equals(_Type, otherT._Type)) return false;
      if(!comparer.ListEquals(_Category, otherT._Category)) return false;
      if(!comparer.Equals(_Subject, otherT._Subject)) return false;
      if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
      if(!comparer.ListEquals(_Author, otherT._Author)) return false;
      if(!comparer.Equals(_Authenticator, otherT._Authenticator)) return false;
      if(!comparer.Equals(_Custodian, otherT._Custodian)) return false;
      if(!comparer.ListEquals(_RelatesTo, otherT._RelatesTo)) return false;
      if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
      if(!comparer.ListEquals(_SecurityLabel, otherT._SecurityLabel)) return false;
      if(!comparer.ListEquals(_Content, otherT._Content)) return false;
      if(!comparer.Equals(_Context, otherT._Context)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "masterIdentifier":
          if (_MasterIdentifier.InOverflow<Hl7.Fhir.Model.Identifier>())
          {
            value = Overflow["masterIdentifier"];
            return true;
          }
          value = _MasterIdentifier;
          return (value as Hl7.Fhir.Model.Identifier) is not null;
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.DocumentReferenceStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.DocumentReferenceStatus>) is not null;
        case "docStatus":
          if (_DocStatusElement.InOverflow<Code<Hl7.Fhir.Model.CompositionStatus>>())
          {
            value = Overflow["docStatus"];
            return true;
          }
          value = _DocStatusElement;
          return (value as Code<Hl7.Fhir.Model.CompositionStatus>) is not null;
        case "type":
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["type"];
            return true;
          }
          value = _Type;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "category":
          if (_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["category"];
            return true;
          }
          value = _Category;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "subject":
          if (_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["subject"];
            return true;
          }
          value = _Subject;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "date":
          if (_DateElement.InOverflow<Hl7.Fhir.Model.Instant>())
          {
            value = Overflow["date"];
            return true;
          }
          value = _DateElement;
          return (value as Hl7.Fhir.Model.Instant) is not null;
        case "author":
          if (_Author.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
          {
            value = Overflow["author"];
            return true;
          }
          value = _Author;
          return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
        case "authenticator":
          if (_Authenticator.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["authenticator"];
            return true;
          }
          value = _Authenticator;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "custodian":
          if (_Custodian.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["custodian"];
            return true;
          }
          value = _Custodian;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "relatesTo":
          if (_RelatesTo.InOverflow<List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent>>())
          {
            value = Overflow["relatesTo"];
            return true;
          }
          value = _RelatesTo;
          return (value as List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent>)?.Any() is true;
        case "description":
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["description"];
            return true;
          }
          value = _DescriptionElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "securityLabel":
          if (_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
          {
            value = Overflow["securityLabel"];
            return true;
          }
          value = _SecurityLabel;
          return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
        case "content":
          if (_Content.InOverflow<List<Hl7.Fhir.Model.DocumentReference.ContentComponent>>())
          {
            value = Overflow["content"];
            return true;
          }
          value = _Content;
          return (value as List<Hl7.Fhir.Model.DocumentReference.ContentComponent>)?.Any() is true;
        case "context":
          if (_Context.InOverflow<Hl7.Fhir.Model.DocumentReference.ContextComponent>())
          {
            value = Overflow["context"];
            return true;
          }
          value = _Context;
          return (value as Hl7.Fhir.Model.DocumentReference.ContextComponent) is not null;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "masterIdentifier":
          if (value is not (Hl7.Fhir.Model.Identifier or null))
          {
            MasterIdentifier = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
            Overflow["masterIdentifier"] = value;
          }
          else MasterIdentifier = (Hl7.Fhir.Model.Identifier?)value;
          return this;
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.DocumentReferenceStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.DocumentReferenceStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.DocumentReferenceStatus>?)value!;
          return this;
        case "docStatus":
          if (value is not (Code<Hl7.Fhir.Model.CompositionStatus> or null))
          {
            DocStatusElement = OverflowNull<Code<Hl7.Fhir.Model.CompositionStatus>>.INSTANCE;
            Overflow["docStatus"] = value;
          }
          else DocStatusElement = (Code<Hl7.Fhir.Model.CompositionStatus>?)value;
          return this;
        case "type":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["type"] = value;
          }
          else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "category":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            Category = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["category"] = value;
          }
          else Category = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "subject":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Subject = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["subject"] = value;
          }
          else Subject = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "date":
          if (value is not (Hl7.Fhir.Model.Instant or null))
          {
            DateElement = OverflowNull<Hl7.Fhir.Model.Instant>.INSTANCE;
            Overflow["date"] = value;
          }
          else DateElement = (Hl7.Fhir.Model.Instant?)value;
          return this;
        case "author":
          if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
          {
            Author = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
            Overflow["author"] = value;
          }
          else Author = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
          return this;
        case "authenticator":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Authenticator = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["authenticator"] = value;
          }
          else Authenticator = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "custodian":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Custodian = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["custodian"] = value;
          }
          else Custodian = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "relatesTo":
          if (value is not (List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent> or null))
          {
            RelatesTo = OverflowNull<List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent>>.INSTANCE;
            Overflow["relatesTo"] = value;
          }
          else RelatesTo = (List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent>?)value!;
          return this;
        case "description":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["description"] = value;
          }
          else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "securityLabel":
          if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
          {
            SecurityLabel = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
            Overflow["securityLabel"] = value;
          }
          else SecurityLabel = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
          return this;
        case "content":
          if (value is not (List<Hl7.Fhir.Model.DocumentReference.ContentComponent> or null))
          {
            Content = OverflowNull<List<Hl7.Fhir.Model.DocumentReference.ContentComponent>>.INSTANCE;
            Overflow["content"] = value;
          }
          else Content = (List<Hl7.Fhir.Model.DocumentReference.ContentComponent>?)value!;
          return this;
        case "context":
          if (value is not (Hl7.Fhir.Model.DocumentReference.ContextComponent or null))
          {
            Context = OverflowNull<Hl7.Fhir.Model.DocumentReference.ContextComponent>.INSTANCE;
            Overflow["context"] = value;
          }
          else Context = (Hl7.Fhir.Model.DocumentReference.ContextComponent?)value;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_MasterIdentifier is not null && !_MasterIdentifier.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("masterIdentifier",_MasterIdentifier);
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.DocumentReferenceStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_DocStatusElement is not null && !_DocStatusElement.InOverflow<Code<Hl7.Fhir.Model.CompositionStatus>>()) yield return new KeyValuePair<string,object>("docStatus",_DocStatusElement);
      if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
      if (_Category?.Any() is true && !_Category.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("category",_Category);
      if (_Subject is not null && !_Subject.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("subject",_Subject);
      if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.Instant>()) yield return new KeyValuePair<string,object>("date",_DateElement);
      if (_Author?.Any() is true && !_Author.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("author",_Author);
      if (_Authenticator is not null && !_Authenticator.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("authenticator",_Authenticator);
      if (_Custodian is not null && !_Custodian.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("custodian",_Custodian);
      if (_RelatesTo?.Any() is true && !_RelatesTo.InOverflow<List<Hl7.Fhir.Model.DocumentReference.RelatesToComponent>>()) yield return new KeyValuePair<string,object>("relatesTo",_RelatesTo);
      if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
      if (_SecurityLabel?.Any() is true && !_SecurityLabel.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("securityLabel",_SecurityLabel);
      if (_Content?.Any() is true && !_Content.InOverflow<List<Hl7.Fhir.Model.DocumentReference.ContentComponent>>()) yield return new KeyValuePair<string,object>("content",_Content);
      if (_Context is not null && !_Context.InOverflow<Hl7.Fhir.Model.DocumentReference.ContextComponent>()) yield return new KeyValuePair<string,object>("context",_Context);
    }

  }

}

// end of file
