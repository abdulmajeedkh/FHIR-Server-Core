// <auto-generated/>
// Contents of: hl7.fhir.r4.expansions@4.0.1, hl7.fhir.r4.core@4.0.1

using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using Hl7.Fhir.Introspection;
using Hl7.Fhir.Serialization;
using Hl7.Fhir.Specification;
using Hl7.Fhir.Utility;
using Hl7.Fhir.Validation;
using System.Diagnostics.CodeAnalysis;
using SystemPrimitive = Hl7.Fhir.ElementModel.Types;

#nullable enable

/*
  Copyright (c) 2011+, HL7, Inc.
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
*/

namespace Hl7.Fhir.Model
{
  /// <summary>
  /// Explanation of Benefit resource
  /// </summary>
  /// <remarks>
  /// This resource provides: the claim details; adjudication details from the processing of a Claim; and optionally account balance information, for informing the subscriber of the benefits provided.
  /// </remarks>
  [Serializable]
  [DataContract]
  [FhirType("ExplanationOfBenefit","http://hl7.org/fhir/StructureDefinition/ExplanationOfBenefit")]
  public partial class ExplanationOfBenefit : Hl7.Fhir.Model.DomainResource, IIdentifiable<List<Identifier>>, ICoded<Hl7.Fhir.Model.CodeableConcept?>
  {
    /// <summary>
    /// FHIR Type Name
    /// </summary>
    public override string TypeName => "ExplanationOfBenefit";

    /// <summary>
    /// A code specifying the state of the resource instance.
    /// (url: http://hl7.org/fhir/ValueSet/explanationofbenefit-status)
    /// (system: http://hl7.org/fhir/explanationofbenefit-status)
    /// </summary>
    [FhirEnumeration("ExplanationOfBenefitStatus", "http://hl7.org/fhir/ValueSet/explanationofbenefit-status", "http://hl7.org/fhir/explanationofbenefit-status")]
    public enum ExplanationOfBenefitStatus
    {
      /// <summary>
      /// The resource instance is currently in-force.
      /// (system: http://hl7.org/fhir/explanationofbenefit-status)
      /// </summary>
      [EnumLiteral("active"), Description("Active")]
      Active,
      /// <summary>
      /// The resource instance is withdrawn, rescinded or reversed.
      /// (system: http://hl7.org/fhir/explanationofbenefit-status)
      /// </summary>
      [EnumLiteral("cancelled"), Description("Cancelled")]
      Cancelled,
      /// <summary>
      /// A new resource instance the contents of which is not complete.
      /// (system: http://hl7.org/fhir/explanationofbenefit-status)
      /// </summary>
      [EnumLiteral("draft"), Description("Draft")]
      Draft,
      /// <summary>
      /// The resource instance was entered in error.
      /// (system: http://hl7.org/fhir/explanationofbenefit-status)
      /// </summary>
      [EnumLiteral("entered-in-error"), Description("Entered In Error")]
      EnteredInError,
    }

    /// <summary>
    /// Prior or corollary claims
    /// </summary>
    /// <remarks>
    /// Other claims which are related to this claim such as prior submissions or claims for related services or for the same event.
    /// For example,  for the original treatment and follow-up exams.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.related", IsBackboneType=true)]
    public partial class RelatedClaimComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.related";

      /// <summary>
      /// Reference to the related claim.
      /// </summary>
      [FhirElement("claim", Order=40)]
      [CLSCompliant(false)]
      [References("Claim")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Claim
      {
        get
        {
          if(_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["claim"]);
          return _Claim;
        }

        set
        {
          if (_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("claim");
          _Claim = value;
          OnPropertyChanged("Claim");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Claim;

      /// <summary>
      /// How the reference claim is related.
      /// </summary>
      [FhirElement("relationship", Order=50)]
      [Binding("RelatedClaimRelationship")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Relationship
      {
        get
        {
          if(_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["relationship"]);
          return _Relationship;
        }

        set
        {
          if (_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("relationship");
          _Relationship = value;
          OnPropertyChanged("Relationship");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Relationship;

      /// <summary>
      /// File or case reference.
      /// </summary>
      [FhirElement("reference", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Identifier? Reference
      {
        get
        {
          if(_Reference.InOverflow<Hl7.Fhir.Model.Identifier>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["reference"]);
          return _Reference;
        }

        set
        {
          if (_Reference.InOverflow<Hl7.Fhir.Model.Identifier>())
            Overflow.Remove("reference");
          _Reference = value;
          OnPropertyChanged("Reference");
        }

      }

      private Hl7.Fhir.Model.Identifier? _Reference;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not RelatedClaimComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Claim is not null) dest.Claim = (Hl7.Fhir.Model.ResourceReference)_Claim.DeepCopyInternal();
        if(_Relationship is not null) dest.Relationship = (Hl7.Fhir.Model.CodeableConcept)_Relationship.DeepCopyInternal();
        if(_Reference is not null) dest.Reference = (Hl7.Fhir.Model.Identifier)_Reference.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new RelatedClaimComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not RelatedClaimComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Claim, otherT._Claim)) return false;
        if(!comparer.Equals(_Relationship, otherT._Relationship)) return false;
        if(!comparer.Equals(_Reference, otherT._Reference)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "claim":
            if (_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["claim"];
              return true;
            }
            value = _Claim;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "relationship":
            if (_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["relationship"];
              return true;
            }
            value = _Relationship;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "reference":
            if (_Reference.InOverflow<Hl7.Fhir.Model.Identifier>())
            {
              value = Overflow["reference"];
              return true;
            }
            value = _Reference;
            return (value as Hl7.Fhir.Model.Identifier) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "claim":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Claim = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["claim"] = value;
            }
            else Claim = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          case "relationship":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Relationship = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["relationship"] = value;
            }
            else Relationship = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "reference":
            if (value is not (Hl7.Fhir.Model.Identifier or null))
            {
              Reference = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
              Overflow["reference"] = value;
            }
            else Reference = (Hl7.Fhir.Model.Identifier?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Claim is not null && !_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("claim",_Claim);
        if (_Relationship is not null && !_Relationship.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("relationship",_Relationship);
        if (_Reference is not null && !_Reference.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("reference",_Reference);
      }

    }

    /// <summary>
    /// Recipient of benefits payable
    /// </summary>
    /// <remarks>
    /// The party to be reimbursed for cost of the products and services according to the terms of the policy.
    /// Often providers agree to receive the benefits payable to reduce the near-term costs to the patient. The insurer may decline to pay the provider and may choose to pay the subscriber instead.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.payee", IsBackboneType=true)]
    public partial class PayeeComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.payee";

      /// <summary>
      /// Category of recipient.
      /// </summary>
      [FhirElement("type", Order=40)]
      [Binding("PayeeType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Recipient reference.
      /// </summary>
      [FhirElement("party", Order=50)]
      [CLSCompliant(false)]
      [References("Practitioner","PractitionerRole","Organization","Patient","RelatedPerson")]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference? Party
      {
        get
        {
          if(_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["party"]);
          return _Party;
        }

        set
        {
          if (_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("party");
          _Party = value;
          OnPropertyChanged("Party");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Party;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PayeeComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Party is not null) dest.Party = (Hl7.Fhir.Model.ResourceReference)_Party.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PayeeComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PayeeComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Party, otherT._Party)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "party":
            if (_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["party"];
              return true;
            }
            value = _Party;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "party":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Party = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["party"] = value;
            }
            else Party = (Hl7.Fhir.Model.ResourceReference?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Party is not null && !_Party.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("party",_Party);
      }

    }

    /// <summary>
    /// Care Team members
    /// </summary>
    /// <remarks>
    /// The members of the team who provided the products and services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.careTeam", IsBackboneType=true)]
    public partial class CareTeamComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.careTeam";

      /// <summary>
      /// Order of care team.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Order of care team
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Practitioner or organization.
      /// </summary>
      [FhirElement("provider", Order=50, FiveWs="FiveWs.actor")]
      [CLSCompliant(false)]
      [References("Practitioner","PractitionerRole","Organization")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference Provider
      {
        get
        {
          if(_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["provider"]);
          return _Provider!;
        }

        set
        {
          if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("provider");
          _Provider = value;
          OnPropertyChanged("Provider");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Provider;

      /// <summary>
      /// Indicator of the lead practitioner.
      /// </summary>
      [FhirElement("responsible", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? ResponsibleElement
      {
        get
        {
          if(_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["responsible"]);
          return _ResponsibleElement;
        }

        set
        {
          if (_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("responsible");
          _ResponsibleElement = value;
          OnPropertyChanged("ResponsibleElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _ResponsibleElement;

      /// <summary>
      /// Indicator of the lead practitioner
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Responsible
      {
        get => ResponsibleElement?.Value;
        set
        {
          ResponsibleElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Responsible");
        }
      }

      /// <summary>
      /// Function within the team.
      /// </summary>
      [FhirElement("role", Order=70)]
      [Binding("CareTeamRole")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Role
      {
        get
        {
          if(_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["role"]);
          return _Role;
        }

        set
        {
          if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("role");
          _Role = value;
          OnPropertyChanged("Role");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Role;

      /// <summary>
      /// Practitioner credential or specialization.
      /// </summary>
      [FhirElement("qualification", Order=80)]
      [Binding("ProviderQualification")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Qualification
      {
        get
        {
          if(_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["qualification"]);
          return _Qualification;
        }

        set
        {
          if (_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("qualification");
          _Qualification = value;
          OnPropertyChanged("Qualification");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Qualification;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not CareTeamComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Provider is not null) dest.Provider = (Hl7.Fhir.Model.ResourceReference)_Provider.DeepCopyInternal();
        if(_ResponsibleElement is not null) dest.ResponsibleElement = (Hl7.Fhir.Model.FhirBoolean)_ResponsibleElement.DeepCopyInternal();
        if(_Role is not null) dest.Role = (Hl7.Fhir.Model.CodeableConcept)_Role.DeepCopyInternal();
        if(_Qualification is not null) dest.Qualification = (Hl7.Fhir.Model.CodeableConcept)_Qualification.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new CareTeamComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not CareTeamComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Provider, otherT._Provider)) return false;
        if(!comparer.Equals(_ResponsibleElement, otherT._ResponsibleElement)) return false;
        if(!comparer.Equals(_Role, otherT._Role)) return false;
        if(!comparer.Equals(_Qualification, otherT._Qualification)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "provider":
            if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["provider"];
              return true;
            }
            value = _Provider;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "responsible":
            if (_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["responsible"];
              return true;
            }
            value = _ResponsibleElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "role":
            if (_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["role"];
              return true;
            }
            value = _Role;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "qualification":
            if (_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["qualification"];
              return true;
            }
            value = _Qualification;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "provider":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Provider = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["provider"] = value;
            }
            else Provider = (Hl7.Fhir.Model.ResourceReference?)value!;
            return this;
          case "responsible":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              ResponsibleElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["responsible"] = value;
            }
            else ResponsibleElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "role":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Role = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["role"] = value;
            }
            else Role = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "qualification":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Qualification = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["qualification"] = value;
            }
            else Qualification = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Provider is not null && !_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("provider",_Provider);
        if (_ResponsibleElement is not null && !_ResponsibleElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("responsible",_ResponsibleElement);
        if (_Role is not null && !_Role.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("role",_Role);
        if (_Qualification is not null && !_Qualification.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("qualification",_Qualification);
      }

    }

    /// <summary>
    /// Supporting information
    /// </summary>
    /// <remarks>
    /// Additional information codes regarding exceptions, special considerations, the condition, situation, prior or concurrent issues.
    /// Often there are multiple jurisdiction specific valuesets which are required.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.supportingInfo", IsBackboneType=true)]
    public partial class SupportingInformationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.supportingInfo";

      /// <summary>
      /// Information instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Information instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Classification of the supplied information.
      /// </summary>
      [FhirElement("category", Order=50)]
      [Binding("InformationCategory")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category!;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Type of information.
      /// </summary>
      [FhirElement("code", Order=60)]
      [Binding("InformationCode")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Code
      {
        get
        {
          if(_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["code"]);
          return _Code;
        }

        set
        {
          if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("code");
          _Code = value;
          OnPropertyChanged("Code");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Code;

      /// <summary>
      /// When it occurred.
      /// </summary>
      [FhirElement("timing", Order=70, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Date),typeof(Hl7.Fhir.Model.Period))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Timing
      {
        get
        {
          if(_Timing.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["timing"]);
          return _Timing;
        }

        set
        {
          if (_Timing.InOverflow<DynamicDataType>())
            Overflow.Remove("timing");
          _Timing = value;
          OnPropertyChanged("Timing");
        }

      }

      private Hl7.Fhir.Model.DataType? _Timing;

      /// <summary>
      /// Data to be provided.
      /// </summary>
      [FhirElement("value", Order=80, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [References("Resource")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.FhirBoolean),typeof(Hl7.Fhir.Model.FhirString),typeof(Hl7.Fhir.Model.Quantity),typeof(Hl7.Fhir.Model.Attachment),typeof(Hl7.Fhir.Model.ResourceReference))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Value
      {
        get
        {
          if(_Value.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["value"]);
          return _Value;
        }

        set
        {
          if (_Value.InOverflow<DynamicDataType>())
            Overflow.Remove("value");
          _Value = value;
          OnPropertyChanged("Value");
        }

      }

      private Hl7.Fhir.Model.DataType? _Value;

      /// <summary>
      /// Explanation for the information.
      /// </summary>
      [FhirElement("reason", Order=90)]
      [Binding("MissingReason")]
      [DataMember]
      public Hl7.Fhir.Model.Coding? Reason
      {
        get
        {
          if(_Reason.InOverflow<Hl7.Fhir.Model.Coding>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Coding), Overflow["reason"]);
          return _Reason;
        }

        set
        {
          if (_Reason.InOverflow<Hl7.Fhir.Model.Coding>())
            Overflow.Remove("reason");
          _Reason = value;
          OnPropertyChanged("Reason");
        }

      }

      private Hl7.Fhir.Model.Coding? _Reason;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SupportingInformationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Code is not null) dest.Code = (Hl7.Fhir.Model.CodeableConcept)_Code.DeepCopyInternal();
        if(_Timing is not null) dest.Timing = (Hl7.Fhir.Model.DataType)_Timing.DeepCopyInternal();
        if(_Value is not null) dest.Value = (Hl7.Fhir.Model.DataType)_Value.DeepCopyInternal();
        if(_Reason is not null) dest.Reason = (Hl7.Fhir.Model.Coding)_Reason.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SupportingInformationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SupportingInformationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Code, otherT._Code)) return false;
        if(!comparer.Equals(_Timing, otherT._Timing)) return false;
        if(!comparer.Equals(_Value, otherT._Value)) return false;
        if(!comparer.Equals(_Reason, otherT._Reason)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "code":
            if (_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["code"];
              return true;
            }
            value = _Code;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "timing":
            if (_Timing.InOverflow<DynamicDataType>())
            {
              value = Overflow["timing"];
              return true;
            }
            value = _Timing;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "value":
            if (_Value.InOverflow<DynamicDataType>())
            {
              value = Overflow["value"];
              return true;
            }
            value = _Value;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "reason":
            if (_Reason.InOverflow<Hl7.Fhir.Model.Coding>())
            {
              value = Overflow["reason"];
              return true;
            }
            value = _Reason;
            return (value as Hl7.Fhir.Model.Coding) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "code":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Code = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["code"] = value;
            }
            else Code = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "timing":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Timing = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["timing"] = value;
            }
            else Timing = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "value":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Value = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["value"] = value;
            }
            else Value = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "reason":
            if (value is not (Hl7.Fhir.Model.Coding or null))
            {
              Reason = OverflowNull<Hl7.Fhir.Model.Coding>.INSTANCE;
              Overflow["reason"] = value;
            }
            else Reason = (Hl7.Fhir.Model.Coding?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Code is not null && !_Code.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("code",_Code);
        if (_Timing is not null && !_Timing.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("timing",_Timing);
        if (_Value is not null && !_Value.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("value",_Value);
        if (_Reason is not null && !_Reason.InOverflow<Hl7.Fhir.Model.Coding>()) yield return new KeyValuePair<string,object>("reason",_Reason);
      }

    }

    /// <summary>
    /// Pertinent diagnosis information
    /// </summary>
    /// <remarks>
    /// Information about diagnoses relevant to the claim items.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.diagnosis", IsBackboneType=true)]
    public partial class DiagnosisComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.diagnosis";

      /// <summary>
      /// Diagnosis instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Diagnosis instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Nature of illness or problem.
      /// </summary>
      [FhirElement("diagnosis", Order=50, Choice=ChoiceType.DatatypeChoice)]
      [Binding("ICD10")]
      [CLSCompliant(false)]
      [References("Condition")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.ResourceReference))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Diagnosis
      {
        get
        {
          if(_Diagnosis.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["diagnosis"]);
          return _Diagnosis!;
        }

        set
        {
          if (_Diagnosis.InOverflow<DynamicDataType>())
            Overflow.Remove("diagnosis");
          _Diagnosis = value;
          OnPropertyChanged("Diagnosis");
        }

      }

      private Hl7.Fhir.Model.DataType? _Diagnosis;

      /// <summary>
      /// Timing or nature of the diagnosis.
      /// </summary>
      [FhirElement("type", Order=60)]
      [Binding("DiagnosisType")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Type
      {
        get
        {
          if(_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["type"]);
          return _Type ??= [];
        }

        set
        {
          if (_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Type;

      /// <summary>
      /// Present on admission.
      /// </summary>
      [FhirElement("onAdmission", Order=70)]
      [Binding("DiagnosisOnAdmission")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? OnAdmission
      {
        get
        {
          if(_OnAdmission.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["onAdmission"]);
          return _OnAdmission;
        }

        set
        {
          if (_OnAdmission.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("onAdmission");
          _OnAdmission = value;
          OnPropertyChanged("OnAdmission");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _OnAdmission;

      /// <summary>
      /// Package billing code.
      /// </summary>
      [FhirElement("packageCode", Order=80)]
      [Binding("DiagnosisRelatedGroup")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? PackageCode
      {
        get
        {
          if(_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["packageCode"]);
          return _PackageCode;
        }

        set
        {
          if (_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("packageCode");
          _PackageCode = value;
          OnPropertyChanged("PackageCode");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _PackageCode;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not DiagnosisComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Diagnosis is not null) dest.Diagnosis = (Hl7.Fhir.Model.DataType)_Diagnosis.DeepCopyInternal();
        if(_Type is not null) dest.Type = new List<Hl7.Fhir.Model.CodeableConcept>(_Type.DeepCopyInternal());
        if(_OnAdmission is not null) dest.OnAdmission = (Hl7.Fhir.Model.CodeableConcept)_OnAdmission.DeepCopyInternal();
        if(_PackageCode is not null) dest.PackageCode = (Hl7.Fhir.Model.CodeableConcept)_PackageCode.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new DiagnosisComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not DiagnosisComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Diagnosis, otherT._Diagnosis)) return false;
        if(!comparer.ListEquals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_OnAdmission, otherT._OnAdmission)) return false;
        if(!comparer.Equals(_PackageCode, otherT._PackageCode)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "diagnosis":
            if (_Diagnosis.InOverflow<DynamicDataType>())
            {
              value = Overflow["diagnosis"];
              return true;
            }
            value = _Diagnosis;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "type":
            if (_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "onAdmission":
            if (_OnAdmission.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["onAdmission"];
              return true;
            }
            value = _OnAdmission;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "packageCode":
            if (_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["packageCode"];
              return true;
            }
            value = _PackageCode;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "diagnosis":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Diagnosis = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["diagnosis"] = value;
            }
            else Diagnosis = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          case "type":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Type = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "onAdmission":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              OnAdmission = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["onAdmission"] = value;
            }
            else OnAdmission = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "packageCode":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              PackageCode = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["packageCode"] = value;
            }
            else PackageCode = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Diagnosis is not null && !_Diagnosis.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("diagnosis",_Diagnosis);
        if (_Type?.Any() is true && !_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_OnAdmission is not null && !_OnAdmission.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("onAdmission",_OnAdmission);
        if (_PackageCode is not null && !_PackageCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("packageCode",_PackageCode);
      }

    }

    /// <summary>
    /// Clinical procedures performed
    /// </summary>
    /// <remarks>
    /// Procedures performed on the patient relevant to the billing items with the claim.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.procedure", IsBackboneType=true)]
    public partial class ProcedureComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.procedure";

      /// <summary>
      /// Procedure instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Procedure instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Category of Procedure.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("ProcedureType")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Type
      {
        get
        {
          if(_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["type"]);
          return _Type ??= [];
        }

        set
        {
          if (_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Type;

      /// <summary>
      /// When the procedure was performed.
      /// </summary>
      [FhirElement("date", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDateTime? DateElement
      {
        get
        {
          if(_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["date"]);
          return _DateElement;
        }

        set
        {
          if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            Overflow.Remove("date");
          _DateElement = value;
          OnPropertyChanged("DateElement");
        }

      }

      private Hl7.Fhir.Model.FhirDateTime? _DateElement;

      /// <summary>
      /// When the procedure was performed
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Date
      {
        get => DateElement?.Value;
        set
        {
          DateElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
          OnPropertyChanged("Date");
        }
      }

      /// <summary>
      /// Specific clinical procedure.
      /// </summary>
      [FhirElement("procedure", Order=70, Choice=ChoiceType.DatatypeChoice)]
      [Binding("ICD10_Procedures")]
      [CLSCompliant(false)]
      [References("Procedure")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.ResourceReference))]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.DataType Procedure
      {
        get
        {
          if(_Procedure.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["procedure"]);
          return _Procedure!;
        }

        set
        {
          if (_Procedure.InOverflow<DynamicDataType>())
            Overflow.Remove("procedure");
          _Procedure = value;
          OnPropertyChanged("Procedure");
        }

      }

      private Hl7.Fhir.Model.DataType? _Procedure;

      /// <summary>
      /// Unique device identifier.
      /// </summary>
      [FhirElement("udi", Order=80)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ProcedureComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Type is not null) dest.Type = new List<Hl7.Fhir.Model.CodeableConcept>(_Type.DeepCopyInternal());
        if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.FhirDateTime)_DateElement.DeepCopyInternal();
        if(_Procedure is not null) dest.Procedure = (Hl7.Fhir.Model.DataType)_Procedure.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ProcedureComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ProcedureComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.ListEquals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
        if(!comparer.Equals(_Procedure, otherT._Procedure)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "type":
            if (_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "date":
            if (_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
            {
              value = Overflow["date"];
              return true;
            }
            value = _DateElement;
            return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
          case "procedure":
            if (_Procedure.InOverflow<DynamicDataType>())
            {
              value = Overflow["procedure"];
              return true;
            }
            value = _Procedure;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "type":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Type = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "date":
            if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
            {
              DateElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
              Overflow["date"] = value;
            }
            else DateElement = (Hl7.Fhir.Model.FhirDateTime?)value;
            return this;
          case "procedure":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Procedure = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["procedure"] = value;
            }
            else Procedure = (Hl7.Fhir.Model.DataType?)value!;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Type?.Any() is true && !_Type.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("date",_DateElement);
        if (_Procedure is not null && !_Procedure.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("procedure",_Procedure);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
      }

    }

    /// <summary>
    /// Patient insurance information
    /// </summary>
    /// <remarks>
    /// Financial instruments for reimbursement for the health care products and services specified on the claim.
    /// All insurance coverages for the patient which may be applicable for reimbursement, of the products and services listed in the claim, are typically provided in the claim to allow insurers to confirm the ordering of the insurance coverages relative to local 'coordination of benefit' rules. One coverage (and only one) with 'focal=true' is to be used in the adjudication of this claim. Coverages appearing before the focal Coverage in the list, and where 'Coverage.subrogation=false', should provide a reference to the ClaimResponse containing the adjudication results of the prior claim.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.insurance", IsBackboneType=true)]
    public partial class InsuranceComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.insurance";

      /// <summary>
      /// Coverage to be used for adjudication.
      /// </summary>
      [FhirElement("focal", InSummary=true, Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean FocalElement
      {
        get
        {
          if(_FocalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["focal"]);
          return _FocalElement!;
        }

        set
        {
          if (_FocalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("focal");
          _FocalElement = value;
          OnPropertyChanged("FocalElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _FocalElement;

      /// <summary>
      /// Coverage to be used for adjudication
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Focal
      {
        get => FocalElement?.Value;
        set
        {
          FocalElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Focal");
        }
      }

      /// <summary>
      /// Insurance information.
      /// </summary>
      [FhirElement("coverage", InSummary=true, Order=50)]
      [CLSCompliant(false)]
      [References("Coverage")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.ResourceReference Coverage
      {
        get
        {
          if(_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["coverage"]);
          return _Coverage!;
        }

        set
        {
          if (_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            Overflow.Remove("coverage");
          _Coverage = value;
          OnPropertyChanged("Coverage");
        }

      }

      private Hl7.Fhir.Model.ResourceReference? _Coverage;

      /// <summary>
      /// Prior authorization reference number.
      /// </summary>
      [FhirElement("preAuthRef", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.FhirString> PreAuthRefElement
      {
        get
        {
          if(_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirString>), Overflow["preAuthRef"]);
          return _PreAuthRefElement ??= [];
        }

        set
        {
          if (_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            Overflow.Remove("preAuthRef");
          _PreAuthRefElement = value;
          OnPropertyChanged("PreAuthRefElement");
        }

      }

      private List<Hl7.Fhir.Model.FhirString>? _PreAuthRefElement;

      /// <summary>
      /// Prior authorization reference number
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<string?> PreAuthRef
      {
        get => _PreAuthRefElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            PreAuthRefElement = null!;
          else
            PreAuthRefElement = new List<Hl7.Fhir.Model.FhirString>(value.Select(elem=>new Hl7.Fhir.Model.FhirString(elem)));
          OnPropertyChanged("PreAuthRef");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not InsuranceComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_FocalElement is not null) dest.FocalElement = (Hl7.Fhir.Model.FhirBoolean)_FocalElement.DeepCopyInternal();
        if(_Coverage is not null) dest.Coverage = (Hl7.Fhir.Model.ResourceReference)_Coverage.DeepCopyInternal();
        if(_PreAuthRefElement is not null) dest.PreAuthRefElement = new List<Hl7.Fhir.Model.FhirString>(_PreAuthRefElement.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new InsuranceComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not InsuranceComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_FocalElement, otherT._FocalElement)) return false;
        if(!comparer.Equals(_Coverage, otherT._Coverage)) return false;
        if(!comparer.ListEquals(_PreAuthRefElement, otherT._PreAuthRefElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "focal":
            if (_FocalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["focal"];
              return true;
            }
            value = _FocalElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "coverage":
            if (_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>())
            {
              value = Overflow["coverage"];
              return true;
            }
            value = _Coverage;
            return (value as Hl7.Fhir.Model.ResourceReference) is not null;
          case "preAuthRef":
            if (_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
            {
              value = Overflow["preAuthRef"];
              return true;
            }
            value = _PreAuthRefElement;
            return (value as List<Hl7.Fhir.Model.FhirString>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "focal":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              FocalElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["focal"] = value;
            }
            else FocalElement = (Hl7.Fhir.Model.FhirBoolean?)value!;
            return this;
          case "coverage":
            if (value is not (Hl7.Fhir.Model.ResourceReference or null))
            {
              Coverage = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
              Overflow["coverage"] = value;
            }
            else Coverage = (Hl7.Fhir.Model.ResourceReference?)value!;
            return this;
          case "preAuthRef":
            if (value is not (List<Hl7.Fhir.Model.FhirString> or null))
            {
              PreAuthRefElement = OverflowNull<List<Hl7.Fhir.Model.FhirString>>.INSTANCE;
              Overflow["preAuthRef"] = value;
            }
            else PreAuthRefElement = (List<Hl7.Fhir.Model.FhirString>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_FocalElement is not null && !_FocalElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("focal",_FocalElement);
        if (_Coverage is not null && !_Coverage.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("coverage",_Coverage);
        if (_PreAuthRefElement?.Any() is true && !_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>()) yield return new KeyValuePair<string,object>("preAuthRef",_PreAuthRefElement);
      }

    }

    /// <summary>
    /// Details of the event
    /// </summary>
    /// <remarks>
    /// Details of a accident which resulted in injuries which required the products and services listed in the claim.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.accident", IsBackboneType=true)]
    public partial class AccidentComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.accident";

      /// <summary>
      /// When the incident occurred.
      /// </summary>
      [FhirElement("date", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.Date? DateElement
      {
        get
        {
          if(_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Date), Overflow["date"]);
          return _DateElement;
        }

        set
        {
          if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            Overflow.Remove("date");
          _DateElement = value;
          OnPropertyChanged("DateElement");
        }

      }

      private Hl7.Fhir.Model.Date? _DateElement;

      /// <summary>
      /// When the incident occurred
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Date
      {
        get => DateElement?.Value;
        set
        {
          DateElement = value is null ? null! : new Hl7.Fhir.Model.Date(value);
          OnPropertyChanged("Date");
        }
      }

      /// <summary>
      /// The nature of the accident.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("AccidentType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Where the event occurred.
      /// </summary>
      [FhirElement("location", Order=60, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [References("Location")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Address),typeof(Hl7.Fhir.Model.ResourceReference))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Location
      {
        get
        {
          if(_Location.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["location"]);
          return _Location;
        }

        set
        {
          if (_Location.InOverflow<DynamicDataType>())
            Overflow.Remove("location");
          _Location = value;
          OnPropertyChanged("Location");
        }

      }

      private Hl7.Fhir.Model.DataType? _Location;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AccidentComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.Date)_DateElement.DeepCopyInternal();
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Location is not null) dest.Location = (Hl7.Fhir.Model.DataType)_Location.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AccidentComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AccidentComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Location, otherT._Location)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "date":
            if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            {
              value = Overflow["date"];
              return true;
            }
            value = _DateElement;
            return (value as Hl7.Fhir.Model.Date) is not null;
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "location":
            if (_Location.InOverflow<DynamicDataType>())
            {
              value = Overflow["location"];
              return true;
            }
            value = _Location;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "date":
            if (value is not (Hl7.Fhir.Model.Date or null))
            {
              DateElement = OverflowNull<Hl7.Fhir.Model.Date>.INSTANCE;
              Overflow["date"] = value;
            }
            else DateElement = (Hl7.Fhir.Model.Date?)value;
            return this;
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "location":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Location = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["location"] = value;
            }
            else Location = (Hl7.Fhir.Model.DataType?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.Date>()) yield return new KeyValuePair<string,object>("date",_DateElement);
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Location is not null && !_Location.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("location",_Location);
      }

    }

    /// <summary>
    /// Product or service provided
    /// </summary>
    /// <remarks>
    /// A claim line. Either a simple (a product or service) or a 'group' of details which can also be a simple items or groups of sub-details.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.item", IsBackboneType=true)]
    public partial class ItemComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.item";

      /// <summary>
      /// Item instance identifier.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Item instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Applicable care team members.
      /// </summary>
      [FhirElement("careTeamSequence", Order=50)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> CareTeamSequenceElement
      {
        get
        {
          if(_CareTeamSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["careTeamSequence"]);
          return _CareTeamSequenceElement ??= [];
        }

        set
        {
          if (_CareTeamSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("careTeamSequence");
          _CareTeamSequenceElement = value;
          OnPropertyChanged("CareTeamSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _CareTeamSequenceElement;

      /// <summary>
      /// Applicable care team members
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> CareTeamSequence
      {
        get => _CareTeamSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            CareTeamSequenceElement = null!;
          else
            CareTeamSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("CareTeamSequence");
        }
      }

      /// <summary>
      /// Applicable diagnoses.
      /// </summary>
      [FhirElement("diagnosisSequence", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> DiagnosisSequenceElement
      {
        get
        {
          if(_DiagnosisSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["diagnosisSequence"]);
          return _DiagnosisSequenceElement ??= [];
        }

        set
        {
          if (_DiagnosisSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("diagnosisSequence");
          _DiagnosisSequenceElement = value;
          OnPropertyChanged("DiagnosisSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _DiagnosisSequenceElement;

      /// <summary>
      /// Applicable diagnoses
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> DiagnosisSequence
      {
        get => _DiagnosisSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            DiagnosisSequenceElement = null!;
          else
            DiagnosisSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("DiagnosisSequence");
        }
      }

      /// <summary>
      /// Applicable procedures.
      /// </summary>
      [FhirElement("procedureSequence", Order=70)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> ProcedureSequenceElement
      {
        get
        {
          if(_ProcedureSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["procedureSequence"]);
          return _ProcedureSequenceElement ??= [];
        }

        set
        {
          if (_ProcedureSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("procedureSequence");
          _ProcedureSequenceElement = value;
          OnPropertyChanged("ProcedureSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _ProcedureSequenceElement;

      /// <summary>
      /// Applicable procedures
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> ProcedureSequence
      {
        get => _ProcedureSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            ProcedureSequenceElement = null!;
          else
            ProcedureSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("ProcedureSequence");
        }
      }

      /// <summary>
      /// Applicable exception and supporting information.
      /// </summary>
      [FhirElement("informationSequence", Order=80)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> InformationSequenceElement
      {
        get
        {
          if(_InformationSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["informationSequence"]);
          return _InformationSequenceElement ??= [];
        }

        set
        {
          if (_InformationSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("informationSequence");
          _InformationSequenceElement = value;
          OnPropertyChanged("InformationSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _InformationSequenceElement;

      /// <summary>
      /// Applicable exception and supporting information
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> InformationSequence
      {
        get => _InformationSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            InformationSequenceElement = null!;
          else
            InformationSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("InformationSequence");
        }
      }

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=90)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Benefit classification.
      /// </summary>
      [FhirElement("category", Order=100)]
      [Binding("BenefitCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing, service, product, or drug code.
      /// </summary>
      [FhirElement("productOrService", Order=110)]
      [Binding("ServiceProduct")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept ProductOrService
      {
        get
        {
          if(_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["productOrService"]);
          return _ProductOrService!;
        }

        set
        {
          if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("productOrService");
          _ProductOrService = value;
          OnPropertyChanged("ProductOrService");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _ProductOrService;

      /// <summary>
      /// Product or service billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=120)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Program the product or service is provided under.
      /// </summary>
      [FhirElement("programCode", Order=130)]
      [Binding("ProgramCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> ProgramCode
      {
        get
        {
          if(_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["programCode"]);
          return _ProgramCode ??= [];
        }

        set
        {
          if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("programCode");
          _ProgramCode = value;
          OnPropertyChanged("ProgramCode");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _ProgramCode;

      /// <summary>
      /// Date or dates of service or product delivery.
      /// </summary>
      [FhirElement("serviced", Order=140, Choice=ChoiceType.DatatypeChoice, FiveWs="FiveWs.done[x]")]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Date),typeof(Hl7.Fhir.Model.Period))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Serviced
      {
        get
        {
          if(_Serviced.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["serviced"]);
          return _Serviced;
        }

        set
        {
          if (_Serviced.InOverflow<DynamicDataType>())
            Overflow.Remove("serviced");
          _Serviced = value;
          OnPropertyChanged("Serviced");
        }

      }

      private Hl7.Fhir.Model.DataType? _Serviced;

      /// <summary>
      /// Place of service or where product was supplied.
      /// </summary>
      [FhirElement("location", Order=150, Choice=ChoiceType.DatatypeChoice, FiveWs="FiveWs.where[x]")]
      [Binding("ServicePlace")]
      [CLSCompliant(false)]
      [References("Location")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.Address),typeof(Hl7.Fhir.Model.ResourceReference))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Location
      {
        get
        {
          if(_Location.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["location"]);
          return _Location;
        }

        set
        {
          if (_Location.InOverflow<DynamicDataType>())
            Overflow.Remove("location");
          _Location = value;
          OnPropertyChanged("Location");
        }

      }

      private Hl7.Fhir.Model.DataType? _Location;

      /// <summary>
      /// Count of products or services.
      /// </summary>
      [FhirElement("quantity", Order=160)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per item.
      /// </summary>
      [FhirElement("unitPrice", Order=170)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=180)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total item cost.
      /// </summary>
      [FhirElement("net", Order=190)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Unique device identifier.
      /// </summary>
      [FhirElement("udi", Order=200)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      /// <summary>
      /// Anatomical location.
      /// </summary>
      [FhirElement("bodySite", Order=210)]
      [Binding("OralSites")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? BodySite
      {
        get
        {
          if(_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["bodySite"]);
          return _BodySite;
        }

        set
        {
          if (_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("bodySite");
          _BodySite = value;
          OnPropertyChanged("BodySite");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _BodySite;

      /// <summary>
      /// Anatomical sub-location.
      /// </summary>
      [FhirElement("subSite", Order=220)]
      [Binding("Surface")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> SubSite
      {
        get
        {
          if(_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["subSite"]);
          return _SubSite ??= [];
        }

        set
        {
          if (_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("subSite");
          _SubSite = value;
          OnPropertyChanged("SubSite");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _SubSite;

      /// <summary>
      /// Encounters related to this billed item.
      /// </summary>
      [FhirElement("encounter", Order=230)]
      [CLSCompliant(false)]
      [References("Encounter")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Encounter
      {
        get
        {
          if(_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["encounter"]);
          return _Encounter ??= [];
        }

        set
        {
          if (_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("encounter");
          _Encounter = value;
          OnPropertyChanged("Encounter");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Encounter;

      /// <summary>
      /// Applicable note numbers.
      /// </summary>
      [FhirElement("noteNumber", Order=240)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// Applicable note numbers
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Adjudication details.
      /// </summary>
      [FhirElement("adjudication", Order=250)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      /// <summary>
      /// Additional items.
      /// </summary>
      [FhirElement("detail", Order=260)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent> Detail
      {
        get
        {
          if(_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>), Overflow["detail"]);
          return _Detail ??= [];
        }

        set
        {
          if (_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>>())
            Overflow.Remove("detail");
          _Detail = value;
          OnPropertyChanged("Detail");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>? _Detail;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not ItemComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_CareTeamSequenceElement is not null) dest.CareTeamSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_CareTeamSequenceElement.DeepCopyInternal());
        if(_DiagnosisSequenceElement is not null) dest.DiagnosisSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_DiagnosisSequenceElement.DeepCopyInternal());
        if(_ProcedureSequenceElement is not null) dest.ProcedureSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_ProcedureSequenceElement.DeepCopyInternal());
        if(_InformationSequenceElement is not null) dest.InformationSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_InformationSequenceElement.DeepCopyInternal());
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_ProductOrService is not null) dest.ProductOrService = (Hl7.Fhir.Model.CodeableConcept)_ProductOrService.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_ProgramCode is not null) dest.ProgramCode = new List<Hl7.Fhir.Model.CodeableConcept>(_ProgramCode.DeepCopyInternal());
        if(_Serviced is not null) dest.Serviced = (Hl7.Fhir.Model.DataType)_Serviced.DeepCopyInternal();
        if(_Location is not null) dest.Location = (Hl7.Fhir.Model.DataType)_Location.DeepCopyInternal();
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
        if(_BodySite is not null) dest.BodySite = (Hl7.Fhir.Model.CodeableConcept)_BodySite.DeepCopyInternal();
        if(_SubSite is not null) dest.SubSite = new List<Hl7.Fhir.Model.CodeableConcept>(_SubSite.DeepCopyInternal());
        if(_Encounter is not null) dest.Encounter = new List<Hl7.Fhir.Model.ResourceReference>(_Encounter.DeepCopyInternal());
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
        if(_Detail is not null) dest.Detail = new List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>(_Detail.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new ItemComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not ItemComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.ListEquals(_CareTeamSequenceElement, otherT._CareTeamSequenceElement)) return false;
        if(!comparer.ListEquals(_DiagnosisSequenceElement, otherT._DiagnosisSequenceElement)) return false;
        if(!comparer.ListEquals(_ProcedureSequenceElement, otherT._ProcedureSequenceElement)) return false;
        if(!comparer.ListEquals(_InformationSequenceElement, otherT._InformationSequenceElement)) return false;
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_ProductOrService, otherT._ProductOrService)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.ListEquals(_ProgramCode, otherT._ProgramCode)) return false;
        if(!comparer.Equals(_Serviced, otherT._Serviced)) return false;
        if(!comparer.Equals(_Location, otherT._Location)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        if(!comparer.Equals(_BodySite, otherT._BodySite)) return false;
        if(!comparer.ListEquals(_SubSite, otherT._SubSite)) return false;
        if(!comparer.ListEquals(_Encounter, otherT._Encounter)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        if(!comparer.ListEquals(_Detail, otherT._Detail)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "careTeamSequence":
            if (_CareTeamSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["careTeamSequence"];
              return true;
            }
            value = _CareTeamSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "diagnosisSequence":
            if (_DiagnosisSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["diagnosisSequence"];
              return true;
            }
            value = _DiagnosisSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "procedureSequence":
            if (_ProcedureSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["procedureSequence"];
              return true;
            }
            value = _ProcedureSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "informationSequence":
            if (_InformationSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["informationSequence"];
              return true;
            }
            value = _InformationSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "productOrService":
            if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["productOrService"];
              return true;
            }
            value = _ProductOrService;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "programCode":
            if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["programCode"];
              return true;
            }
            value = _ProgramCode;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "serviced":
            if (_Serviced.InOverflow<DynamicDataType>())
            {
              value = Overflow["serviced"];
              return true;
            }
            value = _Serviced;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "location":
            if (_Location.InOverflow<DynamicDataType>())
            {
              value = Overflow["location"];
              return true;
            }
            value = _Location;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "bodySite":
            if (_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["bodySite"];
              return true;
            }
            value = _BodySite;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "subSite":
            if (_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["subSite"];
              return true;
            }
            value = _SubSite;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "encounter":
            if (_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["encounter"];
              return true;
            }
            value = _Encounter;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          case "detail":
            if (_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>>())
            {
              value = Overflow["detail"];
              return true;
            }
            value = _Detail;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "careTeamSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              CareTeamSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["careTeamSequence"] = value;
            }
            else CareTeamSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "diagnosisSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              DiagnosisSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["diagnosisSequence"] = value;
            }
            else DiagnosisSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "procedureSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              ProcedureSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["procedureSequence"] = value;
            }
            else ProcedureSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "informationSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              InformationSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["informationSequence"] = value;
            }
            else InformationSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "productOrService":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              ProductOrService = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["productOrService"] = value;
            }
            else ProductOrService = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "programCode":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              ProgramCode = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["programCode"] = value;
            }
            else ProgramCode = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "serviced":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Serviced = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["serviced"] = value;
            }
            else Serviced = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "location":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Location = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["location"] = value;
            }
            else Location = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "bodySite":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              BodySite = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["bodySite"] = value;
            }
            else BodySite = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "subSite":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              SubSite = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["subSite"] = value;
            }
            else SubSite = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "encounter":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Encounter = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["encounter"] = value;
            }
            else Encounter = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          case "detail":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent> or null))
            {
              Detail = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>>.INSTANCE;
              Overflow["detail"] = value;
            }
            else Detail = (List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_CareTeamSequenceElement?.Any() is true && !_CareTeamSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("careTeamSequence",_CareTeamSequenceElement);
        if (_DiagnosisSequenceElement?.Any() is true && !_DiagnosisSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("diagnosisSequence",_DiagnosisSequenceElement);
        if (_ProcedureSequenceElement?.Any() is true && !_ProcedureSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("procedureSequence",_ProcedureSequenceElement);
        if (_InformationSequenceElement?.Any() is true && !_InformationSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("informationSequence",_InformationSequenceElement);
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_ProductOrService is not null && !_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("productOrService",_ProductOrService);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_ProgramCode?.Any() is true && !_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("programCode",_ProgramCode);
        if (_Serviced is not null && !_Serviced.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("serviced",_Serviced);
        if (_Location is not null && !_Location.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("location",_Location);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
        if (_BodySite is not null && !_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("bodySite",_BodySite);
        if (_SubSite?.Any() is true && !_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("subSite",_SubSite);
        if (_Encounter?.Any() is true && !_Encounter.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("encounter",_Encounter);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
        if (_Detail?.Any() is true && !_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DetailComponent>>()) yield return new KeyValuePair<string,object>("detail",_Detail);
      }

    }

    /// <summary>
    /// Adjudication details
    /// </summary>
    /// <remarks>
    /// If this item is a group then the values here are a summary of the adjudication of the detail items. If this item is a simple product or service then this is the result of the adjudication of this item.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.item.adjudication", IsBackboneType=true)]
    public partial class AdjudicationComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.item.adjudication";

      /// <summary>
      /// Type of adjudication information.
      /// </summary>
      [FhirElement("category", Order=40)]
      [Binding("Adjudication")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category!;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Explanation of adjudication outcome.
      /// </summary>
      [FhirElement("reason", Order=50)]
      [Binding("AdjudicationReason")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Reason
      {
        get
        {
          if(_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["reason"]);
          return _Reason;
        }

        set
        {
          if (_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("reason");
          _Reason = value;
          OnPropertyChanged("Reason");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Reason;

      /// <summary>
      /// Monetary amount.
      /// </summary>
      [FhirElement("amount", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Amount
      {
        get
        {
          if(_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["amount"]);
          return _Amount;
        }

        set
        {
          if (_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("amount");
          _Amount = value;
          OnPropertyChanged("Amount");
        }

      }

      private Hl7.Fhir.Model.Money? _Amount;

      /// <summary>
      /// Non-monitary value.
      /// </summary>
      [FhirElement("value", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? ValueElement
      {
        get
        {
          if(_ValueElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["value"]);
          return _ValueElement;
        }

        set
        {
          if (_ValueElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("value");
          _ValueElement = value;
          OnPropertyChanged("ValueElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _ValueElement;

      /// <summary>
      /// Non-monitary value
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Value
      {
        get => ValueElement?.Value;
        set
        {
          ValueElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Value");
        }
      }

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AdjudicationComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Reason is not null) dest.Reason = (Hl7.Fhir.Model.CodeableConcept)_Reason.DeepCopyInternal();
        if(_Amount is not null) dest.Amount = (Hl7.Fhir.Model.Money)_Amount.DeepCopyInternal();
        if(_ValueElement is not null) dest.ValueElement = (Hl7.Fhir.Model.FhirDecimal)_ValueElement.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AdjudicationComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AdjudicationComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Reason, otherT._Reason)) return false;
        if(!comparer.Equals(_Amount, otherT._Amount)) return false;
        if(!comparer.Equals(_ValueElement, otherT._ValueElement)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "reason":
            if (_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["reason"];
              return true;
            }
            value = _Reason;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "amount":
            if (_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["amount"];
              return true;
            }
            value = _Amount;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "value":
            if (_ValueElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["value"];
              return true;
            }
            value = _ValueElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "reason":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Reason = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["reason"] = value;
            }
            else Reason = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "amount":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Amount = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["amount"] = value;
            }
            else Amount = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "value":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              ValueElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["value"] = value;
            }
            else ValueElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Reason is not null && !_Reason.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("reason",_Reason);
        if (_Amount is not null && !_Amount.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("amount",_Amount);
        if (_ValueElement is not null && !_ValueElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("value",_ValueElement);
      }

    }

    /// <summary>
    /// Additional items
    /// </summary>
    /// <remarks>
    /// Second-tier of goods and services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.item.detail", IsBackboneType=true)]
    public partial class DetailComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.item.detail";

      /// <summary>
      /// Product or service provided.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Product or service provided
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=50)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Benefit classification.
      /// </summary>
      [FhirElement("category", Order=60)]
      [Binding("BenefitCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing, service, product, or drug code.
      /// </summary>
      [FhirElement("productOrService", Order=70)]
      [Binding("ServiceProduct")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept ProductOrService
      {
        get
        {
          if(_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["productOrService"]);
          return _ProductOrService!;
        }

        set
        {
          if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("productOrService");
          _ProductOrService = value;
          OnPropertyChanged("ProductOrService");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _ProductOrService;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=80)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Program the product or service is provided under.
      /// </summary>
      [FhirElement("programCode", Order=90)]
      [Binding("ProgramCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> ProgramCode
      {
        get
        {
          if(_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["programCode"]);
          return _ProgramCode ??= [];
        }

        set
        {
          if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("programCode");
          _ProgramCode = value;
          OnPropertyChanged("ProgramCode");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _ProgramCode;

      /// <summary>
      /// Count of products or services.
      /// </summary>
      [FhirElement("quantity", Order=100)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per item.
      /// </summary>
      [FhirElement("unitPrice", Order=110)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total item cost.
      /// </summary>
      [FhirElement("net", Order=130)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Unique device identifier.
      /// </summary>
      [FhirElement("udi", Order=140)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      /// <summary>
      /// Applicable note numbers.
      /// </summary>
      [FhirElement("noteNumber", Order=150)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// Applicable note numbers
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Detail level adjudication details.
      /// </summary>
      [FhirElement("adjudication", Order=160)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      /// <summary>
      /// Additional items.
      /// </summary>
      [FhirElement("subDetail", Order=170)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent> SubDetail
      {
        get
        {
          if(_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>), Overflow["subDetail"]);
          return _SubDetail ??= [];
        }

        set
        {
          if (_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>>())
            Overflow.Remove("subDetail");
          _SubDetail = value;
          OnPropertyChanged("SubDetail");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>? _SubDetail;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not DetailComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_ProductOrService is not null) dest.ProductOrService = (Hl7.Fhir.Model.CodeableConcept)_ProductOrService.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_ProgramCode is not null) dest.ProgramCode = new List<Hl7.Fhir.Model.CodeableConcept>(_ProgramCode.DeepCopyInternal());
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
        if(_SubDetail is not null) dest.SubDetail = new List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>(_SubDetail.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new DetailComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not DetailComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_ProductOrService, otherT._ProductOrService)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.ListEquals(_ProgramCode, otherT._ProgramCode)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        if(!comparer.ListEquals(_SubDetail, otherT._SubDetail)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "productOrService":
            if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["productOrService"];
              return true;
            }
            value = _ProductOrService;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "programCode":
            if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["programCode"];
              return true;
            }
            value = _ProgramCode;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          case "subDetail":
            if (_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>>())
            {
              value = Overflow["subDetail"];
              return true;
            }
            value = _SubDetail;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "productOrService":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              ProductOrService = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["productOrService"] = value;
            }
            else ProductOrService = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "programCode":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              ProgramCode = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["programCode"] = value;
            }
            else ProgramCode = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          case "subDetail":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent> or null))
            {
              SubDetail = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>>.INSTANCE;
              Overflow["subDetail"] = value;
            }
            else SubDetail = (List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_ProductOrService is not null && !_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("productOrService",_ProductOrService);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_ProgramCode?.Any() is true && !_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("programCode",_ProgramCode);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
        if (_SubDetail?.Any() is true && !_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SubDetailComponent>>()) yield return new KeyValuePair<string,object>("subDetail",_SubDetail);
      }

    }

    /// <summary>
    /// Additional items
    /// </summary>
    /// <remarks>
    /// Third-tier of goods and services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.item.detail.subDetail", IsBackboneType=true)]
    public partial class SubDetailComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.item.detail.subDetail";

      /// <summary>
      /// Product or service provided.
      /// </summary>
      [FhirElement("sequence", Order=40)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt SequenceElement
      {
        get
        {
          if(_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["sequence"]);
          return _SequenceElement!;
        }

        set
        {
          if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("sequence");
          _SequenceElement = value;
          OnPropertyChanged("SequenceElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _SequenceElement;

      /// <summary>
      /// Product or service provided
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Sequence
      {
        get => SequenceElement?.Value;
        set
        {
          SequenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Sequence");
        }
      }

      /// <summary>
      /// Revenue or cost center code.
      /// </summary>
      [FhirElement("revenue", Order=50)]
      [Binding("RevenueCenter")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Revenue
      {
        get
        {
          if(_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["revenue"]);
          return _Revenue;
        }

        set
        {
          if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("revenue");
          _Revenue = value;
          OnPropertyChanged("Revenue");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Revenue;

      /// <summary>
      /// Benefit classification.
      /// </summary>
      [FhirElement("category", Order=60)]
      [Binding("BenefitCategory")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Billing, service, product, or drug code.
      /// </summary>
      [FhirElement("productOrService", Order=70)]
      [Binding("ServiceProduct")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept ProductOrService
      {
        get
        {
          if(_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["productOrService"]);
          return _ProductOrService!;
        }

        set
        {
          if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("productOrService");
          _ProductOrService = value;
          OnPropertyChanged("ProductOrService");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _ProductOrService;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=80)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Program the product or service is provided under.
      /// </summary>
      [FhirElement("programCode", Order=90)]
      [Binding("ProgramCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> ProgramCode
      {
        get
        {
          if(_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["programCode"]);
          return _ProgramCode ??= [];
        }

        set
        {
          if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("programCode");
          _ProgramCode = value;
          OnPropertyChanged("ProgramCode");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _ProgramCode;

      /// <summary>
      /// Count of products or services.
      /// </summary>
      [FhirElement("quantity", Order=100)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per item.
      /// </summary>
      [FhirElement("unitPrice", Order=110)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=120)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total item cost.
      /// </summary>
      [FhirElement("net", Order=130)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Unique device identifier.
      /// </summary>
      [FhirElement("udi", Order=140)]
      [CLSCompliant(false)]
      [References("Device")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Udi
      {
        get
        {
          if(_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["udi"]);
          return _Udi ??= [];
        }

        set
        {
          if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("udi");
          _Udi = value;
          OnPropertyChanged("Udi");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Udi;

      /// <summary>
      /// Applicable note numbers.
      /// </summary>
      [FhirElement("noteNumber", Order=150)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// Applicable note numbers
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Subdetail level adjudication details.
      /// </summary>
      [FhirElement("adjudication", Order=160)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not SubDetailComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_SequenceElement is not null) dest.SequenceElement = (Hl7.Fhir.Model.PositiveInt)_SequenceElement.DeepCopyInternal();
        if(_Revenue is not null) dest.Revenue = (Hl7.Fhir.Model.CodeableConcept)_Revenue.DeepCopyInternal();
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_ProductOrService is not null) dest.ProductOrService = (Hl7.Fhir.Model.CodeableConcept)_ProductOrService.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_ProgramCode is not null) dest.ProgramCode = new List<Hl7.Fhir.Model.CodeableConcept>(_ProgramCode.DeepCopyInternal());
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_Udi is not null) dest.Udi = new List<Hl7.Fhir.Model.ResourceReference>(_Udi.DeepCopyInternal());
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new SubDetailComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not SubDetailComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_SequenceElement, otherT._SequenceElement)) return false;
        if(!comparer.Equals(_Revenue, otherT._Revenue)) return false;
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_ProductOrService, otherT._ProductOrService)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.ListEquals(_ProgramCode, otherT._ProgramCode)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_Udi, otherT._Udi)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "sequence":
            if (_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["sequence"];
              return true;
            }
            value = _SequenceElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "revenue":
            if (_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["revenue"];
              return true;
            }
            value = _Revenue;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "productOrService":
            if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["productOrService"];
              return true;
            }
            value = _ProductOrService;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "programCode":
            if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["programCode"];
              return true;
            }
            value = _ProgramCode;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "udi":
            if (_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["udi"];
              return true;
            }
            value = _Udi;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "sequence":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              SequenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["sequence"] = value;
            }
            else SequenceElement = (Hl7.Fhir.Model.PositiveInt?)value!;
            return this;
          case "revenue":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Revenue = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["revenue"] = value;
            }
            else Revenue = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "productOrService":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              ProductOrService = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["productOrService"] = value;
            }
            else ProductOrService = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "programCode":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              ProgramCode = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["programCode"] = value;
            }
            else ProgramCode = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "udi":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Udi = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["udi"] = value;
            }
            else Udi = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_SequenceElement is not null && !_SequenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("sequence",_SequenceElement);
        if (_Revenue is not null && !_Revenue.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("revenue",_Revenue);
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_ProductOrService is not null && !_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("productOrService",_ProductOrService);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_ProgramCode?.Any() is true && !_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("programCode",_ProgramCode);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_Udi?.Any() is true && !_Udi.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("udi",_Udi);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
      }

    }

    /// <summary>
    /// Insurer added line items
    /// </summary>
    /// <remarks>
    /// The first-tier service adjudications for payor added product or service lines.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.addItem", IsBackboneType=true)]
    public partial class AddedItemComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.addItem";

      /// <summary>
      /// Item sequence number.
      /// </summary>
      [FhirElement("itemSequence", Order=40)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> ItemSequenceElement
      {
        get
        {
          if(_ItemSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["itemSequence"]);
          return _ItemSequenceElement ??= [];
        }

        set
        {
          if (_ItemSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("itemSequence");
          _ItemSequenceElement = value;
          OnPropertyChanged("ItemSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _ItemSequenceElement;

      /// <summary>
      /// Item sequence number
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> ItemSequence
      {
        get => _ItemSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            ItemSequenceElement = null!;
          else
            ItemSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("ItemSequence");
        }
      }

      /// <summary>
      /// Detail sequence number.
      /// </summary>
      [FhirElement("detailSequence", Order=50)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> DetailSequenceElement
      {
        get
        {
          if(_DetailSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["detailSequence"]);
          return _DetailSequenceElement ??= [];
        }

        set
        {
          if (_DetailSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("detailSequence");
          _DetailSequenceElement = value;
          OnPropertyChanged("DetailSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _DetailSequenceElement;

      /// <summary>
      /// Detail sequence number
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> DetailSequence
      {
        get => _DetailSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            DetailSequenceElement = null!;
          else
            DetailSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("DetailSequence");
        }
      }

      /// <summary>
      /// Subdetail sequence number.
      /// </summary>
      [FhirElement("subDetailSequence", Order=60)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> SubDetailSequenceElement
      {
        get
        {
          if(_SubDetailSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["subDetailSequence"]);
          return _SubDetailSequenceElement ??= [];
        }

        set
        {
          if (_SubDetailSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("subDetailSequence");
          _SubDetailSequenceElement = value;
          OnPropertyChanged("SubDetailSequenceElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _SubDetailSequenceElement;

      /// <summary>
      /// Subdetail sequence number
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> SubDetailSequence
      {
        get => _SubDetailSequenceElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            SubDetailSequenceElement = null!;
          else
            SubDetailSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("SubDetailSequence");
        }
      }

      /// <summary>
      /// Authorized providers.
      /// </summary>
      [FhirElement("provider", Order=70, FiveWs="FiveWs.source")]
      [CLSCompliant(false)]
      [References("Practitioner","PractitionerRole","Organization")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ResourceReference> Provider
      {
        get
        {
          if(_Provider.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ResourceReference>), Overflow["provider"]);
          return _Provider ??= [];
        }

        set
        {
          if (_Provider.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            Overflow.Remove("provider");
          _Provider = value;
          OnPropertyChanged("Provider");
        }

      }

      private List<Hl7.Fhir.Model.ResourceReference>? _Provider;

      /// <summary>
      /// Billing, service, product, or drug code.
      /// </summary>
      [FhirElement("productOrService", Order=80)]
      [Binding("ServiceProduct")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept ProductOrService
      {
        get
        {
          if(_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["productOrService"]);
          return _ProductOrService!;
        }

        set
        {
          if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("productOrService");
          _ProductOrService = value;
          OnPropertyChanged("ProductOrService");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _ProductOrService;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=90)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Program the product or service is provided under.
      /// </summary>
      [FhirElement("programCode", Order=100)]
      [Binding("ProgramCode")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> ProgramCode
      {
        get
        {
          if(_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["programCode"]);
          return _ProgramCode ??= [];
        }

        set
        {
          if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("programCode");
          _ProgramCode = value;
          OnPropertyChanged("ProgramCode");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _ProgramCode;

      /// <summary>
      /// Date or dates of service or product delivery.
      /// </summary>
      [FhirElement("serviced", Order=110, Choice=ChoiceType.DatatypeChoice, FiveWs="FiveWs.done[x]")]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.Date),typeof(Hl7.Fhir.Model.Period))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Serviced
      {
        get
        {
          if(_Serviced.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["serviced"]);
          return _Serviced;
        }

        set
        {
          if (_Serviced.InOverflow<DynamicDataType>())
            Overflow.Remove("serviced");
          _Serviced = value;
          OnPropertyChanged("Serviced");
        }

      }

      private Hl7.Fhir.Model.DataType? _Serviced;

      /// <summary>
      /// Place of service or where product was supplied.
      /// </summary>
      [FhirElement("location", Order=120, Choice=ChoiceType.DatatypeChoice, FiveWs="FiveWs.where[x]")]
      [Binding("ServicePlace")]
      [CLSCompliant(false)]
      [References("Location")]
      [AllowedTypes(typeof(Hl7.Fhir.Model.CodeableConcept),typeof(Hl7.Fhir.Model.Address),typeof(Hl7.Fhir.Model.ResourceReference))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Location
      {
        get
        {
          if(_Location.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["location"]);
          return _Location;
        }

        set
        {
          if (_Location.InOverflow<DynamicDataType>())
            Overflow.Remove("location");
          _Location = value;
          OnPropertyChanged("Location");
        }

      }

      private Hl7.Fhir.Model.DataType? _Location;

      /// <summary>
      /// Count of products or services.
      /// </summary>
      [FhirElement("quantity", Order=130)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per item.
      /// </summary>
      [FhirElement("unitPrice", Order=140)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=150)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total item cost.
      /// </summary>
      [FhirElement("net", Order=160)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Anatomical location.
      /// </summary>
      [FhirElement("bodySite", Order=170)]
      [Binding("OralSites")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? BodySite
      {
        get
        {
          if(_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["bodySite"]);
          return _BodySite;
        }

        set
        {
          if (_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("bodySite");
          _BodySite = value;
          OnPropertyChanged("BodySite");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _BodySite;

      /// <summary>
      /// Anatomical sub-location.
      /// </summary>
      [FhirElement("subSite", Order=180)]
      [Binding("Surface")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> SubSite
      {
        get
        {
          if(_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["subSite"]);
          return _SubSite ??= [];
        }

        set
        {
          if (_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("subSite");
          _SubSite = value;
          OnPropertyChanged("SubSite");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _SubSite;

      /// <summary>
      /// Applicable note numbers.
      /// </summary>
      [FhirElement("noteNumber", Order=190)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// Applicable note numbers
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Added items adjudication.
      /// </summary>
      [FhirElement("adjudication", Order=200)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      /// <summary>
      /// Insurer added line items.
      /// </summary>
      [FhirElement("detail", Order=210)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent> Detail
      {
        get
        {
          if(_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent>), Overflow["detail"]);
          return _Detail ??= [];
        }

        set
        {
          if (_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent>>())
            Overflow.Remove("detail");
          _Detail = value;
          OnPropertyChanged("Detail");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent>? _Detail;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AddedItemComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_ItemSequenceElement is not null) dest.ItemSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_ItemSequenceElement.DeepCopyInternal());
        if(_DetailSequenceElement is not null) dest.DetailSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_DetailSequenceElement.DeepCopyInternal());
        if(_SubDetailSequenceElement is not null) dest.SubDetailSequenceElement = new List<Hl7.Fhir.Model.PositiveInt>(_SubDetailSequenceElement.DeepCopyInternal());
        if(_Provider is not null) dest.Provider = new List<Hl7.Fhir.Model.ResourceReference>(_Provider.DeepCopyInternal());
        if(_ProductOrService is not null) dest.ProductOrService = (Hl7.Fhir.Model.CodeableConcept)_ProductOrService.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_ProgramCode is not null) dest.ProgramCode = new List<Hl7.Fhir.Model.CodeableConcept>(_ProgramCode.DeepCopyInternal());
        if(_Serviced is not null) dest.Serviced = (Hl7.Fhir.Model.DataType)_Serviced.DeepCopyInternal();
        if(_Location is not null) dest.Location = (Hl7.Fhir.Model.DataType)_Location.DeepCopyInternal();
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_BodySite is not null) dest.BodySite = (Hl7.Fhir.Model.CodeableConcept)_BodySite.DeepCopyInternal();
        if(_SubSite is not null) dest.SubSite = new List<Hl7.Fhir.Model.CodeableConcept>(_SubSite.DeepCopyInternal());
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
        if(_Detail is not null) dest.Detail = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent>(_Detail.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AddedItemComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AddedItemComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.ListEquals(_ItemSequenceElement, otherT._ItemSequenceElement)) return false;
        if(!comparer.ListEquals(_DetailSequenceElement, otherT._DetailSequenceElement)) return false;
        if(!comparer.ListEquals(_SubDetailSequenceElement, otherT._SubDetailSequenceElement)) return false;
        if(!comparer.ListEquals(_Provider, otherT._Provider)) return false;
        if(!comparer.Equals(_ProductOrService, otherT._ProductOrService)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.ListEquals(_ProgramCode, otherT._ProgramCode)) return false;
        if(!comparer.Equals(_Serviced, otherT._Serviced)) return false;
        if(!comparer.Equals(_Location, otherT._Location)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.Equals(_BodySite, otherT._BodySite)) return false;
        if(!comparer.ListEquals(_SubSite, otherT._SubSite)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        if(!comparer.ListEquals(_Detail, otherT._Detail)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "itemSequence":
            if (_ItemSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["itemSequence"];
              return true;
            }
            value = _ItemSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "detailSequence":
            if (_DetailSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["detailSequence"];
              return true;
            }
            value = _DetailSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "subDetailSequence":
            if (_SubDetailSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["subDetailSequence"];
              return true;
            }
            value = _SubDetailSequenceElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "provider":
            if (_Provider.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>())
            {
              value = Overflow["provider"];
              return true;
            }
            value = _Provider;
            return (value as List<Hl7.Fhir.Model.ResourceReference>)?.Any() is true;
          case "productOrService":
            if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["productOrService"];
              return true;
            }
            value = _ProductOrService;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "programCode":
            if (_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["programCode"];
              return true;
            }
            value = _ProgramCode;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "serviced":
            if (_Serviced.InOverflow<DynamicDataType>())
            {
              value = Overflow["serviced"];
              return true;
            }
            value = _Serviced;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "location":
            if (_Location.InOverflow<DynamicDataType>())
            {
              value = Overflow["location"];
              return true;
            }
            value = _Location;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "bodySite":
            if (_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["bodySite"];
              return true;
            }
            value = _BodySite;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "subSite":
            if (_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["subSite"];
              return true;
            }
            value = _SubSite;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          case "detail":
            if (_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent>>())
            {
              value = Overflow["detail"];
              return true;
            }
            value = _Detail;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "itemSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              ItemSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["itemSequence"] = value;
            }
            else ItemSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "detailSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              DetailSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["detailSequence"] = value;
            }
            else DetailSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "subDetailSequence":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              SubDetailSequenceElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["subDetailSequence"] = value;
            }
            else SubDetailSequenceElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "provider":
            if (value is not (List<Hl7.Fhir.Model.ResourceReference> or null))
            {
              Provider = OverflowNull<List<Hl7.Fhir.Model.ResourceReference>>.INSTANCE;
              Overflow["provider"] = value;
            }
            else Provider = (List<Hl7.Fhir.Model.ResourceReference>?)value!;
            return this;
          case "productOrService":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              ProductOrService = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["productOrService"] = value;
            }
            else ProductOrService = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "programCode":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              ProgramCode = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["programCode"] = value;
            }
            else ProgramCode = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "serviced":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Serviced = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["serviced"] = value;
            }
            else Serviced = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "location":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Location = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["location"] = value;
            }
            else Location = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "bodySite":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              BodySite = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["bodySite"] = value;
            }
            else BodySite = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "subSite":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              SubSite = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["subSite"] = value;
            }
            else SubSite = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          case "detail":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent> or null))
            {
              Detail = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent>>.INSTANCE;
              Overflow["detail"] = value;
            }
            else Detail = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_ItemSequenceElement?.Any() is true && !_ItemSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("itemSequence",_ItemSequenceElement);
        if (_DetailSequenceElement?.Any() is true && !_DetailSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("detailSequence",_DetailSequenceElement);
        if (_SubDetailSequenceElement?.Any() is true && !_SubDetailSequenceElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("subDetailSequence",_SubDetailSequenceElement);
        if (_Provider?.Any() is true && !_Provider.InOverflow<List<Hl7.Fhir.Model.ResourceReference>>()) yield return new KeyValuePair<string,object>("provider",_Provider);
        if (_ProductOrService is not null && !_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("productOrService",_ProductOrService);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_ProgramCode?.Any() is true && !_ProgramCode.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("programCode",_ProgramCode);
        if (_Serviced is not null && !_Serviced.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("serviced",_Serviced);
        if (_Location is not null && !_Location.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("location",_Location);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_BodySite is not null && !_BodySite.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("bodySite",_BodySite);
        if (_SubSite?.Any() is true && !_SubSite.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("subSite",_SubSite);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
        if (_Detail?.Any() is true && !_Detail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailComponent>>()) yield return new KeyValuePair<string,object>("detail",_Detail);
      }

    }

    /// <summary>
    /// Insurer added line items
    /// </summary>
    /// <remarks>
    /// The second-tier service adjudications for payor added services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.addItem.detail", IsBackboneType=true)]
    public partial class AddedItemDetailComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.addItem.detail";

      /// <summary>
      /// Billing, service, product, or drug code.
      /// </summary>
      [FhirElement("productOrService", Order=40)]
      [Binding("ServiceProduct")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept ProductOrService
      {
        get
        {
          if(_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["productOrService"]);
          return _ProductOrService!;
        }

        set
        {
          if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("productOrService");
          _ProductOrService = value;
          OnPropertyChanged("ProductOrService");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _ProductOrService;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=50)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Count of products or services.
      /// </summary>
      [FhirElement("quantity", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per item.
      /// </summary>
      [FhirElement("unitPrice", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total item cost.
      /// </summary>
      [FhirElement("net", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Applicable note numbers.
      /// </summary>
      [FhirElement("noteNumber", Order=100)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// Applicable note numbers
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Added items adjudication.
      /// </summary>
      [FhirElement("adjudication", Order=110)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      /// <summary>
      /// Insurer added line items.
      /// </summary>
      [FhirElement("subDetail", Order=120)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent> SubDetail
      {
        get
        {
          if(_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent>), Overflow["subDetail"]);
          return _SubDetail ??= [];
        }

        set
        {
          if (_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent>>())
            Overflow.Remove("subDetail");
          _SubDetail = value;
          OnPropertyChanged("SubDetail");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent>? _SubDetail;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AddedItemDetailComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_ProductOrService is not null) dest.ProductOrService = (Hl7.Fhir.Model.CodeableConcept)_ProductOrService.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
        if(_SubDetail is not null) dest.SubDetail = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent>(_SubDetail.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AddedItemDetailComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AddedItemDetailComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_ProductOrService, otherT._ProductOrService)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        if(!comparer.ListEquals(_SubDetail, otherT._SubDetail)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "productOrService":
            if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["productOrService"];
              return true;
            }
            value = _ProductOrService;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          case "subDetail":
            if (_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent>>())
            {
              value = Overflow["subDetail"];
              return true;
            }
            value = _SubDetail;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "productOrService":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              ProductOrService = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["productOrService"] = value;
            }
            else ProductOrService = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          case "subDetail":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent> or null))
            {
              SubDetail = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent>>.INSTANCE;
              Overflow["subDetail"] = value;
            }
            else SubDetail = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_ProductOrService is not null && !_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("productOrService",_ProductOrService);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
        if (_SubDetail?.Any() is true && !_SubDetail.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemDetailSubDetailComponent>>()) yield return new KeyValuePair<string,object>("subDetail",_SubDetail);
      }

    }

    /// <summary>
    /// Insurer added line items
    /// </summary>
    /// <remarks>
    /// The third-tier service adjudications for payor added services.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.addItem.detail.subDetail", IsBackboneType=true)]
    public partial class AddedItemDetailSubDetailComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.addItem.detail.subDetail";

      /// <summary>
      /// Billing, service, product, or drug code.
      /// </summary>
      [FhirElement("productOrService", Order=40)]
      [Binding("ServiceProduct")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept ProductOrService
      {
        get
        {
          if(_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["productOrService"]);
          return _ProductOrService!;
        }

        set
        {
          if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("productOrService");
          _ProductOrService = value;
          OnPropertyChanged("ProductOrService");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _ProductOrService;

      /// <summary>
      /// Service/Product billing modifiers.
      /// </summary>
      [FhirElement("modifier", Order=50)]
      [Binding("Modifiers")]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.CodeableConcept> Modifier
      {
        get
        {
          if(_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.CodeableConcept>), Overflow["modifier"]);
          return _Modifier ??= [];
        }

        set
        {
          if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            Overflow.Remove("modifier");
          _Modifier = value;
          OnPropertyChanged("Modifier");
        }

      }

      private List<Hl7.Fhir.Model.CodeableConcept>? _Modifier;

      /// <summary>
      /// Count of products or services.
      /// </summary>
      [FhirElement("quantity", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.Quantity? Quantity
      {
        get
        {
          if(_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Quantity), Overflow["quantity"]);
          return _Quantity;
        }

        set
        {
          if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            Overflow.Remove("quantity");
          _Quantity = value;
          OnPropertyChanged("Quantity");
        }

      }

      private Hl7.Fhir.Model.Quantity? _Quantity;

      /// <summary>
      /// Fee, charge or cost per item.
      /// </summary>
      [FhirElement("unitPrice", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Money? UnitPrice
      {
        get
        {
          if(_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["unitPrice"]);
          return _UnitPrice;
        }

        set
        {
          if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("unitPrice");
          _UnitPrice = value;
          OnPropertyChanged("UnitPrice");
        }

      }

      private Hl7.Fhir.Model.Money? _UnitPrice;

      /// <summary>
      /// Price scaling factor.
      /// </summary>
      [FhirElement("factor", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.FhirDecimal? FactorElement
      {
        get
        {
          if(_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDecimal), Overflow["factor"]);
          return _FactorElement;
        }

        set
        {
          if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            Overflow.Remove("factor");
          _FactorElement = value;
          OnPropertyChanged("FactorElement");
        }

      }

      private Hl7.Fhir.Model.FhirDecimal? _FactorElement;

      /// <summary>
      /// Price scaling factor
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public decimal? Factor
      {
        get => FactorElement?.Value;
        set
        {
          FactorElement = value is null ? null! : new Hl7.Fhir.Model.FhirDecimal(value);
          OnPropertyChanged("Factor");
        }
      }

      /// <summary>
      /// Total item cost.
      /// </summary>
      [FhirElement("net", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Net
      {
        get
        {
          if(_Net.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["net"]);
          return _Net;
        }

        set
        {
          if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("net");
          _Net = value;
          OnPropertyChanged("Net");
        }

      }

      private Hl7.Fhir.Model.Money? _Net;

      /// <summary>
      /// Applicable note numbers.
      /// </summary>
      [FhirElement("noteNumber", Order=100)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.PositiveInt> NoteNumberElement
      {
        get
        {
          if(_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.PositiveInt>), Overflow["noteNumber"]);
          return _NoteNumberElement ??= [];
        }

        set
        {
          if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            Overflow.Remove("noteNumber");
          _NoteNumberElement = value;
          OnPropertyChanged("NoteNumberElement");
        }

      }

      private List<Hl7.Fhir.Model.PositiveInt>? _NoteNumberElement;

      /// <summary>
      /// Applicable note numbers
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public IEnumerable<int?> NoteNumber
      {
        get => _NoteNumberElement?.Select(elem => elem.Value) ?? [];
        set
        {
          if (value == null)
            NoteNumberElement = null!;
          else
            NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(value.Select(elem=>new Hl7.Fhir.Model.PositiveInt(elem)));
          OnPropertyChanged("NoteNumber");
        }
      }

      /// <summary>
      /// Added items adjudication.
      /// </summary>
      [FhirElement("adjudication", Order=110)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
      {
        get
        {
          if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
          return _Adjudication ??= [];
        }

        set
        {
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            Overflow.Remove("adjudication");
          _Adjudication = value;
          OnPropertyChanged("Adjudication");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not AddedItemDetailSubDetailComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_ProductOrService is not null) dest.ProductOrService = (Hl7.Fhir.Model.CodeableConcept)_ProductOrService.DeepCopyInternal();
        if(_Modifier is not null) dest.Modifier = new List<Hl7.Fhir.Model.CodeableConcept>(_Modifier.DeepCopyInternal());
        if(_Quantity is not null) dest.Quantity = (Hl7.Fhir.Model.Quantity)_Quantity.DeepCopyInternal();
        if(_UnitPrice is not null) dest.UnitPrice = (Hl7.Fhir.Model.Money)_UnitPrice.DeepCopyInternal();
        if(_FactorElement is not null) dest.FactorElement = (Hl7.Fhir.Model.FhirDecimal)_FactorElement.DeepCopyInternal();
        if(_Net is not null) dest.Net = (Hl7.Fhir.Model.Money)_Net.DeepCopyInternal();
        if(_NoteNumberElement is not null) dest.NoteNumberElement = new List<Hl7.Fhir.Model.PositiveInt>(_NoteNumberElement.DeepCopyInternal());
        if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new AddedItemDetailSubDetailComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not AddedItemDetailSubDetailComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_ProductOrService, otherT._ProductOrService)) return false;
        if(!comparer.ListEquals(_Modifier, otherT._Modifier)) return false;
        if(!comparer.Equals(_Quantity, otherT._Quantity)) return false;
        if(!comparer.Equals(_UnitPrice, otherT._UnitPrice)) return false;
        if(!comparer.Equals(_FactorElement, otherT._FactorElement)) return false;
        if(!comparer.Equals(_Net, otherT._Net)) return false;
        if(!comparer.ListEquals(_NoteNumberElement, otherT._NoteNumberElement)) return false;
        if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "productOrService":
            if (_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["productOrService"];
              return true;
            }
            value = _ProductOrService;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "modifier":
            if (_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>())
            {
              value = Overflow["modifier"];
              return true;
            }
            value = _Modifier;
            return (value as List<Hl7.Fhir.Model.CodeableConcept>)?.Any() is true;
          case "quantity":
            if (_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>())
            {
              value = Overflow["quantity"];
              return true;
            }
            value = _Quantity;
            return (value as Hl7.Fhir.Model.Quantity) is not null;
          case "unitPrice":
            if (_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["unitPrice"];
              return true;
            }
            value = _UnitPrice;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "factor":
            if (_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>())
            {
              value = Overflow["factor"];
              return true;
            }
            value = _FactorElement;
            return (value as Hl7.Fhir.Model.FhirDecimal) is not null;
          case "net":
            if (_Net.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["net"];
              return true;
            }
            value = _Net;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "noteNumber":
            if (_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>())
            {
              value = Overflow["noteNumber"];
              return true;
            }
            value = _NoteNumberElement;
            return (value as List<Hl7.Fhir.Model.PositiveInt>)?.Any() is true;
          case "adjudication":
            if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
            {
              value = Overflow["adjudication"];
              return true;
            }
            value = _Adjudication;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "productOrService":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              ProductOrService = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["productOrService"] = value;
            }
            else ProductOrService = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "modifier":
            if (value is not (List<Hl7.Fhir.Model.CodeableConcept> or null))
            {
              Modifier = OverflowNull<List<Hl7.Fhir.Model.CodeableConcept>>.INSTANCE;
              Overflow["modifier"] = value;
            }
            else Modifier = (List<Hl7.Fhir.Model.CodeableConcept>?)value!;
            return this;
          case "quantity":
            if (value is not (Hl7.Fhir.Model.Quantity or null))
            {
              Quantity = OverflowNull<Hl7.Fhir.Model.Quantity>.INSTANCE;
              Overflow["quantity"] = value;
            }
            else Quantity = (Hl7.Fhir.Model.Quantity?)value;
            return this;
          case "unitPrice":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              UnitPrice = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["unitPrice"] = value;
            }
            else UnitPrice = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "factor":
            if (value is not (Hl7.Fhir.Model.FhirDecimal or null))
            {
              FactorElement = OverflowNull<Hl7.Fhir.Model.FhirDecimal>.INSTANCE;
              Overflow["factor"] = value;
            }
            else FactorElement = (Hl7.Fhir.Model.FhirDecimal?)value;
            return this;
          case "net":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Net = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["net"] = value;
            }
            else Net = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "noteNumber":
            if (value is not (List<Hl7.Fhir.Model.PositiveInt> or null))
            {
              NoteNumberElement = OverflowNull<List<Hl7.Fhir.Model.PositiveInt>>.INSTANCE;
              Overflow["noteNumber"] = value;
            }
            else NoteNumberElement = (List<Hl7.Fhir.Model.PositiveInt>?)value!;
            return this;
          case "adjudication":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
            {
              Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
              Overflow["adjudication"] = value;
            }
            else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_ProductOrService is not null && !_ProductOrService.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("productOrService",_ProductOrService);
        if (_Modifier?.Any() is true && !_Modifier.InOverflow<List<Hl7.Fhir.Model.CodeableConcept>>()) yield return new KeyValuePair<string,object>("modifier",_Modifier);
        if (_Quantity is not null && !_Quantity.InOverflow<Hl7.Fhir.Model.Quantity>()) yield return new KeyValuePair<string,object>("quantity",_Quantity);
        if (_UnitPrice is not null && !_UnitPrice.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("unitPrice",_UnitPrice);
        if (_FactorElement is not null && !_FactorElement.InOverflow<Hl7.Fhir.Model.FhirDecimal>()) yield return new KeyValuePair<string,object>("factor",_FactorElement);
        if (_Net is not null && !_Net.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("net",_Net);
        if (_NoteNumberElement?.Any() is true && !_NoteNumberElement.InOverflow<List<Hl7.Fhir.Model.PositiveInt>>()) yield return new KeyValuePair<string,object>("noteNumber",_NoteNumberElement);
        if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
      }

    }

    /// <summary>
    /// Adjudication totals
    /// </summary>
    /// <remarks>
    /// Categorized monetary totals for the adjudication.
    /// Totals for amounts submitted, co-pays, benefits payable etc.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.total", IsBackboneType=true)]
    public partial class TotalComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.total";

      /// <summary>
      /// Type of adjudication information.
      /// </summary>
      [FhirElement("category", InSummary=true, Order=40)]
      [Binding("Adjudication")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category!;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Financial total for the category.
      /// </summary>
      [FhirElement("amount", InSummary=true, Order=50)]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.Money Amount
      {
        get
        {
          if(_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["amount"]);
          return _Amount!;
        }

        set
        {
          if (_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("amount");
          _Amount = value;
          OnPropertyChanged("Amount");
        }

      }

      private Hl7.Fhir.Model.Money? _Amount;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not TotalComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_Amount is not null) dest.Amount = (Hl7.Fhir.Model.Money)_Amount.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new TotalComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not TotalComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_Amount, otherT._Amount)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "amount":
            if (_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["amount"];
              return true;
            }
            value = _Amount;
            return (value as Hl7.Fhir.Model.Money) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "amount":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Amount = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["amount"] = value;
            }
            else Amount = (Hl7.Fhir.Model.Money?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_Amount is not null && !_Amount.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("amount",_Amount);
      }

    }

    /// <summary>
    /// Payment Details
    /// </summary>
    /// <remarks>
    /// Payment details for the adjudication of the claim.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.payment", IsBackboneType=true)]
    public partial class PaymentComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.payment";

      /// <summary>
      /// Partial or complete payment.
      /// </summary>
      [FhirElement("type", Order=40)]
      [Binding("PaymentType")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Payment adjustment for non-claim issues.
      /// </summary>
      [FhirElement("adjustment", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Adjustment
      {
        get
        {
          if(_Adjustment.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["adjustment"]);
          return _Adjustment;
        }

        set
        {
          if (_Adjustment.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("adjustment");
          _Adjustment = value;
          OnPropertyChanged("Adjustment");
        }

      }

      private Hl7.Fhir.Model.Money? _Adjustment;

      /// <summary>
      /// Explanation for the variance.
      /// </summary>
      [FhirElement("adjustmentReason", Order=60)]
      [Binding("PaymentAdjustmentReason")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? AdjustmentReason
      {
        get
        {
          if(_AdjustmentReason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["adjustmentReason"]);
          return _AdjustmentReason;
        }

        set
        {
          if (_AdjustmentReason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("adjustmentReason");
          _AdjustmentReason = value;
          OnPropertyChanged("AdjustmentReason");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _AdjustmentReason;

      /// <summary>
      /// Expected date of payment.
      /// </summary>
      [FhirElement("date", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.Date? DateElement
      {
        get
        {
          if(_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Date), Overflow["date"]);
          return _DateElement;
        }

        set
        {
          if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            Overflow.Remove("date");
          _DateElement = value;
          OnPropertyChanged("DateElement");
        }

      }

      private Hl7.Fhir.Model.Date? _DateElement;

      /// <summary>
      /// Expected date of payment
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Date
      {
        get => DateElement?.Value;
        set
        {
          DateElement = value is null ? null! : new Hl7.Fhir.Model.Date(value);
          OnPropertyChanged("Date");
        }
      }

      /// <summary>
      /// Payable amount after adjustment.
      /// </summary>
      [FhirElement("amount", Order=80)]
      [DataMember]
      public Hl7.Fhir.Model.Money? Amount
      {
        get
        {
          if(_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Money), Overflow["amount"]);
          return _Amount;
        }

        set
        {
          if (_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            Overflow.Remove("amount");
          _Amount = value;
          OnPropertyChanged("Amount");
        }

      }

      private Hl7.Fhir.Model.Money? _Amount;

      /// <summary>
      /// Business identifier for the payment.
      /// </summary>
      [FhirElement("identifier", Order=90)]
      [DataMember]
      public Hl7.Fhir.Model.Identifier? Identifier
      {
        get
        {
          if(_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Identifier), Overflow["identifier"]);
          return _Identifier;
        }

        set
        {
          if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            Overflow.Remove("identifier");
          _Identifier = value;
          OnPropertyChanged("Identifier");
        }

      }

      private Hl7.Fhir.Model.Identifier? _Identifier;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not PaymentComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Adjustment is not null) dest.Adjustment = (Hl7.Fhir.Model.Money)_Adjustment.DeepCopyInternal();
        if(_AdjustmentReason is not null) dest.AdjustmentReason = (Hl7.Fhir.Model.CodeableConcept)_AdjustmentReason.DeepCopyInternal();
        if(_DateElement is not null) dest.DateElement = (Hl7.Fhir.Model.Date)_DateElement.DeepCopyInternal();
        if(_Amount is not null) dest.Amount = (Hl7.Fhir.Model.Money)_Amount.DeepCopyInternal();
        if(_Identifier is not null) dest.Identifier = (Hl7.Fhir.Model.Identifier)_Identifier.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new PaymentComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not PaymentComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Adjustment, otherT._Adjustment)) return false;
        if(!comparer.Equals(_AdjustmentReason, otherT._AdjustmentReason)) return false;
        if(!comparer.Equals(_DateElement, otherT._DateElement)) return false;
        if(!comparer.Equals(_Amount, otherT._Amount)) return false;
        if(!comparer.Equals(_Identifier, otherT._Identifier)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "adjustment":
            if (_Adjustment.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["adjustment"];
              return true;
            }
            value = _Adjustment;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "adjustmentReason":
            if (_AdjustmentReason.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["adjustmentReason"];
              return true;
            }
            value = _AdjustmentReason;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "date":
            if (_DateElement.InOverflow<Hl7.Fhir.Model.Date>())
            {
              value = Overflow["date"];
              return true;
            }
            value = _DateElement;
            return (value as Hl7.Fhir.Model.Date) is not null;
          case "amount":
            if (_Amount.InOverflow<Hl7.Fhir.Model.Money>())
            {
              value = Overflow["amount"];
              return true;
            }
            value = _Amount;
            return (value as Hl7.Fhir.Model.Money) is not null;
          case "identifier":
            if (_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>())
            {
              value = Overflow["identifier"];
              return true;
            }
            value = _Identifier;
            return (value as Hl7.Fhir.Model.Identifier) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "adjustment":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Adjustment = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["adjustment"] = value;
            }
            else Adjustment = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "adjustmentReason":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              AdjustmentReason = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["adjustmentReason"] = value;
            }
            else AdjustmentReason = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "date":
            if (value is not (Hl7.Fhir.Model.Date or null))
            {
              DateElement = OverflowNull<Hl7.Fhir.Model.Date>.INSTANCE;
              Overflow["date"] = value;
            }
            else DateElement = (Hl7.Fhir.Model.Date?)value;
            return this;
          case "amount":
            if (value is not (Hl7.Fhir.Model.Money or null))
            {
              Amount = OverflowNull<Hl7.Fhir.Model.Money>.INSTANCE;
              Overflow["amount"] = value;
            }
            else Amount = (Hl7.Fhir.Model.Money?)value;
            return this;
          case "identifier":
            if (value is not (Hl7.Fhir.Model.Identifier or null))
            {
              Identifier = OverflowNull<Hl7.Fhir.Model.Identifier>.INSTANCE;
              Overflow["identifier"] = value;
            }
            else Identifier = (Hl7.Fhir.Model.Identifier?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Adjustment is not null && !_Adjustment.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("adjustment",_Adjustment);
        if (_AdjustmentReason is not null && !_AdjustmentReason.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("adjustmentReason",_AdjustmentReason);
        if (_DateElement is not null && !_DateElement.InOverflow<Hl7.Fhir.Model.Date>()) yield return new KeyValuePair<string,object>("date",_DateElement);
        if (_Amount is not null && !_Amount.InOverflow<Hl7.Fhir.Model.Money>()) yield return new KeyValuePair<string,object>("amount",_Amount);
        if (_Identifier is not null && !_Identifier.InOverflow<Hl7.Fhir.Model.Identifier>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      }

    }

    /// <summary>
    /// Note concerning adjudication
    /// </summary>
    /// <remarks>
    /// A note that describes or explains adjudication results in a human readable form.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.processNote", IsBackboneType=true)]
    public partial class NoteComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.processNote";

      /// <summary>
      /// Note instance identifier.
      /// </summary>
      [FhirElement("number", Order=40)]
      [DataMember]
      public Hl7.Fhir.Model.PositiveInt? NumberElement
      {
        get
        {
          if(_NumberElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["number"]);
          return _NumberElement;
        }

        set
        {
          if (_NumberElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            Overflow.Remove("number");
          _NumberElement = value;
          OnPropertyChanged("NumberElement");
        }

      }

      private Hl7.Fhir.Model.PositiveInt? _NumberElement;

      /// <summary>
      /// Note instance identifier
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public int? Number
      {
        get => NumberElement?.Value;
        set
        {
          NumberElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
          OnPropertyChanged("Number");
        }
      }

      /// <summary>
      /// display | print | printoper.
      /// </summary>
      [FhirElement("type", Order=50)]
      [Binding("NoteType")]
      [DataMember]
      public Code<Hl7.Fhir.Model.NoteType>? TypeElement
      {
        get
        {
          if(_TypeElement.InOverflow<Code<Hl7.Fhir.Model.NoteType>>())
            throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.NoteType>), Overflow["type"]);
          return _TypeElement;
        }

        set
        {
          if (_TypeElement.InOverflow<Code<Hl7.Fhir.Model.NoteType>>())
            Overflow.Remove("type");
          _TypeElement = value;
          OnPropertyChanged("TypeElement");
        }

      }

      private Code<Hl7.Fhir.Model.NoteType>? _TypeElement;

      /// <summary>
      /// display | print | printoper
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public Hl7.Fhir.Model.NoteType? Type
      {
        get => TypeElement?.Value;
        set
        {
          TypeElement = value is null ? null! : new Code<Hl7.Fhir.Model.NoteType>(value);
          OnPropertyChanged("Type");
        }
      }

      /// <summary>
      /// Note explanatory text.
      /// </summary>
      [FhirElement("text", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? TextElement
      {
        get
        {
          if(_TextElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["text"]);
          return _TextElement;
        }

        set
        {
          if (_TextElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("text");
          _TextElement = value;
          OnPropertyChanged("TextElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _TextElement;

      /// <summary>
      /// Note explanatory text
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Text
      {
        get => TextElement?.Value;
        set
        {
          TextElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Text");
        }
      }

      /// <summary>
      /// Language of the text.
      /// </summary>
      [FhirElement("language", Order=70)]
      [Binding("Language")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Language
      {
        get
        {
          if(_Language.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["language"]);
          return _Language;
        }

        set
        {
          if (_Language.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("language");
          _Language = value;
          OnPropertyChanged("Language");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Language;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not NoteComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_NumberElement is not null) dest.NumberElement = (Hl7.Fhir.Model.PositiveInt)_NumberElement.DeepCopyInternal();
        if(_TypeElement is not null) dest.TypeElement = (Code<Hl7.Fhir.Model.NoteType>)_TypeElement.DeepCopyInternal();
        if(_TextElement is not null) dest.TextElement = (Hl7.Fhir.Model.FhirString)_TextElement.DeepCopyInternal();
        if(_Language is not null) dest.Language = (Hl7.Fhir.Model.CodeableConcept)_Language.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new NoteComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not NoteComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_NumberElement, otherT._NumberElement)) return false;
        if(!comparer.Equals(_TypeElement, otherT._TypeElement)) return false;
        if(!comparer.Equals(_TextElement, otherT._TextElement)) return false;
        if(!comparer.Equals(_Language, otherT._Language)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "number":
            if (_NumberElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
            {
              value = Overflow["number"];
              return true;
            }
            value = _NumberElement;
            return (value as Hl7.Fhir.Model.PositiveInt) is not null;
          case "type":
            if (_TypeElement.InOverflow<Code<Hl7.Fhir.Model.NoteType>>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _TypeElement;
            return (value as Code<Hl7.Fhir.Model.NoteType>) is not null;
          case "text":
            if (_TextElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["text"];
              return true;
            }
            value = _TextElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "language":
            if (_Language.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["language"];
              return true;
            }
            value = _Language;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "number":
            if (value is not (Hl7.Fhir.Model.PositiveInt or null))
            {
              NumberElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
              Overflow["number"] = value;
            }
            else NumberElement = (Hl7.Fhir.Model.PositiveInt?)value;
            return this;
          case "type":
            if (value is not (Code<Hl7.Fhir.Model.NoteType> or null))
            {
              TypeElement = OverflowNull<Code<Hl7.Fhir.Model.NoteType>>.INSTANCE;
              Overflow["type"] = value;
            }
            else TypeElement = (Code<Hl7.Fhir.Model.NoteType>?)value;
            return this;
          case "text":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              TextElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["text"] = value;
            }
            else TextElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "language":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Language = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["language"] = value;
            }
            else Language = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_NumberElement is not null && !_NumberElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("number",_NumberElement);
        if (_TypeElement is not null && !_TypeElement.InOverflow<Code<Hl7.Fhir.Model.NoteType>>()) yield return new KeyValuePair<string,object>("type",_TypeElement);
        if (_TextElement is not null && !_TextElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("text",_TextElement);
        if (_Language is not null && !_Language.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("language",_Language);
      }

    }

    /// <summary>
    /// Balance by Benefit Category
    /// </summary>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.benefitBalance", IsBackboneType=true)]
    public partial class BenefitBalanceComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.benefitBalance";

      /// <summary>
      /// Benefit classification.
      /// </summary>
      [FhirElement("category", Order=40)]
      [Binding("BenefitCategory")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Category
      {
        get
        {
          if(_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["category"]);
          return _Category!;
        }

        set
        {
          if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("category");
          _Category = value;
          OnPropertyChanged("Category");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Category;

      /// <summary>
      /// Excluded from the plan.
      /// </summary>
      [FhirElement("excluded", Order=50)]
      [DataMember]
      public Hl7.Fhir.Model.FhirBoolean? ExcludedElement
      {
        get
        {
          if(_ExcludedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirBoolean), Overflow["excluded"]);
          return _ExcludedElement;
        }

        set
        {
          if (_ExcludedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            Overflow.Remove("excluded");
          _ExcludedElement = value;
          OnPropertyChanged("ExcludedElement");
        }

      }

      private Hl7.Fhir.Model.FhirBoolean? _ExcludedElement;

      /// <summary>
      /// Excluded from the plan
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public bool? Excluded
      {
        get => ExcludedElement?.Value;
        set
        {
          ExcludedElement = value is null ? null! : new Hl7.Fhir.Model.FhirBoolean(value);
          OnPropertyChanged("Excluded");
        }
      }

      /// <summary>
      /// Short name for the benefit.
      /// </summary>
      [FhirElement("name", Order=60)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? NameElement
      {
        get
        {
          if(_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["name"]);
          return _NameElement;
        }

        set
        {
          if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("name");
          _NameElement = value;
          OnPropertyChanged("NameElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _NameElement;

      /// <summary>
      /// Short name for the benefit
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Name
      {
        get => NameElement?.Value;
        set
        {
          NameElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Name");
        }
      }

      /// <summary>
      /// Description of the benefit or services covered.
      /// </summary>
      [FhirElement("description", Order=70)]
      [DataMember]
      public Hl7.Fhir.Model.FhirString? DescriptionElement
      {
        get
        {
          if(_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["description"]);
          return _DescriptionElement;
        }

        set
        {
          if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            Overflow.Remove("description");
          _DescriptionElement = value;
          OnPropertyChanged("DescriptionElement");
        }

      }

      private Hl7.Fhir.Model.FhirString? _DescriptionElement;

      /// <summary>
      /// Description of the benefit or services covered
      /// </summary>
      /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
      [IgnoreDataMember]
      public string? Description
      {
        get => DescriptionElement?.Value;
        set
        {
          DescriptionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
          OnPropertyChanged("Description");
        }
      }

      /// <summary>
      /// In or out of network.
      /// </summary>
      [FhirElement("network", Order=80)]
      [Binding("BenefitNetwork")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Network
      {
        get
        {
          if(_Network.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["network"]);
          return _Network;
        }

        set
        {
          if (_Network.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("network");
          _Network = value;
          OnPropertyChanged("Network");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Network;

      /// <summary>
      /// Individual or family.
      /// </summary>
      [FhirElement("unit", Order=90)]
      [Binding("BenefitUnit")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Unit
      {
        get
        {
          if(_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["unit"]);
          return _Unit;
        }

        set
        {
          if (_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("unit");
          _Unit = value;
          OnPropertyChanged("Unit");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Unit;

      /// <summary>
      /// Annual or lifetime.
      /// </summary>
      [FhirElement("term", Order=100)]
      [Binding("BenefitTerm")]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept? Term
      {
        get
        {
          if(_Term.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["term"]);
          return _Term;
        }

        set
        {
          if (_Term.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("term");
          _Term = value;
          OnPropertyChanged("Term");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Term;

      /// <summary>
      /// Benefit Summary.
      /// </summary>
      [FhirElement("financial", Order=110)]
      [Cardinality(Min=0,Max=-1)]
      [DataMember]
      [AllowNull]
      public List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent> Financial
      {
        get
        {
          if(_Financial.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>>())
            throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>), Overflow["financial"]);
          return _Financial ??= [];
        }

        set
        {
          if (_Financial.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>>())
            Overflow.Remove("financial");
          _Financial = value;
          OnPropertyChanged("Financial");
        }

      }

      private List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>? _Financial;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not BenefitBalanceComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Category is not null) dest.Category = (Hl7.Fhir.Model.CodeableConcept)_Category.DeepCopyInternal();
        if(_ExcludedElement is not null) dest.ExcludedElement = (Hl7.Fhir.Model.FhirBoolean)_ExcludedElement.DeepCopyInternal();
        if(_NameElement is not null) dest.NameElement = (Hl7.Fhir.Model.FhirString)_NameElement.DeepCopyInternal();
        if(_DescriptionElement is not null) dest.DescriptionElement = (Hl7.Fhir.Model.FhirString)_DescriptionElement.DeepCopyInternal();
        if(_Network is not null) dest.Network = (Hl7.Fhir.Model.CodeableConcept)_Network.DeepCopyInternal();
        if(_Unit is not null) dest.Unit = (Hl7.Fhir.Model.CodeableConcept)_Unit.DeepCopyInternal();
        if(_Term is not null) dest.Term = (Hl7.Fhir.Model.CodeableConcept)_Term.DeepCopyInternal();
        if(_Financial is not null) dest.Financial = new List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>(_Financial.DeepCopyInternal());
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new BenefitBalanceComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not BenefitBalanceComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Category, otherT._Category)) return false;
        if(!comparer.Equals(_ExcludedElement, otherT._ExcludedElement)) return false;
        if(!comparer.Equals(_NameElement, otherT._NameElement)) return false;
        if(!comparer.Equals(_DescriptionElement, otherT._DescriptionElement)) return false;
        if(!comparer.Equals(_Network, otherT._Network)) return false;
        if(!comparer.Equals(_Unit, otherT._Unit)) return false;
        if(!comparer.Equals(_Term, otherT._Term)) return false;
        if(!comparer.ListEquals(_Financial, otherT._Financial)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "category":
            if (_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["category"];
              return true;
            }
            value = _Category;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "excluded":
            if (_ExcludedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>())
            {
              value = Overflow["excluded"];
              return true;
            }
            value = _ExcludedElement;
            return (value as Hl7.Fhir.Model.FhirBoolean) is not null;
          case "name":
            if (_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["name"];
              return true;
            }
            value = _NameElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "description":
            if (_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
            {
              value = Overflow["description"];
              return true;
            }
            value = _DescriptionElement;
            return (value as Hl7.Fhir.Model.FhirString) is not null;
          case "network":
            if (_Network.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["network"];
              return true;
            }
            value = _Network;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "unit":
            if (_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["unit"];
              return true;
            }
            value = _Unit;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "term":
            if (_Term.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["term"];
              return true;
            }
            value = _Term;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "financial":
            if (_Financial.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>>())
            {
              value = Overflow["financial"];
              return true;
            }
            value = _Financial;
            return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>)?.Any() is true;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "category":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Category = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["category"] = value;
            }
            else Category = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "excluded":
            if (value is not (Hl7.Fhir.Model.FhirBoolean or null))
            {
              ExcludedElement = OverflowNull<Hl7.Fhir.Model.FhirBoolean>.INSTANCE;
              Overflow["excluded"] = value;
            }
            else ExcludedElement = (Hl7.Fhir.Model.FhirBoolean?)value;
            return this;
          case "name":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              NameElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["name"] = value;
            }
            else NameElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "description":
            if (value is not (Hl7.Fhir.Model.FhirString or null))
            {
              DescriptionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
              Overflow["description"] = value;
            }
            else DescriptionElement = (Hl7.Fhir.Model.FhirString?)value;
            return this;
          case "network":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Network = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["network"] = value;
            }
            else Network = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "unit":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Unit = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["unit"] = value;
            }
            else Unit = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "term":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Term = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["term"] = value;
            }
            else Term = (Hl7.Fhir.Model.CodeableConcept?)value;
            return this;
          case "financial":
            if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent> or null))
            {
              Financial = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>>.INSTANCE;
              Overflow["financial"] = value;
            }
            else Financial = (List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>?)value!;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Category is not null && !_Category.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("category",_Category);
        if (_ExcludedElement is not null && !_ExcludedElement.InOverflow<Hl7.Fhir.Model.FhirBoolean>()) yield return new KeyValuePair<string,object>("excluded",_ExcludedElement);
        if (_NameElement is not null && !_NameElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("name",_NameElement);
        if (_DescriptionElement is not null && !_DescriptionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("description",_DescriptionElement);
        if (_Network is not null && !_Network.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("network",_Network);
        if (_Unit is not null && !_Unit.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("unit",_Unit);
        if (_Term is not null && !_Term.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("term",_Term);
        if (_Financial?.Any() is true && !_Financial.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitComponent>>()) yield return new KeyValuePair<string,object>("financial",_Financial);
      }

    }

    /// <summary>
    /// Benefit Summary
    /// </summary>
    /// <remarks>
    /// Benefits Used to date.
    /// </remarks>
    [Serializable]
    [DataContract]
    [FhirType("ExplanationOfBenefit.benefitBalance.financial", IsBackboneType=true)]
    public partial class BenefitComponent : Hl7.Fhir.Model.BackboneElement
    {
      /// <summary>
      /// FHIR Type Name
      /// </summary>
      public override string TypeName => "ExplanationOfBenefit.benefitBalance.financial";

      /// <summary>
      /// Benefit classification.
      /// </summary>
      [FhirElement("type", Order=40)]
      [Binding("BenefitType")]
      [Cardinality(Min=1,Max=1)]
      [DataMember]
      public Hl7.Fhir.Model.CodeableConcept Type
      {
        get
        {
          if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
          return _Type!;
        }

        set
        {
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            Overflow.Remove("type");
          _Type = value;
          OnPropertyChanged("Type");
        }

      }

      private Hl7.Fhir.Model.CodeableConcept? _Type;

      /// <summary>
      /// Benefits allowed.
      /// </summary>
      [FhirElement("allowed", Order=50, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.UnsignedInt),typeof(Hl7.Fhir.Model.FhirString),typeof(Hl7.Fhir.Model.Money))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Allowed
      {
        get
        {
          if(_Allowed.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["allowed"]);
          return _Allowed;
        }

        set
        {
          if (_Allowed.InOverflow<DynamicDataType>())
            Overflow.Remove("allowed");
          _Allowed = value;
          OnPropertyChanged("Allowed");
        }

      }

      private Hl7.Fhir.Model.DataType? _Allowed;

      /// <summary>
      /// Benefits used.
      /// </summary>
      [FhirElement("used", Order=60, Choice=ChoiceType.DatatypeChoice)]
      [CLSCompliant(false)]
      [AllowedTypes(typeof(Hl7.Fhir.Model.UnsignedInt),typeof(Hl7.Fhir.Model.Money))]
      [DataMember]
      public Hl7.Fhir.Model.DataType? Used
      {
        get
        {
          if(_Used.InOverflow<DynamicDataType>())
            throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.DataType), Overflow["used"]);
          return _Used;
        }

        set
        {
          if (_Used.InOverflow<DynamicDataType>())
            Overflow.Remove("used");
          _Used = value;
          OnPropertyChanged("Used");
        }

      }

      private Hl7.Fhir.Model.DataType? _Used;

      protected internal override void CopyToInternal(Base other)
      {
        if(other is not BenefitComponent dest)
          throw new ArgumentException("Can only copy to an object of the same type", "other");

        base.CopyToInternal(dest);
        if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
        if(_Allowed is not null) dest.Allowed = (Hl7.Fhir.Model.DataType)_Allowed.DeepCopyInternal();
        if(_Used is not null) dest.Used = (Hl7.Fhir.Model.DataType)_Used.DeepCopyInternal();
      }

      protected internal override Base DeepCopyInternal()
      {
        var instance = new BenefitComponent();
        CopyToInternal(instance);
        return instance;
      }

      public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
      {
        if(other is not BenefitComponent otherT) return false;

        if(!base.CompareChildren(otherT, comparer)) return false;
        #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
        if(!comparer.Equals(_Type, otherT._Type)) return false;
        if(!comparer.Equals(_Allowed, otherT._Allowed)) return false;
        if(!comparer.Equals(_Used, otherT._Used)) return false;
        #pragma warning restore CS8604 // Possible null reference argument.

        return true;
      }

      public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
      {
        switch (key)
        {
          case "type":
            if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
            {
              value = Overflow["type"];
              return true;
            }
            value = _Type;
            return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
          case "allowed":
            if (_Allowed.InOverflow<DynamicDataType>())
            {
              value = Overflow["allowed"];
              return true;
            }
            value = _Allowed;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          case "used":
            if (_Used.InOverflow<DynamicDataType>())
            {
              value = Overflow["used"];
              return true;
            }
            value = _Used;
            return (value as Hl7.Fhir.Model.DataType) is not null;
          default:
            return base.TryGetValue(key, out value);
        }

      }

      public override Base SetValue(string key, object? value)
      {
        if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
        switch (key)
        {
          case "type":
            if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
            {
              Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
              Overflow["type"] = value;
            }
            else Type = (Hl7.Fhir.Model.CodeableConcept?)value!;
            return this;
          case "allowed":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Allowed = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["allowed"] = value;
            }
            else Allowed = (Hl7.Fhir.Model.DataType?)value;
            return this;
          case "used":
            if (value is not (Hl7.Fhir.Model.DataType or null))
            {
              Used = OverflowNull<DynamicDataType>.INSTANCE;
              Overflow["used"] = value;
            }
            else Used = (Hl7.Fhir.Model.DataType?)value;
            return this;
          default:
            return base.SetValue(key, value);
        }

      }

      public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
      {
        foreach (var kvp in base.EnumerateElements()) yield return kvp;
        if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
        if (_Allowed is not null && !_Allowed.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("allowed",_Allowed);
        if (_Used is not null && !_Used.InOverflow<DynamicDataType>()) yield return new KeyValuePair<string,object>("used",_Used);
      }

    }

    /// <summary>
    /// Business Identifier for the resource.
    /// </summary>
    [FhirElement("identifier", Order=90, FiveWs="FiveWs.identifier")]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Identifier> Identifier
    {
      get
      {
        if(_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Identifier>), Overflow["identifier"]);
        return _Identifier ??= [];
      }

      set
      {
        if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          Overflow.Remove("identifier");
        _Identifier = value;
        OnPropertyChanged("Identifier");
      }

    }

    private List<Hl7.Fhir.Model.Identifier>? _Identifier;

    /// <summary>
    /// active | cancelled | draft | entered-in-error.
    /// </summary>
    [FhirElement("status", InSummary=true, IsModifier=true, Order=100, FiveWs="FiveWs.status")]
    [Binding("ExplanationOfBenefitStatus")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus> StatusElement
    {
      get
      {
        if(_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>), Overflow["status"]);
        return _StatusElement!;
      }

      set
      {
        if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>>())
          Overflow.Remove("status");
        _StatusElement = value;
        OnPropertyChanged("StatusElement");
      }

    }

    private Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>? _StatusElement;

    /// <summary>
    /// active | cancelled | draft | entered-in-error
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus? Status
    {
      get => StatusElement?.Value;
      set
      {
        StatusElement = value is null ? null! : new Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>(value);
        OnPropertyChanged("Status");
      }
    }

    /// <summary>
    /// Category or discipline.
    /// </summary>
    [FhirElement("type", InSummary=true, Order=110, FiveWs="FiveWs.class")]
    [Binding("ClaimType")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept Type
    {
      get
      {
        if(_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["type"]);
        return _Type!;
      }

      set
      {
        if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("type");
        _Type = value;
        OnPropertyChanged("Type");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Type;

    /// <summary>
    /// More granular claim type.
    /// </summary>
    [FhirElement("subType", Order=120, FiveWs="FiveWs.class")]
    [Binding("ClaimSubType")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? SubType
    {
      get
      {
        if(_SubType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["subType"]);
        return _SubType;
      }

      set
      {
        if (_SubType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("subType");
        _SubType = value;
        OnPropertyChanged("SubType");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _SubType;

    /// <summary>
    /// claim | preauthorization | predetermination.
    /// </summary>
    [FhirElement("use", InSummary=true, Order=130, FiveWs="FiveWs.class")]
    [Binding("Use")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.ClaimUseCode> UseElement
    {
      get
      {
        if(_UseElement.InOverflow<Code<Hl7.Fhir.Model.ClaimUseCode>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ClaimUseCode>), Overflow["use"]);
        return _UseElement!;
      }

      set
      {
        if (_UseElement.InOverflow<Code<Hl7.Fhir.Model.ClaimUseCode>>())
          Overflow.Remove("use");
        _UseElement = value;
        OnPropertyChanged("UseElement");
      }

    }

    private Code<Hl7.Fhir.Model.ClaimUseCode>? _UseElement;

    /// <summary>
    /// claim | preauthorization | predetermination
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.ClaimUseCode? Use
    {
      get => UseElement?.Value;
      set
      {
        UseElement = value is null ? null! : new Code<Hl7.Fhir.Model.ClaimUseCode>(value);
        OnPropertyChanged("Use");
      }
    }

    /// <summary>
    /// The recipient of the products and services.
    /// </summary>
    [FhirElement("patient", InSummary=true, Order=140, FiveWs="FiveWs.subject")]
    [CLSCompliant(false)]
    [References("Patient")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference Patient
    {
      get
      {
        if(_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["patient"]);
        return _Patient!;
      }

      set
      {
        if (_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("patient");
        _Patient = value;
        OnPropertyChanged("Patient");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Patient;

    /// <summary>
    /// Relevant time frame for the claim.
    /// </summary>
    [FhirElement("billablePeriod", InSummary=true, Order=150, FiveWs="FiveWs.done[x]")]
    [DataMember]
    public Hl7.Fhir.Model.Period? BillablePeriod
    {
      get
      {
        if(_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["billablePeriod"]);
        return _BillablePeriod;
      }

      set
      {
        if (_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>())
          Overflow.Remove("billablePeriod");
        _BillablePeriod = value;
        OnPropertyChanged("BillablePeriod");
      }

    }

    private Hl7.Fhir.Model.Period? _BillablePeriod;

    /// <summary>
    /// Response creation date.
    /// </summary>
    [FhirElement("created", InSummary=true, Order=160, FiveWs="FiveWs.recorded")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.FhirDateTime CreatedElement
    {
      get
      {
        if(_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirDateTime), Overflow["created"]);
        return _CreatedElement!;
      }

      set
      {
        if (_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          Overflow.Remove("created");
        _CreatedElement = value;
        OnPropertyChanged("CreatedElement");
      }

    }

    private Hl7.Fhir.Model.FhirDateTime? _CreatedElement;

    /// <summary>
    /// Response creation date
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Created
    {
      get => CreatedElement?.Value;
      set
      {
        CreatedElement = value is null ? null! : new Hl7.Fhir.Model.FhirDateTime(value);
        OnPropertyChanged("Created");
      }
    }

    /// <summary>
    /// Author of the claim.
    /// </summary>
    [FhirElement("enterer", Order=170, FiveWs="FiveWs.author")]
    [CLSCompliant(false)]
    [References("Practitioner","PractitionerRole")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Enterer
    {
      get
      {
        if(_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["enterer"]);
        return _Enterer;
      }

      set
      {
        if (_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("enterer");
        _Enterer = value;
        OnPropertyChanged("Enterer");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Enterer;

    /// <summary>
    /// Party responsible for reimbursement.
    /// </summary>
    [FhirElement("insurer", InSummary=true, Order=180, FiveWs="FiveWs.author")]
    [CLSCompliant(false)]
    [References("Organization")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference Insurer
    {
      get
      {
        if(_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["insurer"]);
        return _Insurer!;
      }

      set
      {
        if (_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("insurer");
        _Insurer = value;
        OnPropertyChanged("Insurer");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Insurer;

    /// <summary>
    /// Party responsible for the claim.
    /// </summary>
    [FhirElement("provider", InSummary=true, Order=190, FiveWs="FiveWs.source")]
    [CLSCompliant(false)]
    [References("Practitioner","PractitionerRole","Organization")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference Provider
    {
      get
      {
        if(_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["provider"]);
        return _Provider!;
      }

      set
      {
        if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("provider");
        _Provider = value;
        OnPropertyChanged("Provider");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Provider;

    /// <summary>
    /// Desired processing urgency.
    /// </summary>
    [FhirElement("priority", Order=200)]
    [Binding("ProcessPriority")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? Priority
    {
      get
      {
        if(_Priority.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["priority"]);
        return _Priority;
      }

      set
      {
        if (_Priority.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("priority");
        _Priority = value;
        OnPropertyChanged("Priority");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _Priority;

    /// <summary>
    /// For whom to reserve funds.
    /// </summary>
    [FhirElement("fundsReserveRequested", Order=210)]
    [Binding("FundsReserve")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? FundsReserveRequested
    {
      get
      {
        if(_FundsReserveRequested.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["fundsReserveRequested"]);
        return _FundsReserveRequested;
      }

      set
      {
        if (_FundsReserveRequested.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("fundsReserveRequested");
        _FundsReserveRequested = value;
        OnPropertyChanged("FundsReserveRequested");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _FundsReserveRequested;

    /// <summary>
    /// Funds reserved status.
    /// </summary>
    [FhirElement("fundsReserve", Order=220)]
    [Binding("FundsReserve")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? FundsReserve
    {
      get
      {
        if(_FundsReserve.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["fundsReserve"]);
        return _FundsReserve;
      }

      set
      {
        if (_FundsReserve.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("fundsReserve");
        _FundsReserve = value;
        OnPropertyChanged("FundsReserve");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _FundsReserve;

    /// <summary>
    /// Prior or corollary claims.
    /// </summary>
    [FhirElement("related", Order=230)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent> Related
    {
      get
      {
        if(_Related.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>), Overflow["related"]);
        return _Related ??= [];
      }

      set
      {
        if (_Related.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>>())
          Overflow.Remove("related");
        _Related = value;
        OnPropertyChanged("Related");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>? _Related;

    /// <summary>
    /// Prescription authorizing services or products.
    /// </summary>
    [FhirElement("prescription", Order=240)]
    [CLSCompliant(false)]
    [References("MedicationRequest","VisionPrescription")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Prescription
    {
      get
      {
        if(_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["prescription"]);
        return _Prescription;
      }

      set
      {
        if (_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("prescription");
        _Prescription = value;
        OnPropertyChanged("Prescription");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Prescription;

    /// <summary>
    /// Original prescription if superceded by fulfiller.
    /// </summary>
    [FhirElement("originalPrescription", Order=250)]
    [CLSCompliant(false)]
    [References("MedicationRequest")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? OriginalPrescription
    {
      get
      {
        if(_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["originalPrescription"]);
        return _OriginalPrescription;
      }

      set
      {
        if (_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("originalPrescription");
        _OriginalPrescription = value;
        OnPropertyChanged("OriginalPrescription");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _OriginalPrescription;

    /// <summary>
    /// Recipient of benefits payable.
    /// </summary>
    [FhirElement("payee", Order=260)]
    [DataMember]
    public Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent? Payee
    {
      get
      {
        if(_Payee.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent), Overflow["payee"]);
        return _Payee;
      }

      set
      {
        if (_Payee.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent>())
          Overflow.Remove("payee");
        _Payee = value;
        OnPropertyChanged("Payee");
      }

    }

    private Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent? _Payee;

    /// <summary>
    /// Treatment Referral.
    /// </summary>
    [FhirElement("referral", Order=270, FiveWs="FiveWs.cause")]
    [CLSCompliant(false)]
    [References("ServiceRequest")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Referral
    {
      get
      {
        if(_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["referral"]);
        return _Referral;
      }

      set
      {
        if (_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("referral");
        _Referral = value;
        OnPropertyChanged("Referral");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Referral;

    /// <summary>
    /// Servicing Facility.
    /// </summary>
    [FhirElement("facility", Order=280, FiveWs="FiveWs.where[x]")]
    [CLSCompliant(false)]
    [References("Location")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Facility
    {
      get
      {
        if(_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["facility"]);
        return _Facility;
      }

      set
      {
        if (_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("facility");
        _Facility = value;
        OnPropertyChanged("Facility");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Facility;

    /// <summary>
    /// Claim reference.
    /// </summary>
    [FhirElement("claim", Order=290, FiveWs="FiveWs.why[x]")]
    [CLSCompliant(false)]
    [References("Claim")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? Claim
    {
      get
      {
        if(_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["claim"]);
        return _Claim;
      }

      set
      {
        if (_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("claim");
        _Claim = value;
        OnPropertyChanged("Claim");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _Claim;

    /// <summary>
    /// Claim response reference.
    /// </summary>
    [FhirElement("claimResponse", Order=300)]
    [CLSCompliant(false)]
    [References("ClaimResponse")]
    [DataMember]
    public Hl7.Fhir.Model.ResourceReference? ClaimResponse
    {
      get
      {
        if(_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ResourceReference), Overflow["claimResponse"]);
        return _ClaimResponse;
      }

      set
      {
        if (_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          Overflow.Remove("claimResponse");
        _ClaimResponse = value;
        OnPropertyChanged("ClaimResponse");
      }

    }

    private Hl7.Fhir.Model.ResourceReference? _ClaimResponse;

    /// <summary>
    /// queued | complete | error | partial.
    /// </summary>
    [FhirElement("outcome", InSummary=true, Order=310)]
    [Binding("RemittanceOutcome")]
    [Cardinality(Min=1,Max=1)]
    [DataMember]
    public Code<Hl7.Fhir.Model.ClaimProcessingCodes> OutcomeElement
    {
      get
      {
        if(_OutcomeElement.InOverflow<Code<Hl7.Fhir.Model.ClaimProcessingCodes>>())
          throw CodedValidationException.FromTypes(typeof(Code<Hl7.Fhir.Model.ClaimProcessingCodes>), Overflow["outcome"]);
        return _OutcomeElement!;
      }

      set
      {
        if (_OutcomeElement.InOverflow<Code<Hl7.Fhir.Model.ClaimProcessingCodes>>())
          Overflow.Remove("outcome");
        _OutcomeElement = value;
        OnPropertyChanged("OutcomeElement");
      }

    }

    private Code<Hl7.Fhir.Model.ClaimProcessingCodes>? _OutcomeElement;

    /// <summary>
    /// queued | complete | error | partial
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public Hl7.Fhir.Model.ClaimProcessingCodes? Outcome
    {
      get => OutcomeElement?.Value;
      set
      {
        OutcomeElement = value is null ? null! : new Code<Hl7.Fhir.Model.ClaimProcessingCodes>(value);
        OnPropertyChanged("Outcome");
      }
    }

    /// <summary>
    /// Disposition Message.
    /// </summary>
    [FhirElement("disposition", Order=320)]
    [DataMember]
    public Hl7.Fhir.Model.FhirString? DispositionElement
    {
      get
      {
        if(_DispositionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.FhirString), Overflow["disposition"]);
        return _DispositionElement;
      }

      set
      {
        if (_DispositionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          Overflow.Remove("disposition");
        _DispositionElement = value;
        OnPropertyChanged("DispositionElement");
      }

    }

    private Hl7.Fhir.Model.FhirString? _DispositionElement;

    /// <summary>
    /// Disposition Message
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public string? Disposition
    {
      get => DispositionElement?.Value;
      set
      {
        DispositionElement = value is null ? null! : new Hl7.Fhir.Model.FhirString(value);
        OnPropertyChanged("Disposition");
      }
    }

    /// <summary>
    /// Preauthorization reference.
    /// </summary>
    [FhirElement("preAuthRef", Order=330)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.FhirString> PreAuthRefElement
    {
      get
      {
        if(_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.FhirString>), Overflow["preAuthRef"]);
        return _PreAuthRefElement ??= [];
      }

      set
      {
        if (_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
          Overflow.Remove("preAuthRef");
        _PreAuthRefElement = value;
        OnPropertyChanged("PreAuthRefElement");
      }

    }

    private List<Hl7.Fhir.Model.FhirString>? _PreAuthRefElement;

    /// <summary>
    /// Preauthorization reference
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public IEnumerable<string?> PreAuthRef
    {
      get => _PreAuthRefElement?.Select(elem => elem.Value) ?? [];
      set
      {
        if (value == null)
          PreAuthRefElement = null!;
        else
          PreAuthRefElement = new List<Hl7.Fhir.Model.FhirString>(value.Select(elem=>new Hl7.Fhir.Model.FhirString(elem)));
        OnPropertyChanged("PreAuthRef");
      }
    }

    /// <summary>
    /// Preauthorization in-effect period.
    /// </summary>
    [FhirElement("preAuthRefPeriod", Order=340)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.Period> PreAuthRefPeriod
    {
      get
      {
        if(_PreAuthRefPeriod.InOverflow<List<Hl7.Fhir.Model.Period>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.Period>), Overflow["preAuthRefPeriod"]);
        return _PreAuthRefPeriod ??= [];
      }

      set
      {
        if (_PreAuthRefPeriod.InOverflow<List<Hl7.Fhir.Model.Period>>())
          Overflow.Remove("preAuthRefPeriod");
        _PreAuthRefPeriod = value;
        OnPropertyChanged("PreAuthRefPeriod");
      }

    }

    private List<Hl7.Fhir.Model.Period>? _PreAuthRefPeriod;

    /// <summary>
    /// Care Team members.
    /// </summary>
    [FhirElement("careTeam", Order=350)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent> CareTeam
    {
      get
      {
        if(_CareTeam.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>), Overflow["careTeam"]);
        return _CareTeam ??= [];
      }

      set
      {
        if (_CareTeam.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>>())
          Overflow.Remove("careTeam");
        _CareTeam = value;
        OnPropertyChanged("CareTeam");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>? _CareTeam;

    /// <summary>
    /// Supporting information.
    /// </summary>
    [FhirElement("supportingInfo", Order=360)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent> SupportingInfo
    {
      get
      {
        if(_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>), Overflow["supportingInfo"]);
        return _SupportingInfo ??= [];
      }

      set
      {
        if (_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>>())
          Overflow.Remove("supportingInfo");
        _SupportingInfo = value;
        OnPropertyChanged("SupportingInfo");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>? _SupportingInfo;

    /// <summary>
    /// Pertinent diagnosis information.
    /// </summary>
    [FhirElement("diagnosis", Order=370)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent> Diagnosis
    {
      get
      {
        if(_Diagnosis.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>), Overflow["diagnosis"]);
        return _Diagnosis ??= [];
      }

      set
      {
        if (_Diagnosis.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>>())
          Overflow.Remove("diagnosis");
        _Diagnosis = value;
        OnPropertyChanged("Diagnosis");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>? _Diagnosis;

    /// <summary>
    /// Clinical procedures performed.
    /// </summary>
    [FhirElement("procedure", Order=380)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent> Procedure
    {
      get
      {
        if(_Procedure.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>), Overflow["procedure"]);
        return _Procedure ??= [];
      }

      set
      {
        if (_Procedure.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>>())
          Overflow.Remove("procedure");
        _Procedure = value;
        OnPropertyChanged("Procedure");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>? _Procedure;

    /// <summary>
    /// Precedence (primary, secondary, etc.).
    /// </summary>
    [FhirElement("precedence", Order=390)]
    [DataMember]
    public Hl7.Fhir.Model.PositiveInt? PrecedenceElement
    {
      get
      {
        if(_PrecedenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.PositiveInt), Overflow["precedence"]);
        return _PrecedenceElement;
      }

      set
      {
        if (_PrecedenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
          Overflow.Remove("precedence");
        _PrecedenceElement = value;
        OnPropertyChanged("PrecedenceElement");
      }

    }

    private Hl7.Fhir.Model.PositiveInt? _PrecedenceElement;

    /// <summary>
    /// Precedence (primary, secondary, etc.)
    /// </summary>
    /// <remarks>This uses the native .NET datatype, rather than the FHIR equivalent</remarks>
    [IgnoreDataMember]
    public int? Precedence
    {
      get => PrecedenceElement?.Value;
      set
      {
        PrecedenceElement = value is null ? null! : new Hl7.Fhir.Model.PositiveInt(value);
        OnPropertyChanged("Precedence");
      }
    }

    /// <summary>
    /// Patient insurance information.
    /// </summary>
    [FhirElement("insurance", InSummary=true, Order=400)]
    [Cardinality(Min=1,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent> Insurance
    {
      get
      {
        if(_Insurance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>), Overflow["insurance"]);
        return _Insurance ??= [];
      }

      set
      {
        if (_Insurance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>>())
          Overflow.Remove("insurance");
        _Insurance = value;
        OnPropertyChanged("Insurance");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>? _Insurance;

    /// <summary>
    /// Details of the event.
    /// </summary>
    [FhirElement("accident", Order=410)]
    [DataMember]
    public Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent? Accident
    {
      get
      {
        if(_Accident.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent), Overflow["accident"]);
        return _Accident;
      }

      set
      {
        if (_Accident.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent>())
          Overflow.Remove("accident");
        _Accident = value;
        OnPropertyChanged("Accident");
      }

    }

    private Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent? _Accident;

    /// <summary>
    /// Product or service provided.
    /// </summary>
    [FhirElement("item", Order=420)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent> Item
    {
      get
      {
        if(_Item.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>), Overflow["item"]);
        return _Item ??= [];
      }

      set
      {
        if (_Item.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>>())
          Overflow.Remove("item");
        _Item = value;
        OnPropertyChanged("Item");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>? _Item;

    /// <summary>
    /// Insurer added line items.
    /// </summary>
    [FhirElement("addItem", Order=430)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent> AddItem
    {
      get
      {
        if(_AddItem.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>), Overflow["addItem"]);
        return _AddItem ??= [];
      }

      set
      {
        if (_AddItem.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>>())
          Overflow.Remove("addItem");
        _AddItem = value;
        OnPropertyChanged("AddItem");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>? _AddItem;

    /// <summary>
    /// Header-level adjudication.
    /// </summary>
    [FhirElement("adjudication", Order=440)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> Adjudication
    {
      get
      {
        if(_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>), Overflow["adjudication"]);
        return _Adjudication ??= [];
      }

      set
      {
        if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
          Overflow.Remove("adjudication");
        _Adjudication = value;
        OnPropertyChanged("Adjudication");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>? _Adjudication;

    /// <summary>
    /// Adjudication totals.
    /// </summary>
    [FhirElement("total", InSummary=true, Order=450)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent> Total
    {
      get
      {
        if(_Total.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent>), Overflow["total"]);
        return _Total ??= [];
      }

      set
      {
        if (_Total.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent>>())
          Overflow.Remove("total");
        _Total = value;
        OnPropertyChanged("Total");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent>? _Total;

    /// <summary>
    /// Payment Details.
    /// </summary>
    [FhirElement("payment", Order=460)]
    [DataMember]
    public Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent? Payment
    {
      get
      {
        if(_Payment.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent), Overflow["payment"]);
        return _Payment;
      }

      set
      {
        if (_Payment.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent>())
          Overflow.Remove("payment");
        _Payment = value;
        OnPropertyChanged("Payment");
      }

    }

    private Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent? _Payment;

    /// <summary>
    /// Printed form identifier.
    /// </summary>
    [FhirElement("formCode", Order=470)]
    [Binding("Forms")]
    [DataMember]
    public Hl7.Fhir.Model.CodeableConcept? FormCode
    {
      get
      {
        if(_FormCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.CodeableConcept), Overflow["formCode"]);
        return _FormCode;
      }

      set
      {
        if (_FormCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          Overflow.Remove("formCode");
        _FormCode = value;
        OnPropertyChanged("FormCode");
      }

    }

    private Hl7.Fhir.Model.CodeableConcept? _FormCode;

    /// <summary>
    /// Printed reference or actual form.
    /// </summary>
    [FhirElement("form", Order=480)]
    [DataMember]
    public Hl7.Fhir.Model.Attachment? Form
    {
      get
      {
        if(_Form.InOverflow<Hl7.Fhir.Model.Attachment>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Attachment), Overflow["form"]);
        return _Form;
      }

      set
      {
        if (_Form.InOverflow<Hl7.Fhir.Model.Attachment>())
          Overflow.Remove("form");
        _Form = value;
        OnPropertyChanged("Form");
      }

    }

    private Hl7.Fhir.Model.Attachment? _Form;

    /// <summary>
    /// Note concerning adjudication.
    /// </summary>
    [FhirElement("processNote", Order=490)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent> ProcessNote
    {
      get
      {
        if(_ProcessNote.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>), Overflow["processNote"]);
        return _ProcessNote ??= [];
      }

      set
      {
        if (_ProcessNote.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>>())
          Overflow.Remove("processNote");
        _ProcessNote = value;
        OnPropertyChanged("ProcessNote");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>? _ProcessNote;

    /// <summary>
    /// When the benefits are applicable.
    /// </summary>
    [FhirElement("benefitPeriod", Order=500)]
    [DataMember]
    public Hl7.Fhir.Model.Period? BenefitPeriod
    {
      get
      {
        if(_BenefitPeriod.InOverflow<Hl7.Fhir.Model.Period>())
          throw CodedValidationException.FromTypes(typeof(Hl7.Fhir.Model.Period), Overflow["benefitPeriod"]);
        return _BenefitPeriod;
      }

      set
      {
        if (_BenefitPeriod.InOverflow<Hl7.Fhir.Model.Period>())
          Overflow.Remove("benefitPeriod");
        _BenefitPeriod = value;
        OnPropertyChanged("BenefitPeriod");
      }

    }

    private Hl7.Fhir.Model.Period? _BenefitPeriod;

    /// <summary>
    /// Balance by Benefit Category.
    /// </summary>
    [FhirElement("benefitBalance", Order=510)]
    [Cardinality(Min=0,Max=-1)]
    [DataMember]
    [AllowNull]
    public List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent> BenefitBalance
    {
      get
      {
        if(_BenefitBalance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>>())
          throw CodedValidationException.FromTypes(typeof(List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>), Overflow["benefitBalance"]);
        return _BenefitBalance ??= [];
      }

      set
      {
        if (_BenefitBalance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>>())
          Overflow.Remove("benefitBalance");
        _BenefitBalance = value;
        OnPropertyChanged("BenefitBalance");
      }

    }

    private List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>? _BenefitBalance;

    List<Identifier> IIdentifiable<List<Identifier>>.Identifier { get => Identifier; set => Identifier = value!; }

    Hl7.Fhir.Model.CodeableConcept? ICoded<Hl7.Fhir.Model.CodeableConcept?>.Code { get => Type; set => Type = value!; }
    IReadOnlyCollection<Coding> ICoded.ToCodings() => Type?.ToCodings() ?? [];

    protected internal override void CopyToInternal(Base other)
    {
      if(other is not ExplanationOfBenefit dest)
        throw new ArgumentException("Can only copy to an object of the same type", "other");

      base.CopyToInternal(dest);
      if(_Identifier is not null) dest.Identifier = new List<Hl7.Fhir.Model.Identifier>(_Identifier.DeepCopyInternal());
      if(_StatusElement is not null) dest.StatusElement = (Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>)_StatusElement.DeepCopyInternal();
      if(_Type is not null) dest.Type = (Hl7.Fhir.Model.CodeableConcept)_Type.DeepCopyInternal();
      if(_SubType is not null) dest.SubType = (Hl7.Fhir.Model.CodeableConcept)_SubType.DeepCopyInternal();
      if(_UseElement is not null) dest.UseElement = (Code<Hl7.Fhir.Model.ClaimUseCode>)_UseElement.DeepCopyInternal();
      if(_Patient is not null) dest.Patient = (Hl7.Fhir.Model.ResourceReference)_Patient.DeepCopyInternal();
      if(_BillablePeriod is not null) dest.BillablePeriod = (Hl7.Fhir.Model.Period)_BillablePeriod.DeepCopyInternal();
      if(_CreatedElement is not null) dest.CreatedElement = (Hl7.Fhir.Model.FhirDateTime)_CreatedElement.DeepCopyInternal();
      if(_Enterer is not null) dest.Enterer = (Hl7.Fhir.Model.ResourceReference)_Enterer.DeepCopyInternal();
      if(_Insurer is not null) dest.Insurer = (Hl7.Fhir.Model.ResourceReference)_Insurer.DeepCopyInternal();
      if(_Provider is not null) dest.Provider = (Hl7.Fhir.Model.ResourceReference)_Provider.DeepCopyInternal();
      if(_Priority is not null) dest.Priority = (Hl7.Fhir.Model.CodeableConcept)_Priority.DeepCopyInternal();
      if(_FundsReserveRequested is not null) dest.FundsReserveRequested = (Hl7.Fhir.Model.CodeableConcept)_FundsReserveRequested.DeepCopyInternal();
      if(_FundsReserve is not null) dest.FundsReserve = (Hl7.Fhir.Model.CodeableConcept)_FundsReserve.DeepCopyInternal();
      if(_Related is not null) dest.Related = new List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>(_Related.DeepCopyInternal());
      if(_Prescription is not null) dest.Prescription = (Hl7.Fhir.Model.ResourceReference)_Prescription.DeepCopyInternal();
      if(_OriginalPrescription is not null) dest.OriginalPrescription = (Hl7.Fhir.Model.ResourceReference)_OriginalPrescription.DeepCopyInternal();
      if(_Payee is not null) dest.Payee = (Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent)_Payee.DeepCopyInternal();
      if(_Referral is not null) dest.Referral = (Hl7.Fhir.Model.ResourceReference)_Referral.DeepCopyInternal();
      if(_Facility is not null) dest.Facility = (Hl7.Fhir.Model.ResourceReference)_Facility.DeepCopyInternal();
      if(_Claim is not null) dest.Claim = (Hl7.Fhir.Model.ResourceReference)_Claim.DeepCopyInternal();
      if(_ClaimResponse is not null) dest.ClaimResponse = (Hl7.Fhir.Model.ResourceReference)_ClaimResponse.DeepCopyInternal();
      if(_OutcomeElement is not null) dest.OutcomeElement = (Code<Hl7.Fhir.Model.ClaimProcessingCodes>)_OutcomeElement.DeepCopyInternal();
      if(_DispositionElement is not null) dest.DispositionElement = (Hl7.Fhir.Model.FhirString)_DispositionElement.DeepCopyInternal();
      if(_PreAuthRefElement is not null) dest.PreAuthRefElement = new List<Hl7.Fhir.Model.FhirString>(_PreAuthRefElement.DeepCopyInternal());
      if(_PreAuthRefPeriod is not null) dest.PreAuthRefPeriod = new List<Hl7.Fhir.Model.Period>(_PreAuthRefPeriod.DeepCopyInternal());
      if(_CareTeam is not null) dest.CareTeam = new List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>(_CareTeam.DeepCopyInternal());
      if(_SupportingInfo is not null) dest.SupportingInfo = new List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>(_SupportingInfo.DeepCopyInternal());
      if(_Diagnosis is not null) dest.Diagnosis = new List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>(_Diagnosis.DeepCopyInternal());
      if(_Procedure is not null) dest.Procedure = new List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>(_Procedure.DeepCopyInternal());
      if(_PrecedenceElement is not null) dest.PrecedenceElement = (Hl7.Fhir.Model.PositiveInt)_PrecedenceElement.DeepCopyInternal();
      if(_Insurance is not null) dest.Insurance = new List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>(_Insurance.DeepCopyInternal());
      if(_Accident is not null) dest.Accident = (Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent)_Accident.DeepCopyInternal();
      if(_Item is not null) dest.Item = new List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>(_Item.DeepCopyInternal());
      if(_AddItem is not null) dest.AddItem = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>(_AddItem.DeepCopyInternal());
      if(_Adjudication is not null) dest.Adjudication = new List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>(_Adjudication.DeepCopyInternal());
      if(_Total is not null) dest.Total = new List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent>(_Total.DeepCopyInternal());
      if(_Payment is not null) dest.Payment = (Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent)_Payment.DeepCopyInternal();
      if(_FormCode is not null) dest.FormCode = (Hl7.Fhir.Model.CodeableConcept)_FormCode.DeepCopyInternal();
      if(_Form is not null) dest.Form = (Hl7.Fhir.Model.Attachment)_Form.DeepCopyInternal();
      if(_ProcessNote is not null) dest.ProcessNote = new List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>(_ProcessNote.DeepCopyInternal());
      if(_BenefitPeriod is not null) dest.BenefitPeriod = (Hl7.Fhir.Model.Period)_BenefitPeriod.DeepCopyInternal();
      if(_BenefitBalance is not null) dest.BenefitBalance = new List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>(_BenefitBalance.DeepCopyInternal());
    }

    protected internal override Base DeepCopyInternal()
    {
      var instance = new ExplanationOfBenefit();
      CopyToInternal(instance);
      return instance;
    }

    public override bool CompareChildren(Base other, IEqualityComparer<Base> comparer)
    {
      if(other is not ExplanationOfBenefit otherT) return false;

      if(!base.CompareChildren(otherT, comparer)) return false;
      #pragma warning disable CS8604 // Possible null reference argument - netstd2.1 has a wrong nullable signature here
      if(!comparer.ListEquals(_Identifier, otherT._Identifier)) return false;
      if(!comparer.Equals(_StatusElement, otherT._StatusElement)) return false;
      if(!comparer.Equals(_Type, otherT._Type)) return false;
      if(!comparer.Equals(_SubType, otherT._SubType)) return false;
      if(!comparer.Equals(_UseElement, otherT._UseElement)) return false;
      if(!comparer.Equals(_Patient, otherT._Patient)) return false;
      if(!comparer.Equals(_BillablePeriod, otherT._BillablePeriod)) return false;
      if(!comparer.Equals(_CreatedElement, otherT._CreatedElement)) return false;
      if(!comparer.Equals(_Enterer, otherT._Enterer)) return false;
      if(!comparer.Equals(_Insurer, otherT._Insurer)) return false;
      if(!comparer.Equals(_Provider, otherT._Provider)) return false;
      if(!comparer.Equals(_Priority, otherT._Priority)) return false;
      if(!comparer.Equals(_FundsReserveRequested, otherT._FundsReserveRequested)) return false;
      if(!comparer.Equals(_FundsReserve, otherT._FundsReserve)) return false;
      if(!comparer.ListEquals(_Related, otherT._Related)) return false;
      if(!comparer.Equals(_Prescription, otherT._Prescription)) return false;
      if(!comparer.Equals(_OriginalPrescription, otherT._OriginalPrescription)) return false;
      if(!comparer.Equals(_Payee, otherT._Payee)) return false;
      if(!comparer.Equals(_Referral, otherT._Referral)) return false;
      if(!comparer.Equals(_Facility, otherT._Facility)) return false;
      if(!comparer.Equals(_Claim, otherT._Claim)) return false;
      if(!comparer.Equals(_ClaimResponse, otherT._ClaimResponse)) return false;
      if(!comparer.Equals(_OutcomeElement, otherT._OutcomeElement)) return false;
      if(!comparer.Equals(_DispositionElement, otherT._DispositionElement)) return false;
      if(!comparer.ListEquals(_PreAuthRefElement, otherT._PreAuthRefElement)) return false;
      if(!comparer.ListEquals(_PreAuthRefPeriod, otherT._PreAuthRefPeriod)) return false;
      if(!comparer.ListEquals(_CareTeam, otherT._CareTeam)) return false;
      if(!comparer.ListEquals(_SupportingInfo, otherT._SupportingInfo)) return false;
      if(!comparer.ListEquals(_Diagnosis, otherT._Diagnosis)) return false;
      if(!comparer.ListEquals(_Procedure, otherT._Procedure)) return false;
      if(!comparer.Equals(_PrecedenceElement, otherT._PrecedenceElement)) return false;
      if(!comparer.ListEquals(_Insurance, otherT._Insurance)) return false;
      if(!comparer.Equals(_Accident, otherT._Accident)) return false;
      if(!comparer.ListEquals(_Item, otherT._Item)) return false;
      if(!comparer.ListEquals(_AddItem, otherT._AddItem)) return false;
      if(!comparer.ListEquals(_Adjudication, otherT._Adjudication)) return false;
      if(!comparer.ListEquals(_Total, otherT._Total)) return false;
      if(!comparer.Equals(_Payment, otherT._Payment)) return false;
      if(!comparer.Equals(_FormCode, otherT._FormCode)) return false;
      if(!comparer.Equals(_Form, otherT._Form)) return false;
      if(!comparer.ListEquals(_ProcessNote, otherT._ProcessNote)) return false;
      if(!comparer.Equals(_BenefitPeriod, otherT._BenefitPeriod)) return false;
      if(!comparer.ListEquals(_BenefitBalance, otherT._BenefitBalance)) return false;
      #pragma warning restore CS8604 // Possible null reference argument.

      return true;
    }

    public override bool TryGetValue(string key, [NotNullWhen(true)] out object? value)
    {
      switch (key)
      {
        case "identifier":
          if (_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>())
          {
            value = Overflow["identifier"];
            return true;
          }
          value = _Identifier;
          return (value as List<Hl7.Fhir.Model.Identifier>)?.Any() is true;
        case "status":
          if (_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>>())
          {
            value = Overflow["status"];
            return true;
          }
          value = _StatusElement;
          return (value as Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>) is not null;
        case "type":
          if (_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["type"];
            return true;
          }
          value = _Type;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "subType":
          if (_SubType.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["subType"];
            return true;
          }
          value = _SubType;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "use":
          if (_UseElement.InOverflow<Code<Hl7.Fhir.Model.ClaimUseCode>>())
          {
            value = Overflow["use"];
            return true;
          }
          value = _UseElement;
          return (value as Code<Hl7.Fhir.Model.ClaimUseCode>) is not null;
        case "patient":
          if (_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["patient"];
            return true;
          }
          value = _Patient;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "billablePeriod":
          if (_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>())
          {
            value = Overflow["billablePeriod"];
            return true;
          }
          value = _BillablePeriod;
          return (value as Hl7.Fhir.Model.Period) is not null;
        case "created":
          if (_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>())
          {
            value = Overflow["created"];
            return true;
          }
          value = _CreatedElement;
          return (value as Hl7.Fhir.Model.FhirDateTime) is not null;
        case "enterer":
          if (_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["enterer"];
            return true;
          }
          value = _Enterer;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "insurer":
          if (_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["insurer"];
            return true;
          }
          value = _Insurer;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "provider":
          if (_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["provider"];
            return true;
          }
          value = _Provider;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "priority":
          if (_Priority.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["priority"];
            return true;
          }
          value = _Priority;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "fundsReserveRequested":
          if (_FundsReserveRequested.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["fundsReserveRequested"];
            return true;
          }
          value = _FundsReserveRequested;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "fundsReserve":
          if (_FundsReserve.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["fundsReserve"];
            return true;
          }
          value = _FundsReserve;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "related":
          if (_Related.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>>())
          {
            value = Overflow["related"];
            return true;
          }
          value = _Related;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>)?.Any() is true;
        case "prescription":
          if (_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["prescription"];
            return true;
          }
          value = _Prescription;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "originalPrescription":
          if (_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["originalPrescription"];
            return true;
          }
          value = _OriginalPrescription;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "payee":
          if (_Payee.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent>())
          {
            value = Overflow["payee"];
            return true;
          }
          value = _Payee;
          return (value as Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent) is not null;
        case "referral":
          if (_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["referral"];
            return true;
          }
          value = _Referral;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "facility":
          if (_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["facility"];
            return true;
          }
          value = _Facility;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "claim":
          if (_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["claim"];
            return true;
          }
          value = _Claim;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "claimResponse":
          if (_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>())
          {
            value = Overflow["claimResponse"];
            return true;
          }
          value = _ClaimResponse;
          return (value as Hl7.Fhir.Model.ResourceReference) is not null;
        case "outcome":
          if (_OutcomeElement.InOverflow<Code<Hl7.Fhir.Model.ClaimProcessingCodes>>())
          {
            value = Overflow["outcome"];
            return true;
          }
          value = _OutcomeElement;
          return (value as Code<Hl7.Fhir.Model.ClaimProcessingCodes>) is not null;
        case "disposition":
          if (_DispositionElement.InOverflow<Hl7.Fhir.Model.FhirString>())
          {
            value = Overflow["disposition"];
            return true;
          }
          value = _DispositionElement;
          return (value as Hl7.Fhir.Model.FhirString) is not null;
        case "preAuthRef":
          if (_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>())
          {
            value = Overflow["preAuthRef"];
            return true;
          }
          value = _PreAuthRefElement;
          return (value as List<Hl7.Fhir.Model.FhirString>)?.Any() is true;
        case "preAuthRefPeriod":
          if (_PreAuthRefPeriod.InOverflow<List<Hl7.Fhir.Model.Period>>())
          {
            value = Overflow["preAuthRefPeriod"];
            return true;
          }
          value = _PreAuthRefPeriod;
          return (value as List<Hl7.Fhir.Model.Period>)?.Any() is true;
        case "careTeam":
          if (_CareTeam.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>>())
          {
            value = Overflow["careTeam"];
            return true;
          }
          value = _CareTeam;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>)?.Any() is true;
        case "supportingInfo":
          if (_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>>())
          {
            value = Overflow["supportingInfo"];
            return true;
          }
          value = _SupportingInfo;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>)?.Any() is true;
        case "diagnosis":
          if (_Diagnosis.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>>())
          {
            value = Overflow["diagnosis"];
            return true;
          }
          value = _Diagnosis;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>)?.Any() is true;
        case "procedure":
          if (_Procedure.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>>())
          {
            value = Overflow["procedure"];
            return true;
          }
          value = _Procedure;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>)?.Any() is true;
        case "precedence":
          if (_PrecedenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>())
          {
            value = Overflow["precedence"];
            return true;
          }
          value = _PrecedenceElement;
          return (value as Hl7.Fhir.Model.PositiveInt) is not null;
        case "insurance":
          if (_Insurance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>>())
          {
            value = Overflow["insurance"];
            return true;
          }
          value = _Insurance;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>)?.Any() is true;
        case "accident":
          if (_Accident.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent>())
          {
            value = Overflow["accident"];
            return true;
          }
          value = _Accident;
          return (value as Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent) is not null;
        case "item":
          if (_Item.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>>())
          {
            value = Overflow["item"];
            return true;
          }
          value = _Item;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>)?.Any() is true;
        case "addItem":
          if (_AddItem.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>>())
          {
            value = Overflow["addItem"];
            return true;
          }
          value = _AddItem;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>)?.Any() is true;
        case "adjudication":
          if (_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>())
          {
            value = Overflow["adjudication"];
            return true;
          }
          value = _Adjudication;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>)?.Any() is true;
        case "total":
          if (_Total.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent>>())
          {
            value = Overflow["total"];
            return true;
          }
          value = _Total;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent>)?.Any() is true;
        case "payment":
          if (_Payment.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent>())
          {
            value = Overflow["payment"];
            return true;
          }
          value = _Payment;
          return (value as Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent) is not null;
        case "formCode":
          if (_FormCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>())
          {
            value = Overflow["formCode"];
            return true;
          }
          value = _FormCode;
          return (value as Hl7.Fhir.Model.CodeableConcept) is not null;
        case "form":
          if (_Form.InOverflow<Hl7.Fhir.Model.Attachment>())
          {
            value = Overflow["form"];
            return true;
          }
          value = _Form;
          return (value as Hl7.Fhir.Model.Attachment) is not null;
        case "processNote":
          if (_ProcessNote.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>>())
          {
            value = Overflow["processNote"];
            return true;
          }
          value = _ProcessNote;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>)?.Any() is true;
        case "benefitPeriod":
          if (_BenefitPeriod.InOverflow<Hl7.Fhir.Model.Period>())
          {
            value = Overflow["benefitPeriod"];
            return true;
          }
          value = _BenefitPeriod;
          return (value as Hl7.Fhir.Model.Period) is not null;
        case "benefitBalance":
          if (_BenefitBalance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>>())
          {
            value = Overflow["benefitBalance"];
            return true;
          }
          value = _BenefitBalance;
          return (value as List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>)?.Any() is true;
        default:
          return base.TryGetValue(key, out value);
      }

    }

    public override Base SetValue(string key, object? value)
    {
      if(value is not (null or Hl7.Fhir.Model.Base or IList)) throw new ArgumentException("Value must be a Base or a list of Base", nameof(value));
      switch (key)
      {
        case "identifier":
          if (value is not (List<Hl7.Fhir.Model.Identifier> or null))
          {
            Identifier = OverflowNull<List<Hl7.Fhir.Model.Identifier>>.INSTANCE;
            Overflow["identifier"] = value;
          }
          else Identifier = (List<Hl7.Fhir.Model.Identifier>?)value!;
          return this;
        case "status":
          if (value is not (Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus> or null))
          {
            StatusElement = OverflowNull<Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>>.INSTANCE;
            Overflow["status"] = value;
          }
          else StatusElement = (Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>?)value!;
          return this;
        case "type":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Type = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["type"] = value;
          }
          else Type = (Hl7.Fhir.Model.CodeableConcept?)value!;
          return this;
        case "subType":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            SubType = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["subType"] = value;
          }
          else SubType = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "use":
          if (value is not (Code<Hl7.Fhir.Model.ClaimUseCode> or null))
          {
            UseElement = OverflowNull<Code<Hl7.Fhir.Model.ClaimUseCode>>.INSTANCE;
            Overflow["use"] = value;
          }
          else UseElement = (Code<Hl7.Fhir.Model.ClaimUseCode>?)value!;
          return this;
        case "patient":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Patient = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["patient"] = value;
          }
          else Patient = (Hl7.Fhir.Model.ResourceReference?)value!;
          return this;
        case "billablePeriod":
          if (value is not (Hl7.Fhir.Model.Period or null))
          {
            BillablePeriod = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
            Overflow["billablePeriod"] = value;
          }
          else BillablePeriod = (Hl7.Fhir.Model.Period?)value;
          return this;
        case "created":
          if (value is not (Hl7.Fhir.Model.FhirDateTime or null))
          {
            CreatedElement = OverflowNull<Hl7.Fhir.Model.FhirDateTime>.INSTANCE;
            Overflow["created"] = value;
          }
          else CreatedElement = (Hl7.Fhir.Model.FhirDateTime?)value!;
          return this;
        case "enterer":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Enterer = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["enterer"] = value;
          }
          else Enterer = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "insurer":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Insurer = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["insurer"] = value;
          }
          else Insurer = (Hl7.Fhir.Model.ResourceReference?)value!;
          return this;
        case "provider":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Provider = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["provider"] = value;
          }
          else Provider = (Hl7.Fhir.Model.ResourceReference?)value!;
          return this;
        case "priority":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            Priority = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["priority"] = value;
          }
          else Priority = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "fundsReserveRequested":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            FundsReserveRequested = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["fundsReserveRequested"] = value;
          }
          else FundsReserveRequested = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "fundsReserve":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            FundsReserve = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["fundsReserve"] = value;
          }
          else FundsReserve = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "related":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent> or null))
          {
            Related = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>>.INSTANCE;
            Overflow["related"] = value;
          }
          else Related = (List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>?)value!;
          return this;
        case "prescription":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Prescription = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["prescription"] = value;
          }
          else Prescription = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "originalPrescription":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            OriginalPrescription = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["originalPrescription"] = value;
          }
          else OriginalPrescription = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "payee":
          if (value is not (Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent or null))
          {
            Payee = OverflowNull<Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent>.INSTANCE;
            Overflow["payee"] = value;
          }
          else Payee = (Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent?)value;
          return this;
        case "referral":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Referral = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["referral"] = value;
          }
          else Referral = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "facility":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Facility = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["facility"] = value;
          }
          else Facility = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "claim":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            Claim = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["claim"] = value;
          }
          else Claim = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "claimResponse":
          if (value is not (Hl7.Fhir.Model.ResourceReference or null))
          {
            ClaimResponse = OverflowNull<Hl7.Fhir.Model.ResourceReference>.INSTANCE;
            Overflow["claimResponse"] = value;
          }
          else ClaimResponse = (Hl7.Fhir.Model.ResourceReference?)value;
          return this;
        case "outcome":
          if (value is not (Code<Hl7.Fhir.Model.ClaimProcessingCodes> or null))
          {
            OutcomeElement = OverflowNull<Code<Hl7.Fhir.Model.ClaimProcessingCodes>>.INSTANCE;
            Overflow["outcome"] = value;
          }
          else OutcomeElement = (Code<Hl7.Fhir.Model.ClaimProcessingCodes>?)value!;
          return this;
        case "disposition":
          if (value is not (Hl7.Fhir.Model.FhirString or null))
          {
            DispositionElement = OverflowNull<Hl7.Fhir.Model.FhirString>.INSTANCE;
            Overflow["disposition"] = value;
          }
          else DispositionElement = (Hl7.Fhir.Model.FhirString?)value;
          return this;
        case "preAuthRef":
          if (value is not (List<Hl7.Fhir.Model.FhirString> or null))
          {
            PreAuthRefElement = OverflowNull<List<Hl7.Fhir.Model.FhirString>>.INSTANCE;
            Overflow["preAuthRef"] = value;
          }
          else PreAuthRefElement = (List<Hl7.Fhir.Model.FhirString>?)value!;
          return this;
        case "preAuthRefPeriod":
          if (value is not (List<Hl7.Fhir.Model.Period> or null))
          {
            PreAuthRefPeriod = OverflowNull<List<Hl7.Fhir.Model.Period>>.INSTANCE;
            Overflow["preAuthRefPeriod"] = value;
          }
          else PreAuthRefPeriod = (List<Hl7.Fhir.Model.Period>?)value!;
          return this;
        case "careTeam":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent> or null))
          {
            CareTeam = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>>.INSTANCE;
            Overflow["careTeam"] = value;
          }
          else CareTeam = (List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>?)value!;
          return this;
        case "supportingInfo":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent> or null))
          {
            SupportingInfo = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>>.INSTANCE;
            Overflow["supportingInfo"] = value;
          }
          else SupportingInfo = (List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>?)value!;
          return this;
        case "diagnosis":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent> or null))
          {
            Diagnosis = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>>.INSTANCE;
            Overflow["diagnosis"] = value;
          }
          else Diagnosis = (List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>?)value!;
          return this;
        case "procedure":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent> or null))
          {
            Procedure = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>>.INSTANCE;
            Overflow["procedure"] = value;
          }
          else Procedure = (List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>?)value!;
          return this;
        case "precedence":
          if (value is not (Hl7.Fhir.Model.PositiveInt or null))
          {
            PrecedenceElement = OverflowNull<Hl7.Fhir.Model.PositiveInt>.INSTANCE;
            Overflow["precedence"] = value;
          }
          else PrecedenceElement = (Hl7.Fhir.Model.PositiveInt?)value;
          return this;
        case "insurance":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent> or null))
          {
            Insurance = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>>.INSTANCE;
            Overflow["insurance"] = value;
          }
          else Insurance = (List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>?)value!;
          return this;
        case "accident":
          if (value is not (Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent or null))
          {
            Accident = OverflowNull<Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent>.INSTANCE;
            Overflow["accident"] = value;
          }
          else Accident = (Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent?)value;
          return this;
        case "item":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent> or null))
          {
            Item = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>>.INSTANCE;
            Overflow["item"] = value;
          }
          else Item = (List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>?)value!;
          return this;
        case "addItem":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent> or null))
          {
            AddItem = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>>.INSTANCE;
            Overflow["addItem"] = value;
          }
          else AddItem = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>?)value!;
          return this;
        case "adjudication":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent> or null))
          {
            Adjudication = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>.INSTANCE;
            Overflow["adjudication"] = value;
          }
          else Adjudication = (List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>?)value!;
          return this;
        case "total":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent> or null))
          {
            Total = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent>>.INSTANCE;
            Overflow["total"] = value;
          }
          else Total = (List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent>?)value!;
          return this;
        case "payment":
          if (value is not (Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent or null))
          {
            Payment = OverflowNull<Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent>.INSTANCE;
            Overflow["payment"] = value;
          }
          else Payment = (Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent?)value;
          return this;
        case "formCode":
          if (value is not (Hl7.Fhir.Model.CodeableConcept or null))
          {
            FormCode = OverflowNull<Hl7.Fhir.Model.CodeableConcept>.INSTANCE;
            Overflow["formCode"] = value;
          }
          else FormCode = (Hl7.Fhir.Model.CodeableConcept?)value;
          return this;
        case "form":
          if (value is not (Hl7.Fhir.Model.Attachment or null))
          {
            Form = OverflowNull<Hl7.Fhir.Model.Attachment>.INSTANCE;
            Overflow["form"] = value;
          }
          else Form = (Hl7.Fhir.Model.Attachment?)value;
          return this;
        case "processNote":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent> or null))
          {
            ProcessNote = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>>.INSTANCE;
            Overflow["processNote"] = value;
          }
          else ProcessNote = (List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>?)value!;
          return this;
        case "benefitPeriod":
          if (value is not (Hl7.Fhir.Model.Period or null))
          {
            BenefitPeriod = OverflowNull<Hl7.Fhir.Model.Period>.INSTANCE;
            Overflow["benefitPeriod"] = value;
          }
          else BenefitPeriod = (Hl7.Fhir.Model.Period?)value;
          return this;
        case "benefitBalance":
          if (value is not (List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent> or null))
          {
            BenefitBalance = OverflowNull<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>>.INSTANCE;
            Overflow["benefitBalance"] = value;
          }
          else BenefitBalance = (List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>?)value!;
          return this;
        default:
          return base.SetValue(key, value);
      }

    }

    public override IEnumerable<KeyValuePair<string, object>> EnumerateElements()
    {
      foreach (var kvp in base.EnumerateElements()) yield return kvp;
      if (_Identifier?.Any() is true && !_Identifier.InOverflow<List<Hl7.Fhir.Model.Identifier>>()) yield return new KeyValuePair<string,object>("identifier",_Identifier);
      if (_StatusElement is not null && !_StatusElement.InOverflow<Code<Hl7.Fhir.Model.ExplanationOfBenefit.ExplanationOfBenefitStatus>>()) yield return new KeyValuePair<string,object>("status",_StatusElement);
      if (_Type is not null && !_Type.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("type",_Type);
      if (_SubType is not null && !_SubType.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("subType",_SubType);
      if (_UseElement is not null && !_UseElement.InOverflow<Code<Hl7.Fhir.Model.ClaimUseCode>>()) yield return new KeyValuePair<string,object>("use",_UseElement);
      if (_Patient is not null && !_Patient.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("patient",_Patient);
      if (_BillablePeriod is not null && !_BillablePeriod.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("billablePeriod",_BillablePeriod);
      if (_CreatedElement is not null && !_CreatedElement.InOverflow<Hl7.Fhir.Model.FhirDateTime>()) yield return new KeyValuePair<string,object>("created",_CreatedElement);
      if (_Enterer is not null && !_Enterer.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("enterer",_Enterer);
      if (_Insurer is not null && !_Insurer.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("insurer",_Insurer);
      if (_Provider is not null && !_Provider.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("provider",_Provider);
      if (_Priority is not null && !_Priority.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("priority",_Priority);
      if (_FundsReserveRequested is not null && !_FundsReserveRequested.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("fundsReserveRequested",_FundsReserveRequested);
      if (_FundsReserve is not null && !_FundsReserve.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("fundsReserve",_FundsReserve);
      if (_Related?.Any() is true && !_Related.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.RelatedClaimComponent>>()) yield return new KeyValuePair<string,object>("related",_Related);
      if (_Prescription is not null && !_Prescription.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("prescription",_Prescription);
      if (_OriginalPrescription is not null && !_OriginalPrescription.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("originalPrescription",_OriginalPrescription);
      if (_Payee is not null && !_Payee.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PayeeComponent>()) yield return new KeyValuePair<string,object>("payee",_Payee);
      if (_Referral is not null && !_Referral.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("referral",_Referral);
      if (_Facility is not null && !_Facility.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("facility",_Facility);
      if (_Claim is not null && !_Claim.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("claim",_Claim);
      if (_ClaimResponse is not null && !_ClaimResponse.InOverflow<Hl7.Fhir.Model.ResourceReference>()) yield return new KeyValuePair<string,object>("claimResponse",_ClaimResponse);
      if (_OutcomeElement is not null && !_OutcomeElement.InOverflow<Code<Hl7.Fhir.Model.ClaimProcessingCodes>>()) yield return new KeyValuePair<string,object>("outcome",_OutcomeElement);
      if (_DispositionElement is not null && !_DispositionElement.InOverflow<Hl7.Fhir.Model.FhirString>()) yield return new KeyValuePair<string,object>("disposition",_DispositionElement);
      if (_PreAuthRefElement?.Any() is true && !_PreAuthRefElement.InOverflow<List<Hl7.Fhir.Model.FhirString>>()) yield return new KeyValuePair<string,object>("preAuthRef",_PreAuthRefElement);
      if (_PreAuthRefPeriod?.Any() is true && !_PreAuthRefPeriod.InOverflow<List<Hl7.Fhir.Model.Period>>()) yield return new KeyValuePair<string,object>("preAuthRefPeriod",_PreAuthRefPeriod);
      if (_CareTeam?.Any() is true && !_CareTeam.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.CareTeamComponent>>()) yield return new KeyValuePair<string,object>("careTeam",_CareTeam);
      if (_SupportingInfo?.Any() is true && !_SupportingInfo.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.SupportingInformationComponent>>()) yield return new KeyValuePair<string,object>("supportingInfo",_SupportingInfo);
      if (_Diagnosis?.Any() is true && !_Diagnosis.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.DiagnosisComponent>>()) yield return new KeyValuePair<string,object>("diagnosis",_Diagnosis);
      if (_Procedure?.Any() is true && !_Procedure.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ProcedureComponent>>()) yield return new KeyValuePair<string,object>("procedure",_Procedure);
      if (_PrecedenceElement is not null && !_PrecedenceElement.InOverflow<Hl7.Fhir.Model.PositiveInt>()) yield return new KeyValuePair<string,object>("precedence",_PrecedenceElement);
      if (_Insurance?.Any() is true && !_Insurance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.InsuranceComponent>>()) yield return new KeyValuePair<string,object>("insurance",_Insurance);
      if (_Accident is not null && !_Accident.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.AccidentComponent>()) yield return new KeyValuePair<string,object>("accident",_Accident);
      if (_Item?.Any() is true && !_Item.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.ItemComponent>>()) yield return new KeyValuePair<string,object>("item",_Item);
      if (_AddItem?.Any() is true && !_AddItem.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AddedItemComponent>>()) yield return new KeyValuePair<string,object>("addItem",_AddItem);
      if (_Adjudication?.Any() is true && !_Adjudication.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.AdjudicationComponent>>()) yield return new KeyValuePair<string,object>("adjudication",_Adjudication);
      if (_Total?.Any() is true && !_Total.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.TotalComponent>>()) yield return new KeyValuePair<string,object>("total",_Total);
      if (_Payment is not null && !_Payment.InOverflow<Hl7.Fhir.Model.ExplanationOfBenefit.PaymentComponent>()) yield return new KeyValuePair<string,object>("payment",_Payment);
      if (_FormCode is not null && !_FormCode.InOverflow<Hl7.Fhir.Model.CodeableConcept>()) yield return new KeyValuePair<string,object>("formCode",_FormCode);
      if (_Form is not null && !_Form.InOverflow<Hl7.Fhir.Model.Attachment>()) yield return new KeyValuePair<string,object>("form",_Form);
      if (_ProcessNote?.Any() is true && !_ProcessNote.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.NoteComponent>>()) yield return new KeyValuePair<string,object>("processNote",_ProcessNote);
      if (_BenefitPeriod is not null && !_BenefitPeriod.InOverflow<Hl7.Fhir.Model.Period>()) yield return new KeyValuePair<string,object>("benefitPeriod",_BenefitPeriod);
      if (_BenefitBalance?.Any() is true && !_BenefitBalance.InOverflow<List<Hl7.Fhir.Model.ExplanationOfBenefit.BenefitBalanceComponent>>()) yield return new KeyValuePair<string,object>("benefitBalance",_BenefitBalance);
    }

  }

}

// end of file
